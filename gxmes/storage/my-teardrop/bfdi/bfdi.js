(()=>{"use strict";var e={d:(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{Do:()=>nt,oG:()=>at,YO:()=>Je,id:()=>tt,CV:()=>it,IW:()=>Ze,WK:()=>$e});let t={coins:20,fridge:["","","","","","","","","","","","","","","","","","","","","","",""]},i={happiness:15,hunger:20,sleep:20,sleeping:!1,progress:0,progressNeeded:200,aprilFools:100,aprilFoolsDone:!1,aprilFoolsStarted:!1,aprilFoolsState:0},n={level:1,skipIntro:!1,costume:"none",lastLogin:Date.now(),inGame:!1,sfx:!0,music:!0,minigameMusic:!0,minigameCostumes:!0,drinksFed:0,lemonsFed:0,totalSlaps:0,lastFridgePage:0,HQSprites:!1,language:"en-US",temporaryInGameTime:0,musicVolume:1,sfxVolume:1,HDrecommendation:!1,introMode:!1,gameStartDate:0,saveFileWarning:!1,levelUpCostumes:!0,privateBeta:!1,safeArea:!1,controllerProfile:{GTTTATINT:{buttons:{a:{x:-150,y:-50,lock:1},d:{x:-50,y:-50,lock:1}," ":{x:100,y:-50,lock:0}},buttonScale:.5}},extendAnimationFrames:!1,lollipopMode:-1,defaultAspectRatio:{width:9,height:16},events:{christmas:!1},minigames:{faceMatch:{progressState:{}}},dropletsOnline:"no online features! noooo!!",genuineLastLogin:Date.now(),enableSync:!1,syncing:!0,aprilFools1:!1,limitResolution:!0,typing:!1,resizing:!1,resizingTimer:60,gameSpeed:1,dodgeEditor:[],specialAchievementStuff:{}};function a(e="",t=16,i="left",n="top",a){let o="MenuShag";1==a&&(o="ShagBlack"),2==a&&(o="ShagBlueNumber"),3==a&&(o="ShagGoldenNumber"),4==a&&(o="IndieFlowerDodge");let r=new PIXI.BitmapText(e,{fontSize:t,fontName:o,align:i});return"center"==i&&r.anchor.set(.5,.5),"middle"==n&&r.anchor.set(0,.5),r}Date.now()<173611074e4&&(n.events.christmas=!0),n.privateBeta&&(n.level=0,i.progressNeeded=2**32,i.progress=0,n.skipIntro=!0,t.coins=1e6,i.hunger=100,i.sleep=100,i.happiness=100,n.saveFileWarning=!0);let o={settings:{HQSprites:"HD Sprites",music:"Music",minigameMusic:"Minigame Music",minigameCostumes:"Minigame Costumes",sfx:"SFX",enableReload:"Enabling this requires a reload of the game!",disableReload:"Disabling this requires a reload of the game!"},intro:{mail:"You've got mail! Click/Tap on it.",hey:"HEY!",who:"Who was that?"},dialogue:{greet:"Hi, I am teardrop! Thank you for looking after my package. Sorry if I startled you!",greet2:"What a great start! I'm Teardrop. Nice to meet you!",yoyleberryinvitation:"Let's snack on some regular cake!",fridgeHelp:"Put the food in the plate by going to the fridge!",wheelHelp:"Press and hold the happiness button to launch the wheel of fun."},food:{regularcake:"Regular Cake",icecreamcake:"Ice Cream Cake",icycake:"Icy Cake",limecake:"Lime Cake",blueberry:"Blueberry",strawberry:"Strawberry",strawberrycake:"Strawberry Cake",candy:"Candy Bar",sleeppotion:"Awakening Potion",maxpotion:"Max Potion",sourlemon:"Lemon",fries:"Fries",donut:"Donut",burntTaco:"Burnt Taco"},ui:{shop:"SHOP",fridge:"FRIDGE",owned:"OWNED",preview:"PREVIEW",get:"GET",wear:"WEAR",wearing:"WEARING",continue:"Continue",mph:"mph",score:"Score",skipIntro:"Skip Intro",gameOver:"Game Over!",gamePaused:"Game Paused",comingsoon:"more coming soon..",info:"INFO",artist:"Artist",achievements:"Achievements",games:"Games",wardrobe:"Wardrobe",settings:"Settings",reload:"Reload",cancel:"Cancel",home:"Home",play:"Play",newLevel:"New level",continueUpperCase:"CONTINUE",notEnoughCoins:"Not enough coins!",notEnoughSpace:"Not enough space!",altitude:"altitude",accuracy:"Accuracy",leave:"Leave",next:"Next",average:"Average",ignore:"Ignore",translator:"Translator",language:"Language"},message:{obtainCostume:"To obtain this costume, complete the {achievement} achievement.",hungry:"Teardrop is really hungry! Let's feed her.",sleepy:"Teardrop is feeling a little sleepy. Let her get some rest!",sleeping:"Teardrop is taking a nap.",updateWarning:"New update is out!\nCurrent version: {currentVersion}\nLatest version: {latest}\nThe game will be automatically updated after reloading."},crashHandler:{whoops:"Whoops!\nmyTeardrop has run into a problem...",description:"The game might work fine if you continue,\nbut I recommend you to reload anyway.\n\nIf the problem persists, please report the error\nby copying the error text and sending it\n over to the discord server.",copyErrorText:"Copy Error Text"},games:{gtttatint:"GTTTATINT101",dropdodge:"Drop Dodge",tennis:"Drop Tennis",match:"Face Match",cakewalk:"CAKEWALK"},costumes:{none:"NONE",uglysweater:"Ugly Sweater",uglysweater2:"tennis sweater",_td_costume1:"Water Moth",_td_costume2:"Marauder Droplet",_td_costume3:"La larme",_td_costume4:"Wine Drop",_td_costume5:"Blood Drop",honeydrop:"Honey Drop",orangedrop:"Orange Drop",drippydrop:"Drippy Drop",glassdrop:"Glass Drop",classic:"The Silent Type",golden:"Golden Drop",light:"Light Teardrop",magician:"Magician Drop",oyuidrop:"Oyui Drop",lemon:"Lemonade",sportsdrop:"Sportsdrop",limedrop:"Lime Drop",jockdrop:"Jock Drop",energydrink:"Energy Drink"},get2763intennis:{title:"Drop Tennis",description:"Get 2763 score in Drop Tennis minigame"},winagameoftennis:{title:"Drop Tennis",name:"Drop Tennis Victory",description:"Win a game of Drop Tennis"},get2763gtttatint:{title:"GTTTATINT",description:"Get 2763 score in GTTTATINT"},slapTD2763:{title:"Ultimate Slapper",description:"Slap Teardrop 2763 times"},get2763:{title:"2763...",description:"Complete every achievement about the number 2763"},lemons:{title:"Lemon Factory",name:"Lemon Factory",description:"Feed Teardrop 100 lemons"},get10perfectsCAKEWALK:{title:"Easy as Cake!",description:"Get 10 perfects in a row on CAKEWALK"},"2763lemons":{title:"Soured out!",name:"Soured out!",description:"Feed Teardrop 2763 lemons"},perfectfacematch:{title:"No difference",name:"No difference",description:"Get a 100% in Face Match"},"10energydrinks":{title:"No sleep",name:"No sleep",description:"Feed Teardrop 10 Awakening Potions"},"5minuteGTTTATINT":{title:"Leg Day",name:"Leg Day",description:"Spend 2 minutes at 2mph or higher in GTTTATINT in a single game"},score:{perfect:"PERFECT",good:"Good!",nice:"Nice!",meh:"Meh",bad:"BAD"}},r=(window.innerWidth,window.innerWidth/window.innerHeight*640>=360),s=window.innerHeight/640,l=window.innerWidth/window.innerHeight*640,d=640;0==r&&(l=360,d=window.innerHeight/window.innerWidth*360,s=window.innerWidth/360),l=Math.min(1500,l),d=Math.min(1e3,d),n.limitResolution||(l=window.innerWidth,d=window.innerHeight,s=1);const c=new PIXI.Application({background:"#00000000",width:l,height:d,resolution:s*window.devicePixelRatio});window.onresize=function(){r=window.innerWidth/window.innerHeight*640>=360,s=window.innerHeight/640,l=window.innerWidth/window.innerHeight*640,d=640,0==r&&(l=360,d=window.innerHeight/window.innerWidth*360,s=window.innerWidth/360),c.renderer.resolution=s*window.devicePixelRatio,l=Math.min(1500,l),d=Math.min(1e3,d),c.renderer.resize(l,d),nt&&(Ye.width=c.screen.width,Ye.height=c.screen.height,Qe.width=c.screen.width,Qe.height=c.screen.height)};let h={tearDropWatch:{Idle:{start:0,end:239,loop:!0},percent90:{start:240,end:319,loop:!1},percent75:{start:320,end:399,loop:!1},percent50:{start:400,end:479,loop:!1},percent10:{start:480,end:559,loop:!1},Laugh:{start:560,end:803,loop:!1},percent100:{start:805,end:887,loop:!1}},Box:{Jump:{start:0,end:239,loop:!0},Click1:{start:240,end:299,loop:!1},Click2:{start:300,end:351,loop:!1},Steal:{start:359,end:376,loop:!1}},Teardrop:{Eat:{start:1001,end:1123,loop:!1},Wave:{start:0,end:328,loop:!1},Slap:{start:329,end:453,loop:!1},BookOpen:{start:509,end:730,loop:!1},Write:{start:731,end:857,loop:!0},SendMessage:{start:858,end:1e3,loop:!1},Nope:{start:1125,end:1198,loop:!1},Look:{start:1199,end:1336,loop:!1},Look2:{start:1337,end:1468,loop:!1},Pat:{start:1468,end:1511,loop:!1},PatStop:{start:1512,end:1545,loop:!1},Idle:{start:315,end:316,loop:!0},Realize:{start:1546,end:1685,loop:!1},EatSour:{start:1686,end:1869,loop:!1},Look3:{start:2400,end:2521,loop:!1},Wave2:{start:2522,end:2711,loop:!1},EatVoid:{start:2712,end:2834,loop:!1},Panic:{start:2835,end:2937,loop:!1},Explode:{start:2938,end:2943,loop:!1}},TeardropTired:{Sleep:{start:441,end:474,loop:!1},Sleepy:{start:350,end:440,loop:!1},Eat:{start:1001,end:1123,loop:!1},Wave:{start:0,end:328,loop:!1},Idle:{start:0,end:239,loop:!0},Slap:{start:240,end:349,loop:!1},BookOpen:{start:509,end:730,loop:!1},Write:{start:731,end:857,loop:!0},SendMessage:{start:858,end:1e3,loop:!1},Nope:{start:1125,end:1198,loop:!1},Look:{start:1199,end:1336,loop:!1},Look2:{start:1337,end:1468,loop:!1},Pat:{start:483,end:527,loop:!1},PatStop:{start:528,end:577,loop:!1}},Needle:{0:{start:0,end:20,loop:!0},1:{start:57,end:193,loop:!1},2:{start:331,end:440,loop:!1}},Leafy:{0:{start:0,end:20,loop:!0},1:{start:57,end:193,loop:!1},2:{start:331,end:440,loop:!1}},Coiny:{0:{start:0,end:39,loop:!0},1:{start:40,end:221,loop:!1},2:{start:222,end:329,loop:!1}},Spongy:{0:{start:0,end:39,loop:!0},1:{start:40,end:221,loop:!1},2:{start:222,end:329,loop:!1}},Pin:{0:{start:0,end:39,loop:!0},1:{start:40,end:221,loop:!1},2:{start:222,end:329,loop:!1}},Rocky:{0:{start:0,end:39,loop:!0},1:{start:40,end:221,loop:!1},2:{start:222,end:329,loop:!1}},"Ice Cube":{0:{start:0,end:39,loop:!0},1:{start:40,end:221,loop:!1},2:{start:222,end:329,loop:!1}},tearDropTennis:{prepare:{start:0,end:11,loop:!1},hit:{start:12,end:65,loop:!1}},dropletDodge:{Idle:{start:0,end:239,loop:!0},Running:{start:240,end:259,loop:!0},Jump:{start:260,end:324,loop:!1},Hurt:{start:325,end:432,loop:!1},Push:{start:433,end:467,loop:!0},Bonk:{start:468,end:532,loop:!1}},Toilet:{Open:{start:0,end:39,loop:!1},Close:{start:40,end:70,loop:!1},Explode:{start:71,end:150,loop:!1},Plunger:{start:151,end:160,loop:!1},putPlunger:{start:161,end:239,loop:!1}}},p={_linear:function(e,t,i,n){return e*(1-i)+t*i},linear:function(e,t,i,n=1){if(1==n)return p._linear(e,t,i);let a=n,o=1-i;return p._linear(e,t,1-Math.pow(o,a))}},u={teardrop:{name:"tear_drop_bfb"},jacknjellify:{name:"jacknjellify"},vendormint:{name:"vendormint"},stevencrack:{name:"Stevencrack",icon:3},thinking909:{name:"Oyui"},briteideajuni:{name:"Juniper/Noelle"},bluesky:{name:"doodlesdesire"},cringeindividual:{name:"Roxamations"},jampu:{name:"Jampu"},kyle:{name:"kyle9341"},tyblade:{name:"tyblade9"},maple2:{name:"maple_two"},dialup:{name:"jp_miri",icon:2},coconut7:{name:"coconut7"},dopozy:{name:"dopozy"},gstbw:{name:"gst.bw"},forkiplier:{name:"forkiplier"},frostthesleepyone:{name:"FROST"},starspawn:{name:"jimmy / stars.pawn"},flanimations:{name:"Flanimations",icon:1},zxcubed:{name:"zxcubed",icon:4},justdanoobxdd:{name:"justdanoobxdd"},bogglesussy:{name:"BoggleRealSussy"},eri_5i:{name:"eri_5i"},swaggerrimunchies:{name:"Swaggers"},hazzrde:{name:"hazzrde"},hbzisback:{name:"Temazu_"},pankocrash:{name:"pankocrash / b-sides"},kaidkrazyest:{name:"Dazzlecat / kaidkrazyest"},adxmz_vll:{name:".chocodrop."},chaosticies:{name:"Chaosticies - Knifey!!",shortName:"Knifey!!"},gokci:{name:"Gokci"},sillyqfx:{name:"sillyqfx"},stonebone:{name:"stone bone"},leeku:{name:"Leeku!!"},irisbreaker:{name:"irisbreaker"},fixoukk:{name:"fixoukk"},pepsican:{name:"pepsi.can"}};function m(e,t,i=1,n=!0){let a=[];for(let e=0;e<xe["Sprites/Bodies"].length;e++)a.push(xe["Sprites/Bodies"][e]);let o="Sprites/BodiesCostume_";n||(o="Sprites/BodiesCostume"),a[47]=xe[o+i][t],a[48]=xe[o+i][t+1];let r=e.currentFrame;e.textures=a,e.gotoAndStop(r)}let y={none:{name:o.costumes.none,sprite:0,cost:0,owned:!0,apply:function(e,t=0,i,n){let a;switch(t){case 0:a=[e.b,e.c,e.a.d,e.a.e,e.a.f,e.a.g,e.a.h,e.a.j,e.a.k,e.a.i];break;case 1:a=[e.a.d,e.a.e,e.a.f,e.a.g,e.a.h,e.a.j,e.a.k,e.a.i]}e.a.sortDirty=!0;for(let e=0;e<a.length;e++){let t=a[e];t.layerOffset=void 0,t.scaleOffset=void 0,t.tint=16777215,t.zIndex=0;let i=t.symbol.split("/")[1];v(t,"Sprites/"+i)}if(e.a.layerOffset=void 0,e.a.scaleOffset=void 0,1!=n&&null!=e.a.children){for(let t=0;t<e.a.children.length;t++)e.a.children[t].zIndex=t;e.a.sortableChildren=!1}e.filters=[],e.fpsFactor=1}},uglysweater:{name:o.costumes.uglysweater,sprite:2,artist:u.jacknjellify,cost:600,owned:!1,apply:function(e,t){y.none.apply(e,t),m(e.a.i,0),v(e.a.j,"Sprites/LimbsCostume1"),v(e.a.k,"Sprites/LimbsCostume1")}},uglysweater2:{name:"tennis sweater",sprite:2,artist:u.jacknjellify,cost:0,owned:!1,hidden:!0,apply:function(e,t){y.none.apply(e,t),m(e.a.i,4),v(e.a.j,"Sprites/LimbsCostume1"),v(e.a.k,"Sprites/LimbsCostume1")}},_td_costume1:{name:o.costumes._td_costume1,sprite:3,artist:u.teardrop,cost:600,owned:!1,apply:function(e,t){y.none.apply(e,t),v(e.a.d,"Sprites/Empty"),m(e.a.i,2)}},_td_costume2:{name:o.costumes._td_costume2,artist:u.teardrop,sprite:4,cost:600,owned:!1,apply:function(e,t){y.none.apply(e,t),m(e.a.i,6)}},_td_costume3:{name:o.costumes._td_costume3,artist:u.teardrop,sprite:5,cost:500,owned:!1,apply:function(e,t){y.none.apply(e,t),m(e.a.i,8)}},_td_costume4:{name:o.costumes._td_costume4,sprite:10,cost:500,owned:!1,color:16753054,artist:u.teardrop,apply:function(e,t){y.none.apply(e,t),m(e.a.i,18),v(e.a.d,"Sprites/MouthsCostume10")}},_td_costume5:{name:o.costumes._td_costume5,sprite:19,cost:1600,owned:!1,color:16739174,artist:u.teardrop,apply:function(e,t){y.none.apply(e,t),m(e.a.i,39);let i=new PIXI.Sprite(xe["Sprites/BodiesCostume_1"][41]);x(i,e.a,0,.95,20),i.x=15,i.y=120,i.zIndex=-1,i.scale.x=-1;let n=new PIXI.Sprite(xe["Sprites/BodiesCostume_1"][41]);x(n,e.a,0,.95,20),n.x=110.5,n.y=120,n.zIndex=-1,e.a.sortableChildren=!0,e.destroyCostume=function(){n.destroyPhysics(),i.destroyPhysics()}},applyMinigame:function(e,t){y.none.apply(e,t),m(e.a.i,42)}},honeydrop:{name:o.costumes.honeydrop,sprite:11,cost:700,owned:!1,color:16772979,artist:u.briteideajuni,apply:function(e,t){y.none.apply(e,t),m(e.a.i,20)}},orangedrop:{name:o.costumes.orangedrop,sprite:12,cost:500,owned:!1,color:16768184,artist:u.thinking909,apply:function(e,t){y.none.apply(e,t),m(e.a.i,22)}},drippydrop:{name:o.costumes.drippydrop,sprite:14,cost:500,owned:!1,artist:u.bluesky,apply:function(e,t){y.none.apply(e,t),m(e.a.i,24)}},glassdrop:{name:o.costumes.glassdrop,sprite:13,cost:300,owned:!1,color:12113151,artist:u.cringeindividual,apply:function(e,t){y.none.apply(e,t),m(e.a.i,26)}},classic:{name:o.costumes.classic,sprite:1,artist:u.jacknjellify,cost:200,owned:!1,apply:function(e,t=0){let i;switch(y.none.apply(e,t),t){case 0:i=[e.b,e.c,e.a.d,e.a.e,e.a.f,e.a.g,e.a.h,e.a.i,e.a.j,e.a.k];break;case 1:i=[e.a.d,e.a.e,e.a.f,e.a.g,e.a.h,e.a.i,e.a.j,e.a.k]}for(let e=0;e<i.length;e++){let t=i[e],n=t.symbol.split("/")[1];v(t,"oldiesCostume/"+n)}}},outline:{name:"teardrop's deep dark secret. do not use this costume under any circumstances!",sprite:1,artist:u.jacknjellify,cost:0,owned:!1,hidden:!0,apply:function(e,t=0){let i;switch(t){case 0:i=[e.b,e.c,e.a.d,e.a.e,e.a.f,e.a.g,e.a.h,e.a.i,e.a.j,e.a.k];break;case 1:i=[e.a.d,e.a.e,e.a.f,e.a.g,e.a.h,e.a.i,e.a.j,e.a.k]}for(let e=0;e<i.length;e++){let t=i[e];null!=xe[t.symbol+"OUTLINE12"]&&v(t,t.symbol+"OUTLINE12")}}},golden:{name:o.costumes.golden,sprite:6,cost:5e4,owned:!1,color:16774556,artist:u.vendormint,apply:function(e,t){y.none.apply(e,t),m(e.a.i,10)}},light:{name:o.costumes.light,sprite:8,cost:200,owned:!1,artist:u.stevencrack,apply:function(e,t){y.none.apply(e,t),m(e.a.i,14)}},magician:{name:o.costumes.magician,sprite:16,cost:300,owned:!1,artist:u.kyle,apply:function(e,t){y.none.apply(e,t),m(e.a.i,30)}},oyuidrop:{name:o.costumes.oyuidrop,sprite:18,cost:1600,color:13369246,owned:!1,artist:u.thinking909,apply:function(e,t){y.none.apply(e,t),m(e.a.i,34),v(e.a.j,"Sprites/Empty"),v(e.a.k,"Sprites/Empty");let i=new PIXI.Sprite(xe["Sprites/BodiesCostume_1"][37]);x(i,e.a,0,.95,10),i.x=100,i.y=20;let n=new PIXI.Sprite(xe["Sprites/BodiesCostume_1"][36]);x(n,e.a,0,.95,15),n.x=90,n.y=120,n.zIndex=-1,e.a.sortableChildren=!0,e.destroyCostume=function(){i.destroyPhysics(),n.destroyPhysics()}},applyMinigame:function(e,t){y.none.apply(e,t),m(e.a.i,38),v(e.a.j,"Sprites/Empty"),v(e.a.k,"Sprites/Empty")}},chocodrop:{name:"Choco-Drop",sprite:21,cost:800,owned:!1,color:14917741,artist:u.vendormint,apply:function(e,t){y.none.apply(e,t),m(e.a.i,45)}},pineapple:{name:"Pineapple",sprite:22,cost:1e3,owned:!1,drawnBy:u.dialup,color:16766369,artist:u.thinking909,apply:function(e,t){y.none.apply(e,t),m(e.a.i,47)}},mintdrop:{name:"Minty Drop",sprite:23,cost:600,owned:!1,color:12779497,artist:u.vendormint,apply:function(e,t){y.none.apply(e,t),m(e.a.i,49)}},oildrop:{name:"Oil Drop",sprite:24,artist:u.coconut7,cost:700,owned:!1,color:1184031,animation:{tired:"TeardropTiredOIL",awake:"TeardropOIL"},facePosition:{x:0,y:0},generateAnimations:function(){let e=function(e,t){let i=JSON.parse(JSON.stringify(we[e]));return i.symbols.TeardropBody=we[t],i};we.TeardropOIL=e("Teardrop","oilTeardropBody"),we.TeardropTiredOIL=e("TeardropTired","oilTeardropTiredBody")},apply:function(e,t=0){y.none.apply(e,t),m(e.a.i,51),v(e.a.e,"Sprites/EyesCostume25"),v(e.a.f,"Sprites/EyesCostume25"),v(e.a.g,"Sprites/EyesCostume25"),v(e.a.h,"Sprites/EyesCostume25"),v(e.a.d,"Sprites/MouthsCostume25")}},knightdrop:{name:"Knight Drop",requiredLevel:25,sprite:25,cost:1400,owned:!1,color:16732524,drawnBy:u.dialup,animation:{tired:"TeardropTiredKNIGHT",awake:"TeardropKNIGHT"},artist:u.thinking909,facePosition:{x:0,y:0},generateAnimations:function(){let e=function(e){let t=JSON.parse(JSON.stringify(we[e])),i=t.symbols.TeardropBody;function n(e,t,i,n=1){for(let a=0;a<e.frames.length;a++){let o=e.frames[a];null!=o[1]&&(o[1]+=t,o[2]+=i,o[3]*=n,o[6]*=n)}}return n(i.layers.d,-3,5,.9),n(i.layers.e,-3,7),n(i.layers.g,-3,7),n(i.layers.f,-3,7),n(i.layers.h,-3,7),t};we.TeardropKNIGHT=e("Teardrop"),we.TeardropTiredKNIGHT=e("TeardropTired")},apply:function(e,t,i=!0){y.none.apply(e,t),m(e.a.i,53)},applyMinigame:function(e){m(e.a.i,53)}},galaxydrop:{name:"Galaxy Drop",sprite:27,artist:u.dialup,cost:-1,owned:!1,color:12880895,achievement:["get15000gtttatint","1000altitudeCAKEWALK"],checkAvailability:function(){let e=["get15000gtttatint","1000altitudeCAKEWALK"],t=!0;for(let i=0;i<e.length;i++)1!=H[e[i]].done&&(t=!1);return t},apply:function(e,t=0){y.none.apply(e,t),m(e.a.i,57),v(e.a.e,"Sprites/EyesCostume25"),v(e.a.f,"Sprites/EyesCostume25"),v(e.a.g,"Sprites/EyesCostume25"),v(e.a.h,"Sprites/EyesCostume25"),v(e.a.d,"Sprites/MouthsCostume25")}},sundrop:{name:"Sun Drop",sprite:28,cost:1200,owned:!1,color:16638347,amountOfVotes:245,artist:u.thinking909,apply:function(e,t){y.none.apply(e,t),m(e.a.i,0,"september2024")}},coladrop:{name:"Cola Drop",sprite:29,cost:800,owned:!1,color:8737368,amountOfVotes:192,artist:u.dopozy,apply:function(e,t){y.none.apply(e,t),m(e.a.i,2,"september2024"),v(e.a.e,"Sprites/EyesCostume25"),v(e.a.f,"Sprites/EyesCostume25"),v(e.a.g,"Sprites/EyesCostume25"),v(e.a.h,"Sprites/EyesCostume25"),v(e.a.d,"Sprites/MouthsCostume25")}},tropical:{name:"Tropical Drop",sprite:30,cost:1200,owned:!1,color:7465469,amountOfVotes:148,artist:u.gstbw,apply:function(e,t){y.none.apply(e,t),m(e.a.i,4,"september2024")}},moondrop:{name:"Moon Drop",sprite:31,cost:1200,owned:!1,color:2565182,amountOfVotes:138,drawnBy:u.stevencrack,artist:u.forkiplier,apply:function(e,t){y.none.apply(e,t),m(e.a.i,6,"september2024"),e.a.e,e.a.f,e.a.g,e.a.h,e.a.d,v(e.a.e,"Sprites/EyesCostume25"),v(e.a.f,"Sprites/EyesCostume25"),v(e.a.g,"Sprites/EyesCostume25"),v(e.a.h,"Sprites/EyesCostume25"),v(e.a.d,"Sprites/MouthsCostume25"),e.a.f.tint=2170420,e.a.h.tint=2170420}},clouddrop:{name:"Cloud Drop",sprite:32,cost:1e3,owned:!1,color:11719153,amountOfVotes:120,drawnBy:u.flanimations,artist:u.frostthesleepyone,apply:function(e,t){y.none.apply(e,t),m(e.a.i,8,"september2024");let i=new PIXI.Sprite(xe["Sprites/BodiesCostume_september2024"][10]);x(i,e,0,.9,22,!0,e.a),i.offset.x=-50,i.offset.y=-105,i.zIndex=-1,i.scale.x=-1;let n=new PIXI.Sprite(xe["Sprites/BodiesCostume_september2024"][11]);x(n,e,0,.93,25,!0,e.a),n.offset.x=40,n.offset.y=-90,n.zIndex=e.a.i.zIndex+1,e.sortableChildren=!0,e.destroyCostume=function(){n.destroyPhysics(),i.destroyPhysics()}},applyMinigame:function(e,t){y.none.apply(e,t),m(e.a.i,12,"september2024")}},sealdrop:{name:"Seal Drop",sprite:33,cost:1200,owned:!1,color:15193786,amountOfVotes:108,drawnBy:u.flanimations,artist:u.starspawn,apply:function(e,t,i){y.none.apply(e,t),m(e.a.i,13,"september2024"),v(e.a.j,"Sprites/Empty"),v(e.a.k,"Sprites/Empty"),v(e.a.d,"Sprites/MouthsCostume10");let n=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];if("tennis"==i){for(let e=0;e<n.length;e++)n[e].layerOffset={x:3,y:15};e.a.d.layerOffset={x:3,y:15}}else if("faceMatch"==i){for(let e=0;e<n.length;e++)n[e].layerOffset={x:-5,y:16};e.a.d.layerOffset={x:-3,y:12}}else{for(let e=0;e<n.length;e++)n[e].layerOffset={x:-3,y:15};e.a.d.layerOffset={x:-3,y:15}}}},aoracedrop:{name:"Aroacedrop",sprite:34,cost:1e3,owned:!1,color:15446392,amountOfVotes:102,drawnBy:u.dialup,artist:u.justdanoobxdd,apply:function(e,t){y.none.apply(e,t),m(e.a.i,15,"september2024")}},gumdrop:{name:"Gumdrop",sprite:35,cost:1e3,owned:!1,color:16564468,amountOfVotes:94,drawnBy:u.stevencrack,artist:u.bogglesussy,apply:function(e,t){y.none.apply(e,t),m(e.a.i,17,"september2024")}},softdrink:{name:"Softdrink Drop",sprite:36,cost:1600,owned:!1,color:7859168,amountOfVotes:129,artist:u.eri_5i,drawnBy:u.zxcubed,apply:function(e,t,i){y.none.apply(e,t),m(e.a.i,19,"september2024");let n=new PIXI.Sprite(xe["Sprites/BodiesCostume_september2024"][21]);x(n,e.a,0,.95,20),n.x=90,n.y=130,n.zIndex=-1,e.a.sortableChildren=!0,e.destroyCostume=function(){n.destroyPhysics()};let a=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<a.length;e++)a[e].layerOffset={x:0,y:6};e.a.d.layerOffset={x:0,y:4}},applyMinigame:function(e,t){y.none.apply(e,t),m(e.a.i,22,"september2024")}},glorp:{name:"Glorplet",sprite:37,cost:1600,owned:!1,color:10485638,amountOfVotes:120,drawnBy:u.zxcubed,artist:{name:u.swaggerrimunchies.name+", "+u.hazzrde.name},apply:function(e,t){y.none.apply(e,t),m(e.a.i,23,"september2024"),e.a.static=!0,e.b.static=!0,e.c.static=!0,e.d.static=!0,v(e.b,"Sprites/Empty"),v(e.c,"Sprites/Empty");let n={x:e.a.x,y:e.a.y-20};e.a.x=-10,e.a.y=-50,w(e.a,n);let a=1.5*e.d.scale.x,o=e.d.scale.y,r=function(){e.a.orbitSpeed=p.linear(e.a.orbitSpeed,i.sleeping?.25:1,.01,it),e.d.x=e.a.x,e.d.scale.x=e.a.y/60*a,e.d.scale.y=e.a.y/60*o,s.updateTransform(),e.updateTransform(),l.transform.setFromMatrix((new PIXI.Matrix).append(e.a.transform.localTransform,s.transform.localTransform));let t=new PIXI.Matrix(1,0,0,1,s.x,s.y);t.rotate(e.a.rotation),l.x+=t.tx,l.y+=t.ty};c.ticker.add(r);let s=new PIXI.Sprite(xe["Sprites/BodiesCostume_september2024"][26]);e.a.addChild(s),s.anchor.set(.5,.5),s.x=e.a.i.x,s.y=e.a.i.y,console.log(s.transform);let l=new PIXI.Sprite(xe["Sprites/BodiesCostume_september2024"][25]);e.addChild(l),l.anchor.set(.5,.5),e.sortableChildren=!0,e.a.sortableChildren=!0,l.zIndex=-1,s.zIndex=e.a.i.zIndex+1,e.a.j.zIndex=e.a.i.zIndex+2,e.a.k.zIndex=e.a.i.zIndex+2,setTimeout((function(){e.a.j.lockLayerPosition=!0,e.a.k.lockLayerPosition=!0}),100),e.a.j.layerOffset={x:6,y:-20},e.a.k.layerOffset={x:-6,y:-20},e.destroyCostume=function(){e.a.static=!1,e.b.static=!1,e.c.static=!1,e.d.static=!1,e.a.destroyPhysics(),c.ticker.remove(r),s.destroy(),l.destroy()}},applyMinigame:function(e,t,i){if(y.none.apply(e,t),m(e.a.i,27,"september2024"),1!=t?(v(e.b,"Sprites/Empty"),v(e.c,"Sprites/Empty"),"level"!=i&&"levelLayer2"!=i&&(e.tearDrop.sortableChildren=!0,e.a.j.zIndex=e.a.i.zIndex+2,e.a.k.zIndex=e.a.i.zIndex+2)):e.a.j.layerOffset={x:0,y:-10},"tennis"==i){let t={x:e.tearDrop.x,y:e.tearDrop.y};e.tearDrop.x-=5,e.tearDrop.y-=8,e.a.k.layerOffset={x:0,y:-10},w(e.tearDrop,t),e.tearDrop.destroyCostume=function(){e.tearDrop.destroyPhysics()}}}},waffle:{name:"Waffle Drop",sprite:38,cost:1200,owned:!1,color:4949483,amountOfVotes:112,drawnBy:u.zxcubed,artist:u.hbzisback,apply:function(e,t){y.none.apply(e,t),m(e.a.i,28,"september2024");let i=new PIXI.AnimatedSprite(xe["Sprites/Limbs"]);i.gotoAndStop(8),e.a.addChild(i),e.a.sortableChildren=!0,i.zIndex=-2;let n=new PIXI.AnimatedSprite(xe["Sprites/Limbs"]);n.gotoAndStop(8),e.a.addChild(n),n.zIndex=-2;let a=function(){e.a.k.updateTransform(),n.transform.setFromMatrix(e.a.k.transform.localTransform),n.x=e.a.k.x+8,n.y=e.a.k.y+10,n.skew.x+=.5,n.skew.y-=.5,n.gotoAndStop(e.a.k.currentFrame),n.pivot.set(e.a.k.pivot.x,e.a.k.pivot.y),e.a.j.updateTransform(),i.transform.setFromMatrix(e.a.j.transform.localTransform),i.x=e.a.j.x-8,i.y=e.a.j.y+10,i.skew.x-=.5,i.skew.y+=.5,i.gotoAndStop(e.a.j.currentFrame),i.pivot.set(e.a.j.pivot.x,e.a.j.pivot.y)};c.ticker.add(a),e.destroyCostume=function(){c.ticker.remove(a),i.destroy(),n.destroy()}},applyMinigame:function(e,t,i){if(y.none.apply(e,t,i,!0),m(e.a.i,28,"september2024"),"levelLayer2"==i)return;let n=new PIXI.AnimatedSprite(xe["Sprites/Limbs"]);n.gotoAndStop(8);let a=new PIXI.AnimatedSprite(xe["Sprites/Limbs"]);function o(e){e.rotation<0?e.rotation+=.5:e.rotation-=.5}a.gotoAndStop(8),"faceMatch"==i||"level"==i?(e.a.addChild(n),e.a.addChild(a)):(e.tearDrop.addChild(n),e.tearDrop.addChild(a));let r=function(){e.a.k.updateTransform(),a.transform.setFromMatrix(e.a.k.transform.localTransform),a.gotoAndStop(e.a.k.currentFrame),a.pivot.set(e.a.k.pivot.x,e.a.k.pivot.y),e.a.j.updateTransform(),n.transform.setFromMatrix(e.a.j.transform.localTransform),"level"==i?(a.x=p.linear(e.a.k.x,e.a.i.x,.2),a.y=e.a.k.y+10,n.x=p.linear(e.a.j.x,e.a.i.x,.2),n.y=e.a.j.y+10,o(n),o(a)):(a.x=e.a.k.x+8,a.y=e.a.k.y+10,n.x=e.a.j.x-8,n.y=e.a.j.y+10,a.skew.x+=.5,a.skew.y-=.5,n.skew.x-=.5,n.skew.y+=.5),n.gotoAndStop(e.a.j.currentFrame),n.pivot.set(e.a.j.pivot.x,e.a.j.pivot.y)};c.ticker.add(r),"faceMatch"==i||"level"==i?(e.sortableChildren=!0,e.destroyCostume=function(){c.ticker.remove(r),n.destroy(),a.destroy()}):(e.tearDrop.sortableChildren=!0,e.tearDrop.destroyCostume=function(){c.ticker.remove(r),n.destroy(),a.destroy()}),e.a.sortableChildren=!0,n.zIndex=-2,a.zIndex=-2}},popdrop:{name:"Popdrop",sprite:39,cost:800,owned:!1,color:8254719,amountOfVotes:109,drawnBy:u.zxcubed,artist:u.pankocrash,apply:function(e,t){y.none.apply(e,t),m(e.a.i,30,"september2024")}},potiondrop:{name:"Potion Drop",sprite:42,cost:1500,owned:!1,color:12891902,amountOfVotes:81,artist:u.kaidkrazyest,drawnBy:u.flanimations,apply:function(e,t,n){y.none.apply(e,t),m(e.a.i,53,"september2024");let a=new PIXI.AnimatedSprite(xe["Sprites/BodiesCostume_september2024"]);a.blendMode=PIXI.BLEND_MODES.ADD;let o=new PIXI.AnimatedSprite(xe["Sprites/BodiesCostume_september2024"]);e.a.i.addChild(o),e.a.i.addChild(a);let r=new PIXI.Graphics;o.mask=r,e.a.i.addChild(r);let s=Math.floor(2763*Math.random()),l=i.happiness,d=i.hunger,h=i.sleep;function u(){let t=(Math.max(100,125-l)-100)/100,n=(Math.max(100,120-d)-100)/100;t=p.linear(t,0,n);let c=(Math.max(100,120-h)-100)/100;n=p.linear(n,0,4*c);let u={r:145/255-t-c+n,g:70/255+t-c-n,b:230/255};o.tint=new PIXI.Color([u.r,u.g,u.b]),a.gotoAndStop(e.a.i.currentFrame+8),o.gotoAndStop(e.a.i.currentFrame+10),r.clear(),r.beginFill(16777215);let m=[600,600,200,600];for(let e=0;e<160;e++)m.push(200+2.5*e),m.push(425+(100-d)/8+2*Math.cos(e/10+4*s)+10*Math.cos(e/5+s)*Math.cos(e/30+s)*Math.cos(e/100+s));l=p.linear(l,i.happiness,.05,it),d=p.linear(d,i.hunger,.05,it),h=p.linear(h,i.sleep,.05,it),r.drawPolygon(...m),r.endFill(),s+=it/40*(.4+h/100*.6)}"levelLayer2"==n&&(e.tearDrop.onNextFrame=function(){a.gotoAndStop(e.a.i.currentFrame+8),o.gotoAndStop(e.a.i.currentFrame+10)}),c.ticker.add(u);let f=function(){a.destroy(),o.destroy(),r.destroy(),c.ticker.remove(u)};"tennis"==n?e.tearDrop.destroyCostume=f:"levelLayer2"==n?e.tearDrop.destroyCostume2=f:e.destroyCostume=f}},voiddrop:{name:"Void Drop",sprite:41,cost:2e3,owned:!1,color:10456803,amountOfVotes:87,drawnBy:u.dialup,artist:u.adxmz_vll,apply:function(e,t){y.none.apply(e,t),m(e.a.i,36,"september2024"),v(e.a.e,"Sprites/EyesCostume25"),v(e.a.f,"Sprites/EyesCostume25"),v(e.a.g,"Sprites/EyesCostume25"),v(e.a.h,"Sprites/EyesCostume25"),v(e.a.d,"Sprites/Empty");let n=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<n.length;e++)n[e].layerOffset={x:0,y:6};e.a.d.layerOffset={x:0,y:4},e.a.static=!0,e.b.static=!0,e.c.static=!0,e.d.static=!0,v(e.b,"Sprites/Empty"),v(e.c,"Sprites/Empty");let a={x:e.a.x,y:e.a.y-20};e.a.x=-10,e.a.y=-50,w(e.a,a);let o=e.d.scale.x,r=e.d.scale.y,s=function(){e.a.orbitSpeed=p.linear(e.a.orbitSpeed,i.sleeping?.25:1,.01,it),e.d.x=e.a.x,e.d.scale.x=e.a.y/60*o,e.d.scale.y=e.a.y/60*r};c.ticker.add(s);let l=[];for(let e=37;e<53;e++)l.push(xe["Sprites/BodiesCostume_september2024"][e]);let d=new PIXI.AnimatedSprite(l);d.anchor.set(.5,.5),e.a.addChild(d),d.play(),d.animationSpeed=.4,d.x=e.a.i.x,d.y=e.a.i.y+70,e.a.sortableChildren=!0,d.zIndex=-1,e.destroyCostume=function(){e.a.static=!1,e.b.static=!1,e.c.static=!1,e.d.static=!1,e.a.destroyPhysics(),c.ticker.remove(s),d.destroy()}},applyMinigame:function(e,t,i){y.none.apply(e,t),m(e.a.i,36,"september2024"),v(e.a.e,"Sprites/EyesCostume25"),v(e.a.f,"Sprites/EyesCostume25"),v(e.a.g,"Sprites/EyesCostume25"),v(e.a.h,"Sprites/EyesCostume25"),v(e.a.d,"Sprites/Empty"),1!=t&&(v(e.b,"Sprites/Empty"),v(e.c,"Sprites/Empty"),"level"!=i&&"levelLayer2"!=i&&(e.tearDrop.sortableChildren=!0));let n=[];for(let e=37;e<53;e++)n.push(xe["Sprites/BodiesCostume_september2024"][e]);let a=new PIXI.AnimatedSprite(n);a.anchor.set(.5,.5),"gtttatint"==i?(e.tearDrop.addChild(a),a.x=e.tearDrop.x,a.y=e.tearDrop.y-30,e.tearDrop.sortableChildren=!0,a.zIndex=-1):"tennis"!=i&&"levelLayer2"!=i||(e.tearDrop.addChild(a),e.tearDrop.sortableChildren=!0,a.zIndex=-1,a.y=-40,"tennis"==i&&(e.a.k.lockLayerFrame=!0,e.tearDrop.onNextFrame=function(){e.a.k.gotoAndStop(0)})),a.play(),a.animationSpeed=.4;let o=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<o.length;e++)o[e].layerOffset={x:0,y:6};if(e.a.d.layerOffset={x:0,y:4},"tennis"==i){let t={x:e.tearDrop.x,y:e.tearDrop.y};e.tearDrop.x-=5,e.tearDrop.y-=8,e.a.k.layerOffset={x:0,y:-10},w(e.tearDrop,t),e.tearDrop.destroyCostume=function(){e.tearDrop.destroyPhysics()}}}},mariposa:{name:"Mariposa Drop",sprite:40,cost:1200,owned:!1,color:14981240,amountOfVotes:124,artist:u.chaosticies,drawnBy:u.dialup,apply:function(e,t,i){"levelLayer2"!=i&&y.none.apply(e,t),m(e.a.i,32,"september2024"),v(e.a.e,"Sprites/EyesCostume25"),v(e.a.f,"Sprites/EyesCostume25"),v(e.a.g,"Sprites/EyesCostume25"),v(e.a.h,"Sprites/EyesCostume25"),v(e.a.d,"Sprites/MouthsCostume25");let n=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<n.length;e++)n[e].layerOffset={x:0,y:8},n[e].tint=16708557;if(e.a.d.layerOffset={x:0,y:4},"gtttatint"!=i&&"level"!=i&&"levelLayer2"!=i&&"tennis"!=i){let t=new PIXI.AnimatedSprite(xe["Sprites/BodiesCostume_september2024"]);e.a.addChild(t);let i=function(){t.gotoAndStop(e.a.i.currentFrame+-13),e.a.i.updateTransform(),t.transform.setFromMatrix(e.a.i.transform.localTransform)};c.ticker.add(i),e.destroyCostume=function(){c.ticker.remove(i),t.destroy()}}if("levelLayer2"==i&&(e.tearDrop.a.sortableChildren=!0,e.tearDrop.a.i2.zIndex=e.a.i.zIndex+6,e.tearDrop.a.j.zIndex=e.a.i.zIndex+1),"gtttatint"==i||"level"==i){let t=new PIXI.AnimatedSprite(xe["Sprites/BodiesCostume_september2024"]);"gtttatint"==i?e.tearDrop.a_.addChild(t):e.a.addChild(t),t.anchor.set(.5,.5),t.startInterpolation=!0;let n=function(){t.gotoAndStop(e.a.i.currentFrame+-13),"level"==i?(e.a.i2.inactive?t.zIndex=e.a.i.zIndex+5:(t.zIndex=e.a.i.zIndex+6,e.a.j.zIndex=e.a.i.zIndex+5),t.skew.x=0,t.y=80,t.x=p.linear(t.x,e.a.h.inactive?-10:e.a.h.x+20,t.startInterpolation?1:.2,it),t.startInterpolation=!1,t.scale.x=.5+Math.cos((t.x-40)/Math.PI/15)/2,t.skew.x=t.x/200-.25,t.skew.y=.25-t.x/200):(t.x=p.linear(t.x,e.a.h.inactive?-10:.75*e.a.h.x+10,.2,it),t.scale.x=.1+Math.cos((t.x-10)/Math.PI/15),t.skew.x=t.x/200)};c.ticker.add(n),e.destroyCostume=function(){c.ticker.remove(n),t.destroy()}}if("tennis"==i){let t=new PIXI.AnimatedSprite(xe["Sprites/BodiesCostume_september2024"]);t.gotoAndStop(34),e.tearDrop.addChild(t),e.tearDrop.onNextFrame=function(){e.a.i.updateTransform(),t.transform.setFromMatrix(e.a.i.transform.localTransform)},e.tearDrop.destroyCostume=function(){e.tearDrop.onNextFrame=function(){},t.destroy()}}}},snowdrop:{name:"Snow Drop",sprite:43,cost:400,owned:!1,color:13492979,artist:u.vendormint,limited:!0,apply:function(e,t){y.none.apply(e,t),m(e.a.i,59,"1"),v(e.a.e,"Sprites/EyesCostume44"),v(e.a.f,"Sprites/EyesCostume44"),v(e.a.g,"Sprites/EyesCostume44"),v(e.a.h,"Sprites/EyesCostume44"),v(e.a.d,"Sprites/MouthsCostume44"),e.a.g.layerOffset={x:0,y:5},e.a.h.layerOffset={x:0,y:5}}},dinodrop:{name:"Dino Drop!",sprite:44,cost:1200,owned:!1,color:10679219,artist:u.gokci,apply:function(e,t,i){y.none.apply(e,t),m(e.a.i,61,"1");let n=new PIXI.Sprite(xe["Sprites/BodiesCostume_1"][63]);x(n,e.a,0,.95,20),n.x=85,n.y=120,n.zIndex=-1,e.a.sortableChildren=!0,e.destroyCostume=function(){n.destroyPhysics()};let a=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<a.length;e++)a[e].layerOffset={x:0,y:6};e.a.d.layerOffset={x:0,y:4}},applyMinigame:function(e,t){y.none.apply(e,t),m(e.a.i,64,"1");let i=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<i.length;e++)i[e].layerOffset={x:0,y:6};e.a.d.layerOffset={x:0,y:4}}},_td_costume7:{name:"Mistletoe!",artist:u.teardrop,sprite:45,cost:100,owned:!1,limited:!0,apply:function(e,t){y.none.apply(e,t),m(e.a.i,0,"christmas2024")}},snowglobe:{name:"Snowglobe Drop",sprite:46,cost:1200,owned:!1,color:8909567,amountOfVotes:81,artist:u.adxmz_vll,limited:!0,apply:function(e,t,n){y.none.apply(e,t),v(e.a.j,"Sprites/Empty"),v(e.a.k,"Sprites/Empty"),m(e.a.i,2,"christmas2024");let a=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<a.length;e++)a[e].layerOffset={x:0,y:8};e.a.d.layerOffset={x:0,y:4};let o=new PIXI.AnimatedSprite(xe["Sprites/BodiesCostume_christmas2024"]);e.a.i.addChild(o);let r=new PIXI.Graphics;o.mask=r,e.a.i.addChild(r);let s=Math.floor(2763*Math.random()),l=(i.happiness,i.hunger,i.sleep);"levelLayer2"==n&&o.gotoAndStop(4);let d=[],h=function(e=!1){return{x:400+100*(Math.random()-.5),y:e?300:367.5+140*(Math.random()-.5),size:1+1*Math.random(),speed:.5+.5*Math.random(),horizontalSpeed:Math.random()-.5}};for(let e=0;e<100;e++)d.push(h(!1));function p(){o.tint=16777215,"levelLayer2"!=n&&o.gotoAndStop(Math.max(0,e.a.i.currentFrame+-43)),r.clear(),r.beginFill(16777215);for(let e=0;e<d.length;e++)d[e].y+=d[e].speed,d[e].x+=Math.cos(s+2*d[e].speed)*d[e].speed/4,r.drawCircle(d[e].x,d[e].y,d[e].size),d[e].y>435&&(d[e]=h(!0));r.endFill(),s+=it/40*(.4+l/100*.6)}c.ticker.add(p);let u=function(){o.destroy(),r.destroy(),c.ticker.remove(p)};"tennis"==n?e.tearDrop.destroyCostume=u:"levelLayer2"==n?e.tearDrop.destroyCostume2=u:e.destroyCostume=u}},snowflake:{name:"Snowflake Drop",sprite:47,artist:u.frostthesleepyone,cost:800,owned:!1,limited:!0,color:7992566,apply:function(e,t){y.none.apply(e,t),v(e.a.d,"Sprites/Empty"),m(e.a.i,6,"christmas2024")}},treedrop:{name:"Tree Drop",sprite:48,artist:{name:u.chaosticies.shortName+", "+u.dopozy.name},cost:1200,owned:!1,limited:!0,color:56132,apply:function(e,t,i){y.none.apply(e,t),m(e.a.i,8,"christmas2024");let n=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<n.length;e++)n[e].layerOffset={x:0,y:8};e.a.d.layerOffset={x:0,y:4};let a=new PIXI.AnimatedSprite(xe["Sprites/BodiesCostume_christmas2024"]);a.blendMode=PIXI.BLEND_MODES.ADD,e.a.i.addChild(a),a.gotoAndStop(10),a.alpha=.5;let o=[[10,11],[12,13],[14,15,16,17,11]],r=0,s=0,l=4,d=Date.now(),h=Date.now(),p=function(){h<d&&(h=Date.now()+250,a.gotoAndStop(o[r][s]),s++,o[r].length<=s&&(s=0,l--,0==l&&(l=2,r++,r>=o.length&&(r=0)))),d=Date.now()};c.ticker.add(p);let u=function(){a.destroy(),c.ticker.remove(p)};"tennis"==i?e.tearDrop.destroyCostume=u:"levelLayer2"==i?e.tearDrop.destroyCostume2=u:e.destroyCostume=u}},_td_costume8:{name:"TEARSHARK!!!",sprite:49,cost:1027,owned:!1,artist:u.teardrop,limited:!0,apply:function(e,t){y.none.apply(e,t),m(e.a.i,65);let i=new PIXI.AnimatedSprite(xe["Sprites/BodiesCostume_1"]);e.a.addChild(i),i.gotoAndStop(67),i.anchor.set(.5,.5),i.x=e.a.i.x,i.y=e.a.i.y,i.zIndex=10,v(e.a.j,"Sprites/LimbsCostume50"),v(e.a.k,"Sprites/LimbsCostume50"),v(e.b,"Sprites/LimbsCostume50"),v(e.c,"Sprites/LimbsCostume50");let n=[e.a.j,e.a.k,e.b,e.c];for(let e=0;e<n.length;e++)n[e].scaleOffset={x:1.1,y:1};e.onNextFrame=function(){48==e.a.i.currentFrame?i.gotoAndStop(68):i.gotoAndStop(67),8==e.a.j.currentFrame&&e.a.j.scale.x>0&&(e.a.j.scale.x*=-1)};let a=new PIXI.Sprite(xe["Sprites/BodiesCostume_1"][69]);x(a,e.a,0,.9,20),a.x=95,a.y=130,a.zIndex=-1,e.a.sortableChildren=!0,e.destroyCostume=function(){a.destroyPhysics(),i.destroy()};let o=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<o.length;e++)o[e].layerOffset={x:-2,y:15},o[e].scaleOffset={x:.95,y:.9};e.a.g.layerOffset={x:-4,y:15},e.a.e.layerOffset={x:-4,y:15},e.a.d.layerOffset={x:-3,y:8},e.a.d.scaleOffset={x:.8,y:.8},e.a.layerOffset={x:0,y:5}},applyMinigame:function(e,t,i){y.none.apply(e,t),m(e.a.i,70),v(e.a.j,"Sprites/LimbsCostume50"),v(e.a.k,"Sprites/LimbsCostume50"),"faceMatch"!=i?(v(e.b,"Sprites/LimbsCostume50"),v(e.c,"Sprites/LimbsCostume50")):v(e.a.c,"Sprites/LimbsCostume50");let n=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<n.length;e++)n[e].layerOffset={x:0,y:15},n[e].scaleOffset={x:.95,y:.9},"gtttatint"==i&&(n[e].scaleOffset={x:1,y:.9});e.a.g.layerOffset={x:0,y:15},e.a.e.layerOffset={x:0,y:15},e.a.d.layerOffset={x:0,y:8},e.a.d.scaleOffset={x:.8,y:.8},e.a.layerOffset={x:0,y:5}}},_td_costume9:{name:"Love Syrup!",sprite:50,cost:1432,owned:!1,color:16603087,artist:u.teardrop,limited:!0,apply:function(e,t){y.none.apply(e,t),m(e.a.i,71);let i=new PIXI.Sprite(xe["Sprites/BodiesCostume_1"][73]);x(i,e.a,0,.95,20),i.x=15,i.y=120,i.zIndex=-1,i.scale.x=-1;let n=new PIXI.Sprite(xe["Sprites/BodiesCostume_1"][73]);x(n,e.a,0,.95,20),n.x=110.5,n.y=120,n.zIndex=-1,e.a.sortableChildren=!0,i.scale.x=-1.1,i.scale.y=1.1,n.scale.x=1.1,n.scale.y=1.1,e.destroyCostume=function(){n.destroyPhysics(),i.destroyPhysics()};let a=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<a.length;e++)a[e].layerOffset={x:0,y:8},a[e].tint=16765941;e.a.d.layerOffset={x:0,y:4}},applyMinigame:function(e,t){y.none.apply(e,t),m(e.a.i,74);let i=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<i.length;e++)i[e].layerOffset={x:0,y:8};e.a.d.layerOffset={x:0,y:4}}},pandrop:{name:"Pandrop",sprite:51,cost:800,owned:!1,color:15446392,artist:u.teardrop,apply:function(e,t){y.none.apply(e,t),m(e.a.i,75);let i=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<i.length;e++)i[e].layerOffset={x:0,y:8};e.a.d.layerOffset={x:0,y:4},e.a.d.scaleOffset={x:.9,y:.95}}},transdrop:{name:"Transdrop",sprite:52,cost:900,owned:!1,color:15446392,artist:u.dopozy,drawnBy:u.dialup,apply:function(e,t){y.none.apply(e,t),m(e.a.i,0,"june2025");let i=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<i.length;e++)i[e].layerOffset={x:0,y:8};e.a.d.layerOffset={x:0,y:4},e.a.d.scaleOffset={x:.9,y:.95}}},enbian:{name:"Enbian Drop",sprite:54,cost:1600,owned:!1,color:8737368,amountOfVotes:101,artist:u.adxmz_vll,apply:function(e,t){y.none.apply(e,t),m(e.a.i,4,"june2025"),v(e.a.e,"Sprites/EyesCostume25"),v(e.a.f,"Sprites/EyesCostume25"),v(e.a.g,"Sprites/EyesCostume25"),v(e.a.h,"Sprites/EyesCostume25"),v(e.a.d,"Sprites/MouthsCostume25"),v(e.a.k,"Sprites/LimbsCostume55");let i=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<i.length;e++)i[e].layerOffset={x:0,y:8};e.a.d.layerOffset={x:0,y:4},e.a.d.scaleOffset={x:.9,y:.95}}},nonbinary:{name:"Non-binary Drop",sprite:53,cost:600,owned:!1,color:15446392,artist:u.stevencrack,apply:function(e,t){y.none.apply(e,t),m(e.a.i,2,"june2025");let i=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<i.length;e++)i[e].layerOffset={x:0,y:8};e.a.d.layerOffset={x:0,y:4},e.a.d.scaleOffset={x:.9,y:.95}}},aroflux:{name:"Aroflux Drop",sprite:55,cost:900,color:13369246,owned:!1,artist:u.gstbw,apply:function(e,t){y.none.apply(e,t),m(e.a.i,6,"june2025");let i=new PIXI.Sprite(xe["Sprites/BodiesCostume_june2025"][8]);x(i,e.a,0,.5,5),i.x=65,i.y=150,i.zIndex=10,e.a.sortableChildren=!0,e.destroyCostume=function(){lightning.destroyPhysics(),i.destroyPhysics()};let n=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<n.length;e++)n[e].layerOffset={x:0,y:8},n[e].scaleOffset={x:1.05,y:1};e.a.d.layerOffset={x:0,y:4},e.a.d.scaleOffset={x:.8,y:.9},v(e.a.d,"Sprites/MouthsCostume10"),e.destroyCostume=function(){i.destroyPhysics()}},applyMinigame:function(e,t){y.none.apply(e,t),m(e.a.i,9,"june2025")}},baguette:{name:"Baguette-Drop",sprite:56,cost:1401,color:13369246,owned:!1,artist:u.sillyqfx,apply:function(e,t){y.none.apply(e,t),m(e.a.i,10,"june2025"),v(e.a.e,"Sprites/EyesCostume57_2"),v(e.a.f,"Sprites/EyesCostume57"),v(e.a.g,"Sprites/EyesCostume57_2"),v(e.a.h,"Sprites/EyesCostume57");let i=new PIXI.Sprite(xe["Sprites/BodiesCostume_june2025"][15]);x(i,e.a,0,.9,10),i.x=115,i.y=70,i.zIndex=10;let n=new PIXI.Sprite(xe["Sprites/BodiesCostume_june2025"][16]);x(n,e.a,0,.92,10),n.x=20,n.y=70,n.zIndex=-2;let a=new PIXI.Sprite(xe["Sprites/BodiesCostume_june2025"][14]);x(a,e.a,0,.95,15),a.x=95,a.y=140,a.zIndex=-1;let o=new PIXI.Sprite(xe["Sprites/BodiesCostume_june2025"][14]);x(o,e.a,0,.95,15),o.x=30,o.y=140,o.zIndex=-1,o.scale.x=-1;let r=new PIXI.Sprite(xe["Sprites/BodiesCostume_june2025"][17]);x(r,e.a,.1,.9,15),r.x=90,r.y=145,r.zIndex=-10,e.a.sortableChildren=!0;let s=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<s.length;e++)s[e].layerOffset={x:0,y:8};e.a.d.layerOffset={x:0,y:4},e.a.d.scaleOffset={x:.9,y:.95};let l=new PIXI.AnimatedSprite(xe["Sprites/BodiesCostume_june2025"]);e.a.addChild(l),l.zIndex=15;let d=function(){l.gotoAndStop(e.a.i.currentFrame+-35),l.x=e.a.i.x,l.pivot.x=e.a.i.pivot.x,l.y=e.a.i.y,l.pivot.y=e.a.i.pivot.y};c.ticker.add(d),e.destroyCostume=function(){i.destroyPhysics(),n.destroyPhysics(),a.destroyPhysics(),o.destroyPhysics(),r.destroyPhysics(),c.ticker.remove(d),l.destroy()}},applyMinigame:function(e,t,i){y.none.apply(e,t),m(e.a.i,19,"june2025"),"gtttatint"==i?(v(e.a.e,"Sprites/EyesCostume57"),v(e.a.f,"Sprites/EyesCostume57_2"),v(e.a.g,"Sprites/EyesCostume57"),v(e.a.h,"Sprites/EyesCostume57_2")):(v(e.a.e,"Sprites/EyesCostume57_2"),v(e.a.f,"Sprites/EyesCostume57"),v(e.a.g,"Sprites/EyesCostume57_2"),v(e.a.h,"Sprites/EyesCostume57"));let n=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<n.length;e++)n[e].layerOffset={x:0,y:8};e.a.d.layerOffset={x:0,y:4},e.a.d.scaleOffset={x:.9,y:.95}}},starwizard:{name:"Star Wizard Drop",sprite:57,cost:1600,color:13369246,owned:!1,artist:u.thinking909,apply:function(e,t){y.none.apply(e,t),m(e.a.i,20,"june2025"),v(e.a.d,"Sprites/MouthsCostume58"),v(e.a.e,"Sprites/Empty"),v(e.a.f,"Sprites/Empty"),v(e.a.g,"Sprites/EyesCostume58"),v(e.a.h,"Sprites/EyesCostume58_2");let i=new PIXI.Sprite(xe["Sprites/BodiesCostume_june2025"][22]);x(i,e.a,0,.95,15),i.x=27,i.y=140,i.zIndex=-1;let n=new PIXI.Sprite(xe["Sprites/BodiesCostume_june2025"][23]);x(n,e.a,0,.9,15),n.x=86,n.y=145,n.zIndex=-10,e.a.sortableChildren=!0;let a=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<a.length;e++)a[e].layerOffset={x:0,y:8};e.a.d.layerOffset={x:0,y:4},e.a.d.scaleOffset={x:.9,y:.95},e.destroyCostume=function(){i.destroyPhysics(),n.destroyPhysics()}},applyMinigame:function(e,t,i){y.none.apply(e,t),m(e.a.i,24,"june2025"),"gtttatint"==i?(v(e.a.d,"Sprites/MouthsCostume58"),v(e.a.e,"Sprites/Empty"),v(e.a.f,"Sprites/Empty"),v(e.a.g,"Sprites/EyesCostume58_2"),v(e.a.h,"Sprites/EyesCostume58")):(v(e.a.d,"Sprites/MouthsCostume58"),v(e.a.e,"Sprites/Empty"),v(e.a.f,"Sprites/Empty"),v(e.a.g,"Sprites/EyesCostume58"),v(e.a.h,"Sprites/EyesCostume58_2"));let n=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<n.length;e++)n[e].layerOffset={x:0,y:8};e.a.d.layerOffset={x:0,y:4},e.a.d.scaleOffset={x:.9,y:.95}}},placeholderdrop:{name:"Placeholder Drop",sprite:58,artist:u.stonebone,cost:404,owned:!1,noSecondSprite:!0,apply:function(e,t=0){let i;switch(y.none.apply(e,t),t){case 0:i=[e.b,e.c,e.a.d,e.a.e,e.a.f,e.a.g,e.a.h,e.a.j,e.a.k];break;case 1:i=[e.a.d,e.a.e,e.a.f,e.a.g,e.a.h,e.a.j,e.a.k]}for(let e=0;e<i.length;e++){let t=i[e],n=t.symbol.split("/")[1];v(t,"oldiesCostume/"+n)}m(e.a.i,25,"june2025"),v(e.a.d,"Sprites/Empty"),v(e.a.e,"Sprites/EyesCostume59"),v(e.a.f,"Sprites/EyesCostume59"),v(e.a.g,"Sprites/EyesCostume59"),v(e.a.h,"Sprites/EyesCostume59");let n=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<n.length;e++)n[e].layerOffset={x:0,y:8};e.a.d.layerOffset={x:0,y:4},e.a.d.scaleOffset={x:.9,y:.95}}},appledrop:{name:"Apple Drop",sprite:59,cost:1066,color:13369246,owned:!1,artist:u.leeku,apply:function(e,t){y.none.apply(e,t),m(e.a.i,26,"june2025"),e.a.sortableChildren=!0;let i=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<i.length;e++)i[e].layerOffset={x:0,y:8};e.a.d.layerOffset={x:0,y:4},e.a.d.scaleOffset={x:.9,y:.95};let n=new PIXI.AnimatedSprite(xe["Sprites/BodiesCostume_june2025"]);e.a.addChild(n),n.zIndex=15;let a=function(){n.gotoAndStop(e.a.i.currentFrame+-19),n.x=e.a.i.x,n.pivot.x=e.a.i.pivot.x,n.y=e.a.i.y,n.pivot.y=e.a.i.pivot.y};c.ticker.add(a),e.destroyCostume=function(){c.ticker.remove(a),n.destroy()}},applyMinigame:function(e,t,i){y.none.apply(e,t),m(e.a.i,30,"june2025");let n=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<n.length;e++)n[e].layerOffset={x:0,y:8};e.a.d.layerOffset={x:0,y:4},e.a.d.scaleOffset={x:.9,y:.95}}},leekdrop:{name:"Leek Drop",sprite:60,cost:1390,color:13369246,owned:!1,artist:u.bogglesussy,apply:function(e,t){y.none.apply(e,t),m(e.a.i,31,"june2025"),v(e.a.e,"Sprites/EyesCostume57_2"),v(e.a.f,"Sprites/EyesCostume57"),v(e.a.g,"Sprites/EyesCostume57_2"),v(e.a.h,"Sprites/EyesCostume57");let i=new PIXI.Sprite(xe["Sprites/BodiesCostume_june2025"][34]);x(i,e.a,0,.9,10),i.x=110,i.y=32,i.zIndex=-2;let n=new PIXI.Sprite(xe["Sprites/BodiesCostume_june2025"][35]);x(n,e.a,0,.92,10),n.x=30,n.y=32,n.zIndex=-2,e.a.sortableChildren=!0;let a=new PIXI.Sprite(xe["Sprites/BodiesCostume_june2025"][33]);x(a,e.a,0,.5,5),a.x=62,a.y=150,a.zIndex=-2;let o=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<o.length;e++)o[e].layerOffset={x:0,y:8};e.a.d.layerOffset={x:0,y:4},e.a.d.scaleOffset={x:.9,y:.95};let r=function(){48==e.a.i.currentFrame?(i.x=130,i.y=32,n.x=42,n.y=22):(i.x=110,i.y=32,n.x=30,n.y=32)};c.ticker.add(r),e.destroyCostume=function(){i.destroyPhysics(),n.destroyPhysics(),a.destroyPhysics(),c.ticker.remove(r)}},applyMinigame:function(e,t,i){y.none.apply(e,t),m(e.a.i,36,"june2025"),"gtttatint"==i?(v(e.a.e,"Sprites/EyesCostume57"),v(e.a.f,"Sprites/EyesCostume57_2"),v(e.a.g,"Sprites/EyesCostume57"),v(e.a.h,"Sprites/EyesCostume57_2")):(v(e.a.e,"Sprites/EyesCostume57_2"),v(e.a.f,"Sprites/EyesCostume57"),v(e.a.g,"Sprites/EyesCostume57_2"),v(e.a.h,"Sprites/EyesCostume57")),"gtttatint"!=i&&"tennis"!=i||(e.tearDrop.sortableChildren=!0,e.a.j.zIndex=10,e.a.k.zIndex=10);let n=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<n.length;e++)n[e].layerOffset={x:0,y:8};e.a.d.layerOffset={x:0,y:4},e.a.d.scaleOffset={x:.9,y:.95}}},pixeldrop:{name:"Pixel Droplet",sprite:63,cost:850,owned:!1,color:16770969,artist:u.fixoukk,apply:function(e,t=0,i){y.none.apply(e,t),console.log(xe["Sprites/BodiesCostume64"][0]),xe["Sprites/BodiesCostume64"][0].baseTexture.scaleMode=PIXI.SCALE_MODES.NEAREST,v(e.a.i,"Sprites/BodiesCostume64"),v(e.a.e,"Sprites/EyesCostume25"),v(e.a.f,"Sprites/EyesCostume25"),v(e.a.g,"Sprites/EyesCostume25"),v(e.a.h,"Sprites/EyesCostume25");let n=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<n.length;e++)n[e].layerOffset={x:1,y:2},n[e].scaleOffset={x:1,y:1.2},n[e].tint=80;e.a.d.layerOffset={x:0,y:2},e.a.layerOffset={x:0,y:8},e.a.scaleOffset={x:.95,y:.95},e.a.d.scaleOffset={x:.9,y:.9},e.a.d.tint=16777215;let a,o={"Sprites/Limbs":"Sprites/LimbsCostume64","Sprites/Eyes":"Sprites/EyesCostume64","Sprites/Mouth":"Sprites/MouthsCostume64"};switch(t){case 0:a=[e.b,e.c,e.a.d,e.a.j,e.a.k];break;case 1:a=[e.a.d,e.a.e,e.a.f,e.a.g,e.a.h,e.a.j,e.a.k]}for(let e=0;e<a.length;e++){let t=a[e];null!=o[t.symbol]&&(xe[o[t.symbol]][0].baseTexture.scaleMode=PIXI.SCALE_MODES.NEAREST,v(t,o[t.symbol]))}null==e.scale&&(e.scale={x:1,y:1}),e.filters=[new PIXI.filters.PixelateFilter("gtttatint"==i?1:Math.floor(3/(1*-(e.scale.x-1)+1))),new PIXI.filters.CRTFilter,new PIXI.filters.AdvancedBloomFilter],e.filters[0].resolution=c.resolution,e.filters[1].resolution=1,e.filters[2].quality=3,null!=e.tearDrop&&(e.tearDrop.filters=e.filters,e.tearDrop.fpsFactor=5),e.fpsFactor=3}},supernova:{name:"Supernova",sprite:62,cost:1200,owned:!1,amountOfVotes:124,artist:u.forkiplier,apply:function(e,t,i){"levelLayer2"!=i&&y.none.apply(e,t),m(e.a.i,39,"june2025"),v(e.a.j,"Sprites/Empty"),v(e.a.e,"Sprites/Empty"),v(e.a.f,"Sprites/Empty"),v(e.a.g,"Sprites/Empty"),v(e.a.h,"Sprites/EyesCostume63"),v(e.a.d,"Sprites/MouthsCostume63");let n=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<n.length;e++)n[e].layerOffset={x:0,y:8},n[e].tint=16708557;e.a.d.layerOffset={x:-3,y:6},e.a.d.scaleOffset={x:.8,y:.95},"tennis"==i&&(v(e.a.g,"Sprites/EyesCostume63"),v(e.a.h,"Sprites/Empty"),e.a.g.scaleOffset={x:-1,y:1},e.a.g.layerOffset={x:-10,y:8}),"gtttatint"==i&&(e.a.h.scaleOffset={x:-1,y:1},e.a.h.layerOffset={x:-10,y:8});let a=De(we.costume63clouds);if(e.filters=[new PIXI.filters.AdvancedBloomFilter],e.filters[0].bloomScale=.3,e.filters[0].resolution=c.resolution,null!=e.tearDrop&&(e.tearDrop.filters=e.filters),a.play(),a.loop=!0,a.x=26,a.y=24,a.scale.y=1.1,a.scale.x=1.1,"gtttatint"!=i&&"level"!=i&&"levelLayer2"!=i&&"tennis"!=i){let t=new PIXI.AnimatedSprite(xe["Sprites/BodiesCostume_june2025"]);e.a.addChild(t),e.a.addChild(a);let i=function(){t.gotoAndStop(e.a.i.currentFrame+-6),e.a.i.updateTransform(),t.transform.setFromMatrix(e.a.i.transform.localTransform)};c.ticker.add(i),e.destroyCostume=function(){c.ticker.remove(i),t.destroy(),a.destroyAnimation()}}if("levelLayer2"==i&&(e.tearDrop.a.sortableChildren=!0,e.tearDrop.a.i2.zIndex=e.a.i.zIndex+6,e.tearDrop.a.j.zIndex=e.a.i.zIndex+1),"gtttatint"==i||"level"==i){let t=new PIXI.AnimatedSprite(xe["Sprites/BodiesCostume_june2025"]);"gtttatint"==i?(e.tearDrop.a_.addChild(t),e.tearDrop.a_.addChild(a),a.x=-35,a.y=-55):e.a.addChild(t),t.anchor.set(.5,.5),t.startInterpolation=!0;let n=function(){t.gotoAndStop(e.a.i.currentFrame+-6),"level"==i?(e.a.i2.inactive?t.zIndex=e.a.i.zIndex+5:(t.zIndex=e.a.i.zIndex+6,e.a.j.zIndex=e.a.i.zIndex+5),t.skew.x=0,t.y=80,t.x=p.linear(t.x,e.a.h.inactive?-10:e.a.h.x+20,t.startInterpolation?1:.2,it),t.startInterpolation=!1,t.scale.x=.5+Math.cos((t.x-40)/Math.PI/15)/2,t.skew.x=t.x/200-.25,t.skew.y=.25-t.x/200):(t.x=p.linear(t.x,e.a.h.inactive?-20:.6*e.a.h.x+15,.35,it),t.scale.x=.1+Math.min(.9,(100-t.x)/100),t.skew.x=t.x/200)};c.ticker.add(n),e.destroyCostume=function(){c.ticker.remove(n),t.destroy(),a.destroyAnimation()}}if("tennis"==i){let t=new PIXI.AnimatedSprite(xe["Sprites/BodiesCostume_june2025"]);t.gotoAndStop(41),e.tearDrop.addChild(t);let i=new PIXI.Container;e.tearDrop.addChild(i),i.addChild(a),t.pivot.x=e.tearDrop.h.pivot.x,t.pivot.y=e.tearDrop.h.pivot.y,a.x=e.a.i.pivot.x-35,a.y=e.a.i.pivot.y-55,e.tearDrop.sortableChildren=!0,e.tearDrop.k.zIndex=10,e.tearDrop.onNextFrame=function(){t.x=e.tearDrop.h.x+7,t.y=e.tearDrop.h.y,t.rotation=-e.tearDrop.h.skew.x,e.a.i.updateTransform(),i.transform.setFromMatrix(e.a.i.transform.localTransform)},e.tearDrop.destroyCostume=function(){e.tearDrop.onNextFrame=function(){},t.destroy(),a.destroyAnimation()}}"faceMatch"==i&&(a.x+=8,a.y+=12)}},gyarudrop:{name:"Gyaru Drop",sprite:64,cost:1e3,color:13369246,owned:!1,artist:u.pepsican,apply:function(e,t){y.none.apply(e,t),m(e.a.i,43,"june2025"),v(e.a.g,"Sprites/EyesCostume65_2"),v(e.a.h,"Sprites/EyesCostume65");let i=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<i.length;e++)i[e].layerOffset={x:0,y:8};e.a.d.layerOffset={x:0,y:4},e.a.d.scaleOffset={x:.9,y:.95},e.a.e.layerOffset={x:0,y:-4},e.a.f.layerOffset={x:0,y:-4}},applyMinigame:function(e,t,i){y.none.apply(e,t),m(e.a.i,43,"june2025"),"gtttatint"==i?(v(e.a.e,"Sprites/Empty"),v(e.a.f,"Sprites/Empty"),v(e.a.g,"Sprites/EyesCostume57"),v(e.a.h,"Sprites/EyesCostume57_2")):(v(e.a.g,"Sprites/EyesCostume65_2"),v(e.a.h,"Sprites/EyesCostume65"));let n=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<n.length;e++)n[e].layerOffset={x:0,y:8};e.a.d.layerOffset={x:0,y:4},e.a.d.scaleOffset={x:.9,y:.95},"gtttatint"!=i&&(e.a.e.layerOffset={x:0,y:-2},e.a.f.layerOffset={x:0,y:-2})}},giant:{name:"Giant",sprite:1,artist:u.bluesky,cost:0,owned:!1,secret:!0,applyMinigame:function(){},apply:function(e,t=0){let i;switch(y.none.apply(e,t),e.size=1.25,e.scale.x*=1.25,e.scale.y*=1.25,e.destroyCostume=function(){e.size=1,e.scale.x/=1.25,e.scale.y/=1.25},t){case 0:i=[e.b,e.c,e.a.d,e.a.e,e.a.f,e.a.g,e.a.h,e.a.i,e.a.j,e.a.k];break;case 1:i=[e.a.d,e.a.e,e.a.f,e.a.g,e.a.h,e.a.i,e.a.j,e.a.k]}for(let e=0;e<i.length;e++){let t=i[e],n=t.symbol.split("/")[1];console.log("Sprites/"+n+"Costume21"),v(t,"Sprites/"+n+(n.includes("Mouth")?"s":"")+"Costume21")}}},lemon:{name:o.costumes.lemon,sprite:7,cost:-1,achievement:"lemons",owned:!1,color:16770969,artist:u.vendormint,apply:function(e,t){y.none.apply(e,t),m(e.a.i,12)}},sportsdrop:{name:o.costumes.sportsdrop,sprite:9,cost:-1,achievement:"winagameoftennis",owned:!1,artist:u.vendormint,apply:function(e,t){y.none.apply(e,t),m(e.a.i,16)}},limedrop:{name:o.costumes.limedrop,sprite:15,cost:-1,achievement:"2763lemons",owned:!1,color:5234769,artist:u.jampu,apply:function(e,t){y.none.apply(e,t),m(e.a.i,28)}},jockdrop:{name:o.costumes.jockdrop,sprite:17,cost:-1,achievement:"5minuteGTTTATINT",owned:!1,artist:u.maple2,apply:function(e,t){y.none.apply(e,t),m(e.a.i,32),v(e.a.j,"Sprites/LimbsCostume17"),v(e.a.k,"Sprites/LimbsCostume17")}},energydrink:{name:o.costumes.energydrink,sprite:20,cost:-1,achievement:"10energydrinks",owned:!1,artist:u.tyblade,apply:function(e,t){y.none.apply(e,t),m(e.a.i,43)}},_td_costume6:{name:"Cakepop-Chip",sprite:26,cost:-1,achievement:"750altitudeCAKEWALK",owned:!1,color:1108991,artist:u.teardrop,apply:function(e,t){y.none.apply(e,t),m(e.a.i,55)}},beerdrop:{name:"Beer Drop",sprite:61,cost:-1,achievement:"brew",owned:!1,color:16770969,artist:{name:u.stonebone.name+", "+u.irisbreaker.name},apply:function(e,t){y.none.apply(e,t),m(e.a.i,37,"june2025");let i=[e.a.e,e.a.f,e.a.g,e.a.h,e.a.d];for(let e=0;e<i.length;e++)i[e].layerOffset={x:0,y:3};e.a.d.layerOffset={x:0,y:2},e.a.d.scaleOffset={x:.9,y:.95}}}},f=[{name:"ALL",items:[]},{name:"Achievements",items:[]},{name:"Valentines",items:["_td_costume8","_td_costume9"]},{name:"Christmas 2024",items:["snowdrop","_td_costume7","snowglobe","snowflake","treedrop"]}];for(let e in y)f[0].items.push(e);for(let e in y)-1==y[e].cost&&f[1].items.push(e);function g(e){let t={name:e.name,items:[]};for(let i in y)y[i].artist==e&&t.items.push(i);f.push(t)}g(u.teardrop),g(u.thinking909),g(u.vendormint),f.push({name:"June 2025",items:["pandrop","transdrop","enbian","nonbinary","aroflux","baguette","starwizard","placeholderdrop","appledrop","leekdrop","beerdrop","supernova","pixeldrop","gyarudrop"],votes:!0,amaze:!0}),f.push({name:"September 2024",items:["sundrop","coladrop","tropical","moondrop","softdrink","mariposa","glorp","clouddrop","waffle","popdrop","sealdrop","aoracedrop","gumdrop","voiddrop","potiondrop"],votes:!0,amaze:!0});let x=function(e,t,i,n,a,o=!1,r){e.anchor.set(.5,.5),e.offset={},t.addChild(e),e.vx=0,e.vy=0,e.actualAngle=0,e.angleVelocity=0,e.defaultRotation=i;let s=!1,l=function(){if(null!=r){e.rotation=-r.rotation+i,e.actualAngle+=e.angleVelocity*it,e.rotation+=e.actualAngle,e.angleVelocity+=(r.rotation+i-e.actualAngle)/a*it,e.angleVelocity*=n;let t={x:r.x+e.offset.x*Math.cos(r.rotation)-e.offset.y*Math.sin(r.rotation),y:r.y+e.offset.y*Math.cos(r.rotation)+e.offset.x*Math.sin(r.rotation)};s||(e.x=t.x,e.y=t.y,s=!0),e.vx+=(t.x-e.x)/a*it,e.vy+=(t.y-e.y)/a*it,e.vx*=n/2,e.vy*=n,e.x+=e.vx*it,e.y+=e.vy*it}else e.rotation=-t.rotation+e.defaultRotation,e.actualAngle+=e.angleVelocity*it,e.rotation+=e.actualAngle,e.angleVelocity+=(t.rotation+e.defaultRotation-e.actualAngle)/a*it,e.angleVelocity*=n};c.ticker.add(l),e.destroyPhysics=function(){c.ticker.remove(l),e.destroy()}},w=function(e,t,i,n=1,a=100,o=!1,r){e.offset={},e.vx=0,e.vy=0,e.actualAngle=0,e.angleVelocity=0,e.orbitSpeed=1;let s=function(){e.rotation=e.vy/20,e.vx+=(t.x-e.x)/a*it/5*e.orbitSpeed,e.vy+=(t.y-e.y)/a*it/2*e.orbitSpeed,e.vx*=n,e.vy*=n,e.x+=e.vx*it/5*e.orbitSpeed,e.y+=e.vy*it/2*e.orbitSpeed};c.ticker.add(s),e.destroyPhysics=function(){c.ticker.remove(s)}};function v(e,t){let i=e.currentFrame;e.textures=xe[t],e.gotoAndStop(i)}let S=function(e,t,i,n){return Math.sqrt((e-i)**2+(t-n)**2)},I=function(e,t,i){return e.x+e.width>=t.x&&e.x<=t.x+t.width&&e.y+e.height>=t.y&&e.y<=t.y+t.height},C={},b=0;function P(e,t,i=!0,n=!1,a=-1){e.originalSize={x:e.scale.x,y:e.scale.y},e.animate=i,e.animationSize=e.originalSize,e.destinationSize=e.originalSize,e.animationTime=0,e.on("pointerover",(function(){i&&(e.animationSize={x:e.scale.x,y:e.scale.y},e.destinationSize={x:1.1*e.originalSize.x,y:1.1*e.originalSize.y}),e.animationTime=0,e.hover=!0})),e.on("pointerout",(function(){i&&(e.animationSize={x:e.scale.x,y:e.scale.y},e.animationTime=0,e.destinationSize={x:1*e.originalSize.x,y:1*e.originalSize.y}),e.hover=!1})),e.on(-1==a?"pointerdown":"touchstart",(function(t){-1!=a&&a(t),e.disableTrigger=!1,i&&(e.destinationSize={x:.95*e.originalSize.x,y:.95*e.originalSize.y},e.animationSize={x:e.scale.x,y:e.scale.y}),e.animationTime=0,e.pressing=!0})),e.disableTrigger=!1,e.resetSize=function(){e.animationSize={x:e.scale.x,y:e.scale.y},e.destinationSize={x:e.originalSize.x,y:e.originalSize.y},e.animationTime=0},e.on("pointerup",(function(){n&&(e.disableTrigger=!1),e.pressing&&0==e.disableTrigger&&t(),e.interactive&&(e.pressing=!1,i&&(e.animationSize={x:e.scale.x,y:e.scale.y},e.destinationSize={x:1.1*e.originalSize.x,y:1.1*e.originalSize.y}),e.animationTime=0)}))}function k(e,t=new PIXI.Rectangle(-100,-100,200,200),i,n=0){e.canDrag=!0,e.hitArea=t,e.dragScale=n,e.originalHitArea=t,e.dragged=!1,i&&(e.x2=e.x,e.y2=e.y),e.on("pointerdown",(function(t){e.dragged=!0,e.hitArea=new PIXI.Rectangle(-3e3,-3e3,6e3,6e3),e.dragging=!0,e.originalPosition={x:e.x,y:e.y};let i=t.clientX/s,n=t.clientY/s;0!=e.dragScale&&(i/=e.dragScale,n/=e.dragScale),e.dragOffset={x:i-e.x,y:n-e.y},null!=e.onDragStart&&e.onDragStart()})),e.on("pointermove",(function(t){let n=t.clientX/s,a=t.clientY/s;0!=e.dragScale&&(n/=e.dragScale,a/=e.dragScale),e.dragging&&(2==i?(e.x2=n-e.dragOffset.x-e.originalPosition.x,e.y2=a-e.dragOffset.y-e.originalPosition.y):1==i?(e.x2=n-e.dragOffset.x,e.y2=a-e.dragOffset.y):(e.x=n-e.dragOffset.x,e.y=a-e.dragOffset.y),S(e.originalPosition.x,e.originalPosition.y,e.x,e.y)>1&&(e.disableTrigger=!0),null!=e.onDrag&&e.onDrag())})),e.on("pointerup",(function(){e.dragging=!1,e.hitArea=e.originalHitArea,null!=e.onDragEnd&&e.onDragEnd()}))}class M{constructor(e,t,i,n=!1,a=!0){this.buttonContainer=new PIXI.Container,this.selected=new PIXI.Sprite(xe["Sprites/GameUI"][8]),this.selected.anchor.set(.5,.5),this.buttonContainer.addChild(this.selected),this.selected.blendMode=PIXI.BLEND_MODES.ADD,this.empty=new PIXI.Sprite(e),this.empty.anchor.set(.5,.5),this.buttonContainer.addChild(this.empty),this.size=e.trim.width,this.fullMask=new PIXI.Graphics,this.fullMask.beginFill(16777215),this._offset=Math.min(1,Math.max(0,i)),this.pieChart=n,n||this.fullMask.drawRect(-this.size/2,-this.size/2+(this.size-this.size*this._offset),this.size,this.size*this._offset),this.fullMask.endFill(),this.empty.addChild(this.fullMask),this.full=new PIXI.Sprite(t),this.full.anchor.set(.5,.5),this.empty.addChild(this.full),this.full.mask=this.fullMask,this.percentage=new PIXI.BitmapText(Math.round(100*this._offset)+"%",{fontSize:16,fontName:"MenuShag"}),this.percentage.y=this.size/2+10,this.percentage.anchor.set(.5,.5),a&&this.buttonContainer.addChild(this.percentage),this.buttonContainer.hitArea=new PIXI.Rectangle(-this.size/2,-this.size/2,this.size,this.size),this.buttonContainer.interactive=!0,this.id=b,C[b++]=this.buttonContainer}set offset(e){if(this.fullMask.clear(),this._offset=Math.min(1,Math.max(0,e)),this.fullMask.beginFill(16777215),this.pieChart&&this._offset<.99){let e=this.size,t=[0,0,0,-e];this._offset>.125&&(t.push(e),t.push(-e)),this._offset>.25&&(t.push(e),t.push(0)),this._offset>.375&&(t.push(e),t.push(e)),this._offset>.5&&(t.push(0),t.push(e)),this._offset>.625&&(t.push(-e),t.push(e)),this._offset>.75&&(t.push(-e),t.push(0)),this._offset>.875&&(t.push(-e),t.push(-e)),t.push(e*Math.cos(this._offset*Math.PI*2-Math.PI/2)),t.push(e*Math.sin(this._offset*Math.PI*2-Math.PI/2)),this.fullMask.drawPolygon(...t)}else this.fullMask.drawRect(-this.size/2,-this.size/2+(this.size-this.size*this._offset),this.size,this.size*this._offset);this.fullMask.endFill(),this.percentage.text=Math.round(100*this._offset)+"%"}destroy(){this.selected.destroy(),this.empty.destroy(),this.fullMask.destroy(),this.full.destroy(),this.percentage.destroy(),this.buttonContainer.destroy(),delete C[this.id]}}let T=null;class A{constructor(e,t,i,a,o,r,s,l,d=!1,c=1){this.ninesliceplane=new PIXI.NineSlicePlane(xe.inputNineSlice[24],15,15,15,15),this.ninesliceplane.width=i/c,this.ninesliceplane.height=a/c,this.ninesliceplane.x=e,this.ninesliceplane.y=t,this.ninesliceplane.interactive=!0,this.dropletInput=document.createElement("input"),this.dropletInput.style.caretColor="transparent",this.dropletInput.autocomplete=!1,this.dropletInput.maxLength=r,this.active=!1,this.ninesliceplane.on("pointerup",(()=>{this.active=!0,document.body.appendChild(this.dropletInput),this.dropletInput.focus(),this.dropletInput.value=this.inputText.value,T=this.inputText,this.inputText.alpha=1,this.inputText.text=this.inputText.value,this.dropletInput.addEventListener("input",h),document.addEventListener("pointerdown",this.disable),n.typing=!0}));let h=()=>{console.log(this.dropletInput.value),this.inputText.value=this.dropletInput.value,p()},p=()=>{if(this.inputText.scale.x=1,this.inputText.text=this.inputText.value,""!=this.inputText.value&&(this.inputText.alpha=1),d){let e=this.inputText.text.length;this.inputText.text="";for(let t=0;t<e;t++)this.inputText.text+="*"}this.inputText.width>this.ninesliceplane.width-2*this.inputText.x&&(this.inputText.width=this.ninesliceplane.width-2*this.inputText.x),this.inputText.scale.y=this.inputText.scale.x};this.type=e=>{" 0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.,!?\"'".includes(e.key)&&r>this.inputText.value.length&&(this.inputText.value+=e.key),"Backspace"==e.key&&(this.inputText.value=this.inputText.value.slice(0,-1)),"Enter"!=e.key||this.confirmation()},this.disabled=!1,this.disable=()=>{""==this.inputText.value&&(this.inputText.text=o,this.inputText.alpha=.2),T=-1,document.removeEventListener("pointerdown",this.disable),0!=this.active&&(document.body.removeChild(this.dropletInput),this.active=!1,n.typing=!1)},this.inputText=new PIXI.BitmapText(o,{fontSize:a-12,fontName:"ShagBlack"}),this.inputText.value="",this.inputText.alpha=.2,this.inputText.anchor.set(0,.5),this.inputText.x=a/2-2,this.inputText.y=this.ninesliceplane.height/2,this.ninesliceplane.addChild(this.inputText),this.ninesliceplane.scale.x=c,this.ninesliceplane.scale.y=c,this.ninesliceplane.pivot.x=i*s/c,this.ninesliceplane.pivot.y=a*l/c,this.align=s,this.align2=l,this.element=this.ninesliceplane,this.confirmation=function(){},this.refreshInput=p}set width(e){this.ninesliceplane.width=e,this.ninesliceplane.pivot.x=e*this.align}set height(e){this.ninesliceplane.height=e,this.ninesliceplane.pivot.y=e*this.align2}get width(){return this.ninesliceplane.width}get height(){return this.ninesliceplane.height}_destroy(){this.destroyed||(this.destroyed=!0,this.ninesliceplane.interactive=!1,this.disable(),this.inputText.parent.removeChild(this.inputText),this.inputText.destroy(),this.ninesliceplane.destroy(),this.ninesliceplane.removeAllListeners())}destroy(){this._destroy()}}class E extends A{constructor(e=function(){},t,i,n,a,o,r,s,l,d=1,c="left",h=1){super(t,i,n,a,o,r,.5,.5,!1,h),this.ninesliceplane.texture=xe.inputNineSlice[d],this.inputText.fontName="MenuShag",this.inputText.fontSize=(a-7)/h,this.inputText.x=a/2-2,"center"==c&&(this.inputText.x=n/2/h,this.inputText.anchor.set(.5,.5)),this.inputText.alpha=1,this.type=function(){},this.ninesliceplane.removeAllListeners(),this.id=b,C[b++]=this.element,this.ninesliceplane.x+=.5*n-n*s,this.ninesliceplane.y+=.5*a-a*l,P(this.element,e)}destroy(){delete C[this.id],this._destroy()}}class L{constructor(e=function(){},t,i){this.sprite=new PIXI.Sprite(t);let n=100;null!=this.sprite.texture.trim&&(n=this.sprite.texture.trim.width,this.sprite.hitArea=new PIXI.Rectangle(-n/2,-n/2,n,n)),this.sprite.interactive=!0,this.sprite.anchor.set(.5,.5);for(let e in i)this.sprite[e]=i[e];this.id=b,C[b++]=this.sprite,this.trigger=e,P(this.sprite,e,!0)}destroy(){delete C[this.id],this.sprite.interactive=!1,this.sprite.destroy(),this.sprite.removeAllListeners()}}function D(){return b++}let O,X,F={regularcake:{name:o.food.regularcake,texture:1,cost:15,adds:40},icecreamcake:{name:o.food.icecreamcake,texture:5,cost:20,adds:60},icycake:{name:o.food.icycake,texture:4,cost:1,adds:1},limecake:{name:o.food.limecake,texture:6,cost:10,adds:20},blueberry:{name:o.food.blueberry,texture:7,cost:2,adds:10},strawberry:{name:o.food.strawberry,texture:8,cost:1,adds:8},strawberrycake:{name:o.food.strawberrycake,texture:9,cost:8,adds:15},candy:{name:o.food.candy,texture:10,cost:5,adds:12},cherrypan:{name:"cherrypan",texture:11,cost:1e3,adds:100,hidden:!0},sleeppotion:{name:o.food.sleeppotion,texture:12,cost:100,adds:5,hidden:!1},maxpotion:{name:o.food.maxpotion,texture:13,cost:300,adds:0,hidden:!0},sourlemon:{name:o.food.sourlemon,texture:14,cost:3,adds:-4},donut:{name:o.food.donut,texture:16,cost:12,adds:30,requiredLevel:5},fries:{name:o.food.fries,texture:15,cost:50,adds:75,requiredLevel:10},burntTaco:{name:o.food.burntTaco,texture:17,cost:8,adds:20,requiredLevel:20},heartChocolate:{name:"Heart Chocolate",texture:18,cost:15,adds:50,requiredCostume:"_td_costume9"}},B={},N=0,z=function(e,t,i,n=.5,a=.1,o=1){if(null==e.motions&&(e.motions=[]),null!=e[t+"_animationId"]){let r=B[e[t+"_animationId"]];return r.stiffness=n,r.to=i,r.speed=a,void(r.globalSpeed=o)}e.motions.push(N),e[t+"_animationId"]=N,console.log("new animation!");let r={velocity:0,to:i,stiffness:n,speed:a,globalSpeed:o,frame:function(){r.velocity=p.linear(r.velocity,r.to-e[t],r.stiffness,r.globalSpeed*it),e[t]=e[t]+r.velocity*r.speed*r.globalSpeed*it},id:N};B[N++]=r},G=function(){c.ticker.add((function(){for(let e in B)B[e].frame()}))},R=function(e){if(null!=e.motions)for(let t=0;t<e.motions.length;t++)delete B[e.motions[t]]},_={awake:"Teardrop",tired:"TeardropTired"},U="Teardrop",j="TeardropTired",W=[],V=0,H={get2763intennis:{title:"Drop Tennis",description:"Get 2763 score in Drop Tennis minigame",icon:29},winagameoftennis:{title:"Drop Tennis",name:"Drop Tennis Victory",description:"Win a game of Drop Tennis",icon:29},get2763gtttatint:{title:"GTTTATINT",description:"Get 2763 score in GTTTATINT",icon:30},slapTD2763:{title:"Ultimate Slapper",description:"Slap Teardrop 2763 times",icon:37,getProgress:function(){let e=n.totalSlaps+" / 2763";return n.totalSlaps>2763&&(e=n.totalSlaps),e}},get2763:{title:"2763...",description:"Complete every achievement about the number 2763",icon:35,getProgress:function(){let e=["get2763intennis","get2763gtttatint","slapTD2763","2763lemons"],t=0;for(let i=0;i<e.length;i++)H[e[i]].done&&t++;return t+" / "+e.length}},lemons:{title:"Lemon Factory",name:"Lemon Factory",description:"Feed Teardrop 100 lemons",icon:36,getProgress:function(){let e=n.lemonsFed+" / 100";return n.lemonsFed>100&&(e=n.lemonsFed),e}},get10perfectsCAKEWALK:{title:"Easy as Cake!",description:"Get 10 perfects in a row on CAKEWALK",icon:38},"2763lemons":{title:"Gimme my lime!",name:"Gimme my lime!",description:"Feed Teardrop 2763 lemons",icon:40,getProgress:function(){let e=n.lemonsFed+" / 2763";return n.lemonsFed>2763&&(e=n.lemonsFed),e}},perfectfacematch:{title:"No difference",name:"No difference",description:"Get a 100% in Face Match",icon:39},"10energydrinks":{title:"No sleep",name:"No sleep",description:"Feed Teardrop 10 Awakening Potions",icon:6,getProgress:function(){let e=n.drinksFed+" / 10";return n.drinksFed>10&&(e=n.drinksFed),e}},"5minuteGTTTATINT":{title:"Leg Day",name:"Leg Day",description:"Spend 5 minutes at 2mph or higher in GTTTATINT in a single game",icon:30},tauntLogo:{title:"Obscure mischief",description:"Taunt the logo seen in the settings menu",icon:37,secret:!0},oddDroplets40:{title:"The Detective",description:"Find the Odd Droplet 40 times in a row",icon:37},"750altitudeCAKEWALK":{title:"Mile High Pie!",name:"Mile High Pie!",description:"Get to 500 altitude in CAKEWALK",icon:38},get15000gtttatint:{title:"Reach the Galaxy",name:"Reach the Galaxy",description:"Get 15000 score in GTTTATINT",icon:30},"1000altitudeCAKEWALK":{title:"Too High!!!",name:"Too High!!!",description:"Get to 1000 altitude in CAKEWALK",icon:38},blockplatformgtttatint:{title:"GTTTATINT",description:"Find Blocky's family in GTTTATINT",icon:30},aprilFools_boom:{title:"BOOM!!!",description:"Explode your Teardrop!",icon:37},brew:{title:"Brewing Master",name:"Brewing Master",description:"Feed Teardrop 50 lemons while wearing the Wine Drop costume",icon:40,getProgress:function(){null==n.specialAchievementStuff.lemonsFedWine&&(n.specialAchievementStuff.lemonsFedWine=0);let e=n.specialAchievementStuff.lemonsFedWine+" / 50";return n.specialAchievementStuff.lemonsFedWine>50&&(e=n.specialAchievementStuff.lemonsFedWine),e}}};for(let e in H)null!=o[e]&&(H[e].title=o[e].title,H[e].name=o[e].name,H[e].description=o[e].description);function Y(e){return e.split("").reverse().join("")}function Q(e){return Y(btoa(JSON.stringify(e)))}let K=!1;function q(e,t){try{return null==e?t:JSON.parse(atob(Y(e)))}catch(e){return alert("Error with save file. Potential corruption!"),K=!0,0}}let J={id:"",username:"",password:"",loggedIn:!1,sync:!1};function Z(e=!0){if(n.privateBeta)return;if(n.introMode)return;let a=[];a.push(Q(t.coins)),a.push(Q(t.fridge)),a.push(Q(i.happiness)),a.push(Q(i.hunger)),a.push(Q(i.sleep)),a.push(Q(n.skipIntro)),a.push(Q(n.costume));let o={};for(let e in y)o[e]=y[e].owned;a.push(Q(o)),a.push(Q(n.lastLogin)),a.push(Q(i.sleeping)),a.push(Q(n.sfx)),a.push(Q(n.music)),a.push(Q(n.minigameMusic)),a.push(Q(i.progress)),a.push(Q(i.progressNeeded)),a.push(Q(n.level));let r={};for(let e in H)r[e]=H[e].done;a.push(Q(r)),a.push(Q(n.lemonsFed)),a.push(Q(n.totalSlaps)),a.push(Q(n.minigameCostumes)),a.push(Q(n.lastFridgePage)),a.push(Q(n.drinksFed)),a.push(Q(n.HQSprites)),a.push(Q(n.language)),a.push(Q(n.sfxVolume)),a.push(Q(n.musicVolume)),a.push(Q(n.HDrecommendation)),0==n.gameStartDate&&(n.gameStartDate=Date.now()),a.push(Q(n.gameStartDate)),a.push(Q(n.saveFileWarning)),a.push(Q(n.levelUpCostumes)),a.push(Q(n.safeArea)),a.push(Q(n.controllerProfile.GTTTATINT)),a.push(Q(n.extendAnimationFrames)),a.push(Q(n.minigames)),a.push(Q(n.genuineLastLogin)),a.push(Q(n.dodgeEditor)),a.push(Q(n.specialAchievementStuff)),localStorage.setItem("myTeardrop",Q(JSON.stringify(a))),e&&qe.sync()}!function(){if(null==localStorage.dropletLogin)return;let e;try{e=JSON.parse(localStorage.dropletLogin)}catch(e){return localStorage.dropletLogin="{}",void console.log("error with login data parsing! resetting login data to regular state")}for(let t in e)null!=J[t]&&(J[t]=e[t]);J.password=q(e.password),console.log(J)}();let $=setInterval((function(){Z(!1)}),1e4);function ee(e){let t=JSON.parse(q(e));return{brokenSaveFile:K,coins:q(t[0]),fridge:q(t[1]),happiness:q(t[2]),hunger:q(t[3]),sleep:q(t[4]),skipIntro:q(t[5]),costume:q(t[6]),boughtCostumes:q(t[7]),lastLogin:q(t[8]),sleeping:q(t[9]),sfx:q(t[10],!0),music:q(t[11],!0),minigameMusic:q(t[12],!0),progress:q(t[13],0),progressNeeded:q(t[14],200),level:q(t[15],1),completedAchievements:q(t[16],{}),lemonsFed:q(t[17],0),totalSlaps:q(t[18],0),minigameCostumes:q(t[19],!0),lastFridgePage:q(t[20],0),drinksFed:q(t[21],0),HQSprites:q(t[22],!1),language:q(t[23],"en-US"),sfxVolume:q(t[24],1),musicVolume:q(t[25],1),HDrecommendation:q(t[26],!1),gameStartDate:q(t[27],Date.now()),saveFileWarning:q(t[28],!1),levelUpCostumes:q(t[29],!0),safeArea:q(t[30],!1),gtttatintProfile:q(t[31],n.controllerProfile.GTTTATINT),extendAnimationFrames:q(t[32],!1),minigames:q(t[33],n.minigames),genuineLastLogin:q(t[34]),dodgeEditor:q(t[35],[]),specialAchievementStuff:q(t[36],{})}}function te(e=localStorage.getItem("myTeardrop")){if(null==localStorage.getItem("myTeardrop"))Z(!1);else if(!n.privateBeta){let a=ee(e);if(K=!1,a.brokenSaveFile)return void console.log("broken save file!");t.coins=a.coins,t.fridge=a.fridge,i.happiness=a.happiness,i.hunger=a.hunger,i.sleep=a.sleep,n.skipIntro=a.skipIntro,n.lastLogin=a.lastLogin,n.genuineLastLogin=a.genuineLastLogin,i.sleeping=a.sleeping,"string"==typeof a.costume&&(Object.keys(y).includes(a.costume)||(a.costume="none"),n.costume=a.costume);for(let e in y){let t=!1;null!=a.boughtCostumes[e]&&(t=a.boughtCostumes[e]),y[e].owned=t}n.sfx=a.sfx,n.music=a.music,n.minigameMusic=a.minigameMusic,n.minigameCostumes=a.minigameCostumes,i.progress=a.progress,i.progressNeeded=a.progressNeeded,n.level=a.level,n.lemonsFed=a.lemonsFed,n.drinksFed=a.drinksFed,n.totalSlaps=a.totalSlaps,n.lastFridgePage=a.lastFridgePage,n.HQSprites=a.HQSprites,n.language=a.language,n.sfxVolume=a.sfxVolume,n.musicVolume=a.musicVolume,n.HDrecommendation=a.HDrecommendation,n.gameStartDate=a.gameStartDate,n.saveFileWarning=a.saveFileWarning,n.levelUpCostumes=a.levelUpCostumes,n.safeArea=a.safeArea,n.controllerProfile.GTTTATINT=a.gtttatintProfile,n.extendAnimationFrames=a.extendAnimationFrames,n.minigames=a.minigames,n.dodgeEditor=a.dodgeEditor,n.specialAchievementStuff=a.specialAchievementStuff;for(let e in H){let t=!1;null!=a.completedAchievements[e]&&(t=a.completedAchievements[e]),H[e].done=t}}if(null!=localStorage.getItem(n.language)){let e=JSON.parse(localStorage.getItem(n.language).replaceAll("\n","\\n"));for(let t in e)for(let i in e[t])"version"!=t&&(o[t][i]=e[t][i]);for(let e in o.costumes)y[e].name=o.costumes[e]}else n.language="en-US"}setInterval((function(){J.loggedIn&&qe.sync()}),12e4),te();let ie=o.message.obtainCostume;o.message.obtainCostume=function(e){return ie.replace("{achievement}",'"'+e+'"')};let ne,ae=o.message.updateWarning;o.message.updateWarning=function(e,t){return ae.replace("{currentVersion}",e).replace("{latest}",t)};let oe={loadAttempts:0,useOldLoader:!1},re=localStorage.getItem("loaderData");if(null==re)ne={loadAttempts:0,useOldLoader:!1};else try{ne=JSON.parse(re)}catch(e){ne=oe}function se(){localStorage.setItem("loaderData",JSON.stringify(ne))}ne.loadAttempts++,ne.loadAttempts>=3&&(n.HQSprites=!1),se();let le=document.createElement("div");le.classList.add("collectingDroplets");let de=document.createElement("img");de.src="loadingDance.gif",de.classList.add("loadingDance");let ce=document.createElement("div");ce.classList.add("loader");let he=document.createElement("div");he.classList.add("bar"),document.body.appendChild(le),le.appendChild(de),le.appendChild(ce),ce.appendChild(he);let pe=document.createElement("p");if(pe.innerText="Collecting Droplets...",le.appendChild(pe),ne.useOldLoader){document.head.innerHTML+='<link rel="stylesheet" href="collectingDropletsClassic.css">';let e=document.createElement("img");e.src="Resources/Load.png",e.style.bottom="52%",le.appendChild(e),de.style.display="none"}else document.head.innerHTML+='<link rel="stylesheet" href="collectingDroplets.css">';window.innerWidth,window.devicePixelRatio;let ue=0,me=0,ye="?v="+localStorage.version;function fe(e,t){ue++,ge||(he.style.width=ue/me*100+"%"),ue==me&&(ge||(ce.style.color="white",ce.innerHTML+="<p>Tap/Click to play</p>"),function(){if(!ge){if(ge=!0,n.extendAnimationFrames)for(let e in h)for(let t in h[e])h[e][t].start*=2,h[e][t].end*=2;ve.music=new Pizzicato.Group(ve.music),ve.sfx=new Pizzicato.Group(ve.sfx),ve.sfx.volume=n.sfxVolume,ve.music.volume=n.musicVolume,at()}}(),le.remove())}let ge=!1,xe={},we={},ve={music:[],sfx:[]};function Se(e,t,i){me++,PIXI.Assets.load("./Resources/"+e+".json"+ye).then((e=>{e.cachePrefix="?v=hello",xe[i]=[];for(let n=0;n<e._frameKeys.length;n++){let e=t+(n+1e4).toString().slice(1);xe[i].push(PIXI.Texture.from(e))}fe()}))}function Ie(e,t,i){let a={},o=t;xe[i]=[];for(let r=0;r<t;r++){a[r]=0,me++;let s=(r+10001).toString().slice(1);1==t&&(s=""),PIXI.Assets.load("./Resources/"+e+s+".png"+ye).then((e=>{a[r]=e,n.HQSprites&&e.baseTexture.setResolution(2),o--,0==o&&(xe[i]=a),fe()}))}}function Ce(e){me++,PIXI.Assets.load("./Fonts/"+e+".fnt"+ye).then((e=>{fe()}))}function be(e,t){me++,PIXI.Assets.load("./Animations/"+e+".json"+ye).then((e=>{we[t]=e,we[t].animation=t,we[t].extension=1,n.extendAnimationFrames&&Ae(we[t]),fe()}))}function Pe(e,t,i=0){me++,ve[t]=new Pizzicato.Sound("./Audio/"+e+".mp3"+ye,(function(){ve[t].volume=1,ve[t].loaded=!0,null!=ve[t].onloadAudio&&ve[t].onloadAudio(),fe()})),ve[t].loaded=!1,0==i?ve.music.push(ve[t]):ve.sfx.push(ve[t])}console.warn=function(){};let ke="",Me="";"en-US"!=n.language&&(Me="Unicode"),n.HQSprites&&(ke="hd/"),Ce("MenuShag"+Me),Ce("arial"),Ce("ShagBlueNumber"),Ce("ShagGoldenNumber"),Ce("ShagBlack"+Me),Ce("IndieFlower"),Ce("IndieFlowerDodge"),be("Teardrop","Teardrop"),be("oil/Teardrop.TeardropBody","oilTeardropBody"),be("oil/TeardropTired.TeardropBody","oilTeardropTiredBody"),be("healthLose","healthLose"),be("loading","loading"),be("bfb","bfb"),be("TeardropTired","TeardropTired"),be("tearDropWatch","tearDropWatch"),be("tearDropLevelUp","tearDropLevelUp"),be("faceMinigame","faceMinigame"),be("oddDroplets","oddDroplets"),be("tearDropTennis","tearDropTennis"),be("Tutorial/minigameInformation","moreMiniInfo"),be("Tutorial/rotateDevice","rotateDevice"),be("costume63clouds","costume63clouds"),be("GTTTATINT","GTTTATINT"),be("dropletDodge","dropletDodge"),be("GTTTATINTLOSE","GTTTATINTLOSE"),be("lollipopMode","lollipopMode"),be("Toilet","Toilet"),be("Box","Box"),be("SkewMatrix","SkewMatrix"),Se(ke+"GameThumbnails","GameThumbnails","Sprites/GameThumbnails"),Se("tennisBall","tennisBall","Sprites/tennisBall"),Se("dodgeItems","dodgeItems","Sprites/dodgeItems"),Se("dodgeObjects","dodgeObjects","Sprites/dodgeObjects"),Se("TDlollipop","TDlollipop","TDlollipop"),Se("BGLayer","BGLayer","BGLayer"),Ie(ke+"Rooms/Rooms",28,"Sprites/Rooms"),Ie("dodgeBackgrounds/dodgeBackgrounds",4,"Sprites/dodgeBackgrounds"),Ie("GameBanners/GameBanners",9,"Sprites/GameBanners"),Ie("Logo",1,"Logo"),Ie("dodgeGrid",1,"dodgeGrid"),Ie("valentines_promo",1,"valentines_promo"),Se(ke+"Food","Food","Sprites/Food"),Se("Empty","Empty","Sprites/Empty"),Pe("wave","wave",1),Pe("yeah","yeah"),n.events.christmas?Pe("frostwaltz","brittlerille"):Pe("brittlerille","brittlerille"),Pe("LevelUp","levelup"),Pe("dropletSquirt","dropletSquirt"),Pe("Achievement","achievement"),Pe("switchoff","switchoff",1),Pe("switchon","switchon",1),Pe("purchase","purchase",1),Pe("fail","fail",1),Pe("coinlarge","coinlarge",1),Pe("coinmedium","coinmedium",1),Pe("coinsmall","coinsmall",1),Pe("consume","consume",1),Pe("slap1","slap1",1),Pe("slap2","slap2",1),Pe("slap3","slap3",1),Pe("slap4","slap4",1),Pe("collect","collect",1),Se("Oldies/Bodies/1","Bodies","oldiesCostume/Bodies"),Se("Oldies/Mouths","Mouth","oldiesCostume/Mouth"),Se("Oldies/Limbs","Limbs","oldiesCostume/Limbs"),Se("Oldies/Eyes","Eyes","oldiesCostume/Eyes"),Se(ke+"Bodies/1","Bodies","Sprites/Bodies"),Se(ke+"Bodies/2","Bodies_2013rec","Sprites/Bodies_2013rec"),Se(ke+"Outline/BodiesOUTLINE12","BodiesOUTLINE12","Sprites/BodiesOUTLINE12"),Se(ke+"Bodies/BodiesCostume_1","BodiesCostume_1","Sprites/BodiesCostume_1"),Se(ke+"Bodies/BodiesCostume_september2024","BodiesCostume_september2024","Sprites/BodiesCostume_september2024"),Se(ke+"Bodies/BodiesCostume_christmas2024","BodiesCostume_christmas2024","Sprites/BodiesCostume_christmas2024"),Se(ke+"Bodies/BodiesCostume_june2025","BodiesCostume_june2025","Sprites/BodiesCostume_june2025"),Se(ke+"Bodies/BodiesCostume64","BodiesCostume64","Sprites/BodiesCostume64"),Se("MouthsCostume10","MouthsCostume10","Sprites/MouthsCostume10"),Se("MouthsCostume21","MouthsCostume21","Sprites/MouthsCostume21"),Se("MouthsCostume25","MouthsCostume25","Sprites/MouthsCostume25"),Se("MouthsCostume44","MouthsCostume44","Sprites/MouthsCostume44"),Se("MouthsCostume58","MouthsCostume58","Sprites/MouthsCostume58"),Se("MouthsCostume64","MouthsCostume64","Sprites/MouthsCostume64"),Se("MouthsCostume63","MouthsCostume63","Sprites/MouthsCostume63"),Se("EyesCostume25","EyesCostume25","Sprites/EyesCostume25"),Se("EyesCostume44","EyesCostume44","Sprites/EyesCostume44"),Se("EyesCostume57","EyesCostume57","Sprites/EyesCostume57"),Se("EyesCostume57_2","EyesCostume57_2","Sprites/EyesCostume57_2"),Se("EyesCostume58","EyesCostume58","Sprites/EyesCostume58"),Se("EyesCostume58_2","EyesCostume58_2","Sprites/EyesCostume58_2"),Se("EyesCostume59","EyesCostume59","Sprites/EyesCostume59"),Se("EyesCostume64","EyesCostume64","Sprites/EyesCostume64"),Se("EyesCostume63","EyesCostume63","Sprites/EyesCostume63"),Se("EyesCostume65","EyesCostume65","Sprites/EyesCostume65"),Se("EyesCostume65_2","EyesCostume65_2","Sprites/EyesCostume65_2"),Se("LimbsCostume17","LimbsCostume17","Sprites/LimbsCostume17"),Se("LimbsCostume21","LimbsCostume21","Sprites/LimbsCostume21"),Se("LimbsCostume50","LimbsCostume50","Sprites/LimbsCostume50"),Se("LimbsCostume55","LimbsCostume55","Sprites/LimbsCostume55"),Se("LimbsCostume64","LimbsCostume64","Sprites/LimbsCostume64"),Se("Debug/Icons","Icons","Icons"),Se("Bodies/BodiesCostume21","BodiesCostume21","Sprites/BodiesCostume21"),Se(ke+"Mouths","Mouth","Sprites/Mouth"),Se(ke+"Limbs","Limbs","Sprites/Limbs"),Se(ke+"Outline/LimbsOUTLINE12","LimbsOUTLINE12","Sprites/LimbsOUTLINE12"),Se("LimbsCostume1","LimbsCostume1","Sprites/LimbsCostume1"),Se(ke+"Eyes","Eyes","Sprites/Eyes"),Se(ke+"Outline/EyesOUTLINE12","EyesOUTLINE12","Sprites/EyesOUTLINE12"),Se("EyesCostume21","EyesCostume21","Sprites/EyesCostume21"),Se("CakeSlicePlane","CakeSlicePlane","Sprites/CakeSlicePlane"),Se("Clouds","Clouds","Sprites/Clouds"),Se(ke+"Poses","Poses","Sprites/Poses"),Se("Blur","Blur","Sprites/Blur"),Se("Box","Box","Sprites/Box"),Se(ke+"GameUI","GameUI","Sprites/GameUI"),Se("designerCredits","designerCredits","designerCredits"),Se("Placeholders","Placeholders","Sprites/Placeholders"),Se("Starfield","Starfield","Backgrounds/Starfield"),Se("RepeatingUI","RepeatingUI","Sprites/RepeatingUI"),Se(ke+"inputNineSlice","inputNineSlice","inputNineSlice");let Te=["Teardrop","oilTeardropBody","oilTeardropTiredBody","healthLose","loading","TeardropTired","tearDropWatch","tearDropLevelUp","tearDropTennis","GTTTATINTLOSE","Box"];function Ae(e){if(Te.includes(e.animation)||null==e.animation){e.extension=2;for(let t in e.layers)for(let i=0;i<e.layers[t].frames.length;i++){let n=e.layers[t].frames[i];n[0]*=2,e.layers[t].isCustom&&(n[Le.firstFrame]*=2)}for(let t in e.symbols)Ae(e.symbols[t]);e.frameCount*=2}}function Ee(e,t=0){return{scale:{x:Math.sqrt(e.a**2+e.b**2),y:Math.sqrt(e.c**2+e.d**2)},skew:{x:180/Math.PI*Math.atan2(e.d,e.c)-90,y:180/Math.PI*Math.atan2(e.b,e.a)},rotation:t,skewing:null==t}}let Le={duration:0,transformX:1,transformY:2,a:3,b:4,c:5,d:6,rotation:7,pivotX:8,pivotY:9,firstFrame:10,loopMode:11,tween:12,opacity:13};function De(e,t){let i=0,n=new PIXI.Container;n.animationName=e.animation,n.idle=-1,n.frameCount=e.frameCount,n.customs=[],n.layers=[];let a={};for(let t in e.layers)e.layers[t].isCustom?(a[t]=De(e.symbols[e.layers[t].symbol]),a[t].symbol=e.layers[t].symbol,n.customs.push(a[t])):a[t]=new PIXI.AnimatedSprite(xe[e.layers[t].symbol]),n.layers.push(t),a[t].symbol=e.layers[t].symbol,n.addChild(a[t]),n[t]=a[t],"FireyFlame"==e.layers[t].symbol&&(a[t].gotoAndPlay(0),a[t].animationSpeed=.4);function o(t,i=!0){let n=a[t].curframe==e.layers[t].frames.length-1?0:e.layers[t].frames[a[t].curframe+1],o=e.layers[t].frames[a[t].curframe];if(a[t].inactive=null==o[1],a[t].inactive)a[t].alpha=0;else{if(1!=a[t].static)if(1!=a[t].lockLayerPosition&&(a[t].pivot.x=o[Le.pivotX],a[t].pivot.y=o[Le.pivotY]),a[t].alpha=1,0!=n&&-2!=o[Le.tween]&&i){let e=a[t].frameProgress-1,i=new PIXI.Matrix(o[Le.a],o[Le.b],o[Le.c],o[Le.d],0,0),r=new PIXI.Matrix(n[Le.a],n[Le.b],n[Le.c],n[Le.d],0,0),s=Ee(i,o[Le.rotation]),l=Ee(r,n[Le.rotation]),d=l.rotation-s.rotation;d>180&&(d=-180-(180-d)),d<-180&&(d=180+(180+d));let c=l.skew.x-s.skew.x;c>180&&(c=-180-(180-c)),c<-180&&(c=180+(180+c));let h=l.skew.y-s.skew.y;h>180&&(h=-180-(180-h)),h<-180&&(h=180+(180+h));let p={skew:{x:ease[o[Le.tween]+1](e,s.skew.x,c,o[Le.duration]),y:ease[o[Le.tween]+1](e,s.skew.y,h,o[Le.duration])},scale:{x:ease[o[Le.tween]+1](e,s.scale.x,l.scale.x-s.scale.x,o[Le.duration]),y:ease[o[Le.tween]+1](e,s.scale.y,l.scale.y-s.scale.y,o[Le.duration])},rotation:ease[o[Le.tween]+1](e,s.rotation,d,o[Le.duration])};s.skewing||l.skewing?p.rotation=0:(p.skew.x=0,p.skew.y=0),a[t].transform.setFromMatrix(function(e){let t=e.rotation*(Math.PI/180),i=e.skew.x*(Math.PI/180),n=e.skew.y*(Math.PI/180);isNaN(i)&&(i=0),isNaN(n)&&(n=0);let a=e.scale.x,o=e.scale.y,r=new PIXI.Matrix(1,0,0,1,0,0);return r.a*=Math.cos(n),r.b=Math.sin(n),r.c=-Math.sin(i),r.d*=Math.cos(i),r.a*=Math.cos(t),r.b+=Math.sin(t),r.c-=Math.sin(t),r.d*=Math.cos(t),r.a*=a,r.b*=a,r.c*=o,r.d*=o,r}(p)),a[t].scale.x=p.scale.x,a[t].scale.y=p.scale.y,1!=a[t].lockLayerPosition?(a[t].x=ease[o[Le.tween]+1](e,o[Le.transformX],n[Le.transformX]-o[Le.transformX],o[Le.duration]),a[t].y=ease[o[Le.tween]+1](e,o[Le.transformY],n[Le.transformY]-o[Le.transformY],o[Le.duration])):(a[t].x=a[t].firstFramePosition.x,a[t].y=a[t].firstFramePosition.y),null!=a[t].layerOffset&&(a[t].x+=a[t].layerOffset.x,a[t].y+=a[t].layerOffset.y),null!=a[t].scaleOffset&&(a[t].scale.x*=a[t].scaleOffset.x,a[t].scale.y*=a[t].scaleOffset.y);let u=o[Le.opacity],m=n[Le.opacity];u==m&&a[t].alpha==m||(a[t].alpha=ease[o[Le.tween]+1](e,u,m-u,o[Le.duration]))}else{let e=new PIXI.Matrix(o[Le.a],o[Le.b],o[Le.c],o[Le.d],0,0);a[t].transform.setFromMatrix(e),1!=a[t].lockLayerPosition?(a[t].x=o[Le.transformX],a[t].y=o[Le.transformY],null==a[t].firstFramePosition&&(a[t].firstFramePosition={x:o[Le.transformX],y:o[Le.transformY]})):(a[t].x=a[t].firstFramePosition.x,a[t].y=a[t].firstFramePosition.y),null!=a[t].layerOffset&&(a[t].x+=a[t].layerOffset.x,a[t].y+=a[t].layerOffset.y),null!=a[t].scaleOffset&&(a[t].scale.x*=a[t].scaleOffset.x,a[t].scale.y*=a[t].scaleOffset.y),a[t].alpha=o[Le.opacity]}if(e.layers[t].isCustom||(o[Le.firstFrame]=o[Le.firstFrame]%a[t].textures.length),!e.layers[t].isCustom&&"FireyFlame"!=e.layers[t].symbol&&1!=a[t].lockLayerFrame){let e=o[Le.firstFrame];null!=a[t].overrideSprite&&null!=a[t].overrideSprite[e]&&(e=a[t].overrideSprite[e]),a[t].gotoAndStop(e)}}}function r(t,i){let n=i.frames,a=0;t=Math.min(e.frameCount-1,t);for(let e=0;e<n.length;e++){if(t>=a&&a+n[e][0]>t)return[e,t-a];a+=n[e][0]}}new PIXI.Transform;let s=!1;return n.fps=0,n.onAnimationEnd=function(){},n.gotoAndStop=function(e){n.goto(e),n.stop()},n.gotoAndPlay=function(e,t){n.goto(e),n.play(t)},n.parts=t,n.currentPart=-1,n.gotoPart=function(e){null!=n.parts[e]&&n.currentPart!=e&&(n.currentPart=e,n.goto(n.parts[e].start),n.firstFrame=n.parts[e].start,n.playUntil=n.parts[e].end,n.loop=n.parts[e].loop)},n.goto=function(t){s=!1,null==t&&(t=0),i=t;for(let i in a){let n=r(t,e.layers[i]);a[i].curframe=n[0],a[i].frameProgress=n[1]+1,e.layers[i].isCustom&&null!=e.layers[i].frames[a[i].curframe][Le.firstFrame]&&(a[i].goto(e.layers[i].frames[a[i].curframe][Le.firstFrame]+(2==e.layers[i].frames[a[i].curframe][Le.loopMode]?0:a[i].frameProgress-1)),a[i].l=e.layers[i].frames[a[i].curframe][Le.loopMode]),o(i,!1),o(i)}},n.animationData=e,n.destroyAnimation=function(){n.stop();for(let e in a)a[e].parent.removeChild(a[e]),null!=a[e].destroyAnimation?a[e].destroyAnimation():a[e].destroy({children:!0});null!=n.parent&&n.parent.removeChild(n),n.destroy({children:!0})},n.onNextFrame=-1,n.speed=1,n.fpsFactor=1,n.play=function(t=60){n.fps=t,null!=n.ticker&&c.ticker.remove(n.ticker);let i=Date.now(),a=Date.now();n.ticker=function(){for(;a<i;){a+=1e3/(t*e.extension*n.speed)*n.fpsFactor;for(let e=0;e<n.fpsFactor;e++)n.nextFrame(),-1!=n.onNextFrame&&n.onNextFrame(n);i-a>5e3&&(a=i)}i=Date.now()},c.ticker.add(n.ticker)},n.playUntil=-1,n.firstFrame=0,n.stop=function(e){null!=n.ticker&&c.ticker.remove(n.ticker)},n.getCurFrame=function(){return i},n.goto(0),n.nextFrame=function(){let t=n.playUntil;if(-1==n.playUntil&&(t=e.frameCount-1),i++,t<i)return n.loop&&n.goto(n.firstFrame),void(0==s&&(s=!0,-1!=n.idle&&n.gotoPart(n.idle),n.onAnimationEnd()));for(let t in a){if(a[t].inactive=!1,null==a[t].curframe&&(a[t].curframe=0),null==a[t].frameProgress)a[t].frameProgress=1;else{let i=e.layers[t].frames[a[t].curframe];e.layers[t].isCustom&&2!=i[Le.loopMode]&&a[t].nextFrame(),a[t].frameProgress>=e.layers[t].frames[a[t].curframe][Le.duration]&&(a[t].frameProgress=0,a[t].curframe<e.layers[t].frames.length-1?(a[t].curframe++,e.layers[t].isCustom&&(a[t].goto(e.layers[t].frames[a[t].curframe][Le.firstFrame]),a[t].l=i[Le.loopMode])):a[t].inactive=!0),a[t].frameProgress++}o(t)}},n.switchData=function(t){e=t;for(let e=0;e<n.customs.length;e++)n.customs[e].switchData(t.symbols[n.customs[e].symbol]);n.animationName=e.animation},n.switchParts=function(e){n.parts=e},n}async function Oe(e){try{return await navigator.clipboard.writeText(e),1}catch(e){return 0}}let Xe={"en-US":{lang:"English",button:["DOWNLOAD","USE","UPDATE"],downloaded:!0},"tr-TR":{lang:"Trke",translator:u.vendormint,file:"./Languages/tr-TR",available:!1,button:["INDIR","KULLAN","GUNCELLE"]},"fr-FR":{lang:"Franais",translator:u.teardrop,file:"./Languages/fr-FR",button:["TELECHARGER","UTILISER","MISE  JOUR"]},"es-ES":{lang:"Trke",translator:{name:u.stevencrack.name+", "+u.thinking909.name},file:"./Languages/es-ES",available:!1,button:["DESCARGAR","USAR","ACTUALIZAR"]}};for(let e in Xe)e in localStorage&&(Xe[e].downloaded=!0);let Fe,Be,Ne={0:{name:"Match",id:0,available:!1},1:{name:"Pencil",id:1,available:!1},2:{name:"Bubble",id:2,available:!1},5:{width:100,height:100,name:"Ice Cube",id:5,available:!0},6:{width:100,height:100,name:"Leafy",id:6,available:!0},9:{width:100,height:100,name:"Rocky",id:9,available:!0},13:{name:"Woody",id:13,available:!1},19:{width:300,height:200,name:"Spongy",id:19,available:!0},22:{name:"Tennis Ball",id:22,available:!1},23:{name:"Pen",id:23,available:!1},31:{width:75,height:100,name:"Coiny",id:31,available:!0},32:{width:75,height:100,name:"Pin",id:32,available:!0},33:{name:"Firey",id:33,available:!1},34:{width:60,height:100,name:"Needle",id:34,available:!0},39:{name:"Golf Ball",id:39,available:!1},44:{name:"Blocky",id:44,available:!1},51:{name:"Eraser",id:51,available:!1},54:{name:"Flower",id:54,available:!1},57:{name:"Snowball",id:57,available:!1},62:{name:"Teardrop",id:62,available:!1}},ze=function(e,t=function(){}){let i=function(){n.music&&ve.clouddancer.play()};n.music&&(ve.brittlerille.pause(),ve.clouddancer.play(),ve.clouddancer.volume=.5,ve.clouddancer.release=1,ve.clouddancer.on("end",i));let o=new PIXI.Sprite(xe["Sprites/Rooms"][18]);e.addChild(o),o.tint=8818106,o.interactive=!0,o.x=c.screen.width/2,o.y=c.screen.height/2,o.anchor.set(.5,.5),o.scale.x=1.5,o.scale.y=1.5;let r=new PIXI.Container;e.addChild(r);let l={},d=0,h=0,m=[],y=a("",32,"center");y.x=c.screen.width/2,y.y=c.screen.height-150,n.costume;let f=new PIXI.Container;f.hitArea=new PIXI.Rectangle(-5e3,-5e3,1e4,1e4);let g=new PIXI.Graphics;f.mask=g,e.addChild(f),f.x=0,f.y=0;let x=c.screen.width,w=c.screen.height;g.beginFill(0),g.drawRect(f.x,f.y,x,w),g.endFill(),f.interactive=!0,f.on("pointerdown",(function(e){let t=e.clientY/s;f.dragOffset={y:t-f.y},f.prevY=f.y,f.vy=0,f.scrolling=!0}));let v=function(e){if(!f.scrolling)return;let t=e.clientY/s;f.prevY=f.y,f.y=t-f.dragOffset.y},S=function(e){f.wheel=!0,f.vy=p.linear(f.vy,-e.deltaY/2*it,.25),f.vy>40*it&&(f.vy=40*it),f.vy<-40*it&&(f.vy=-40*it)};document.addEventListener("wheel",S);let I=function(){f.scrolling=!1};document.addEventListener("pointermove",v),document.addEventListener("pointerup",I),f.vy=0;let C=function(){let e=80-P-50+w;f.vy=p.linear(f.vy,-.5,f.wheel?.1:.05,it),f.scrolling?f.vy=f.y-f.prevY:f.y+=f.vy,b.targetAlpha=1,f.y>=0&&(f.y=0,f.vy=0),f.y<=e&&(b.targetAlpha=0,f.y=e,f.vy=0),b.alpha=p.linear(b.alpha,b.targetAlpha,.1,it),o.y=p.linear(o.y,f.y/40+80+50,.1,it)};c.ticker.add(C);let b=new PIXI.Sprite(xe["Sprites/Rooms"][11]);b.x=f.x,b.y=f.y+w-90,b.width=x,b.height=100;let P=0,k={"User Interface":["VENDORMINT"],Characters:[],"Early Supporters":["semihasem142","albertito9736","leafsterzx","rat_real.","yourgurllucy","infected_came_back.","generalbonnie","riverplayerone","jampu","tear_drop_bfb / pilowd","alexpple","donutmations","orphan / cherryjrtheorphan_.","coiny68617"],"Beta Testers":["tear_drop_bfb / pilowd","oyui / thinking909","NOOB / tyblade9","BlueSky","freesmart","stevencrack","ultimate1duck","flanimations","kenzie._kenz","kyl9341","veetheglaceon","donutmations",u.thinking909.name,"anni_on_ayanna","beetlebrick_",u.cringeindividual.name,"tawnypawzz","geebweezer","fridgethewhat123","lufafa13","infationtoons","mationsBOMB","lach15bro","NOOB / tyblade9","ricol3","maple_two","jampu","mizosis",u.briteideajuni.name],"Costume Artists":[],Animation:["VENDORMINT","jacknjellify"],"Graphic Design":["VENDORMINT"],"Original Games":["Cary Huang - GTTTATINT101"],"Minigame Help":["Flanimations - Odd Droplets Posing","Oyui - Odd Droplets Posing"],Programming:["VENDORMINT"],Music:["Kevin Macleod - New Friendly","Kevin Macleod - Radio Martini","Kevin Macleod - Brittle Rille","Kevin Macleod - Shiny Tech","Kevin Macleod - Pamgaea","Kevin Macleod - Cloud Dancer","FannToons - papshru"]};for(let e in Ne)k.Characters.push("jacknjellify - "+Ne[e].name);for(let e in u)k["Costume Artists"].push(u[e].name);P+=200;let M=new PIXI.Sprite(xe.Logo[0]);M.width=200,M.scale.y=M.scale.x,M.x=c.screen.width/2,M.y=100,m.push(M),M.anchor.set(.5,.5),f.addChild(M);for(let e in k){let t=a(e,32,"center");t.y=P,P+=48,f.addChild(t);for(let t=0;t<k[e].length;t++){let i=a(k[e][t],16,"center");i.y=P,P+=32,f.addChild(i),i.x=c.screen.width/2,k[e][t].toLowerCase().includes("teardrop")&&(i.tint=6737151)}P+=30,t.x=c.screen.width/2}P+=100;let T=qe.exitButton((function(){t(),qe.flash(e,!1,L)}),c.screen.width-40,40,.4,0);e.addChild(T.sprite),r.origX=0,r.time=50;let A=!1,E=function(){A||(r.x=0,d>.01&&(r.x+=Math.cos(h)*d*5,h+=.5*it,d=p.linear(d,0,.1,it)),y.alpha>0&&(y.alpha-=.04))};function L(){n.music&&(ve.brittlerille.play(),ve.clouddancer.stop(),ve.clouddancer.off("end",i),delete ve.clouddancer),c.ticker.remove(C),document.removeEventListener("pointermove",v),document.removeEventListener("wheel",S),document.removeEventListener("pointerup",I);for(let e in l)null!=l[e].destroy&&l[e].destroy(),delete l[e];y.destroy(),T.destroy(),o.destroy();for(let e=0;e<m.length;e++)m[e].destroyed||m[e].destroy();c.ticker.remove(E),A=!0}c.ticker.add(E),e.addChild(y),m.push(b),m.push(f),m.push(g)},Ge=[{name:o.settings.music,value:n.music,enable:function(){n.music=!0,ve.brittlerille.volume=.5,ve.brittlerille.play()},disable:function(){ve.brittlerille.pause(),n.music=!1}},{name:o.settings.minigameMusic,value:n.minigameMusic,enable:function(){n.minigameMusic=!0},disable:function(){n.minigameMusic=!1}},{name:o.settings.sfx,value:n.sfx,enable:function(){n.sfx=!0},disable:function(){n.sfx=!1}},{name:o.settings.minigameCostumes,value:n.minigameCostumes,enable:function(){n.minigameCostumes=!0},disable:function(){n.minigameCostumes=!1}},{name:"Experimental Costumes",value:n.levelUpCostumes,enable:function(){n.levelUpCostumes=!0},disable:function(){n.levelUpCostumes=!1}},{name:"Safe Screen Area",value:n.safeArea,mobile:!0,enable:function(){n.safeArea=!0,X()},disable:function(){n.safeArea=!1,X()}},{name:"Credits",type:"button",flash:!0,enable:function(){clearTimeout(Be),qe.loader(Fe,ze,[["clouddancer","clouddancer"]])}},{name:"SFX Volume",type:"slider",enable:function(e){n.sfxVolume=e,ve.sfx.volume=e},value:n.sfxVolume,preview:function(){clearTimeout(Be),n.music&&(ve.brittlerille.pause(),Be=setTimeout((function(){n.music&&ve.brittlerille.play()}),2e3)),ve.consume.stop(),ve.consume.play()}},{name:"Music Volume",type:"slider",preview:function(){ve.achievement.stop(),clearTimeout(Be),n.music&&(ve.brittlerille.pause(),Be=setTimeout((function(){n.music&&ve.brittlerille.play()}),2e3)),ve.achievement.play(),ve.achievement.sourceNode.playbackRate.value=1.1},enable:function(e){n.musicVolume=e,ve.music.volume=e},value:n.musicVolume},{name:"Advanced",type:"button",flash:!0,enable:function(){Re(Fe,(function(){}),[{name:"Use older loading screen",value:ne.useOldLoader,enable:function(){ne.useOldLoader=!0,se()},disable:function(){ne.useOldLoader=!1,se()}},{name:"120hz Animation",value:n.extendAnimationFrames,enable:function(e){qe.message(Fe,"This feature is EXPERIMENTAL, and animations might look weird with it on. "+o.settings.enableReload,xe["Sprites/GameUI"][24],(function(){n.extendAnimationFrames=!0,Z(),setTimeout((function(){window.location=window.location}),100)}),(function(){e.activated=!1,e.sprite.texture=xe["Sprites/GameUI"][25]}),[o.ui.reload,o.ui.cancel])},disable:function(e){qe.message(Fe,o.settings.disableReload,xe["Sprites/GameUI"][24],(function(){n.extendAnimationFrames=!1,Z(),setTimeout((function(){window.location=window.location}),100)}),(function(){e.activated=!0,e.sprite.texture=xe["Sprites/GameUI"][26]}),[o.ui.reload,o.ui.cancel])}}],"Advanced Settings")}},{name:"Minigames",type:"button",flash:!0,enable:function(){Re(Fe,(function(){}),[{name:"Face Match",type:"button",flash:!0,enable:function(){Re(Fe,(function(){}),[{name:"Include completed face puzzles",value:n.minigames.faceMatch.includeCompleted,enable:function(){n.minigames.faceMatch.includeCompleted=!0},disable:function(){n.minigames.faceMatch.includeCompleted=!1}}])}},{name:"GTTTATINT",type:"button",flash:!0,mobile:!0,enable:function(){Re(Fe,(function(){n.controllerProfile.GTTTATINT=a;for(let e=0;e<r.length;e++)r[e].destroy()}),[{name:"Button Size",type:"slider",enable:function(t){e(t),a.buttonScale=t},preview:function(){},value:.5},{name:"Align",type:"button",enable:function(){qe.message(Fe,"Align controllers",void 0,(function(){let e=(t[" "].sprite.y+t.a.sprite.y+t.d.sprite.y)/3;t.a.sprite.y=e,t.d.sprite.y=e,t[" "].sprite.y=e;for(let e in t)t[e].refreshProfile()}),(function(){let e=(t.a.sprite.y+t.d.sprite.y)/2;t.a.sprite.y=e,t.d.sprite.y=e;for(let e in t)t[e].refreshProfile()}),["All","Left/Right"])}},{name:"Reset",type:"button",enable:function(){qe.message(Fe,"Are you sure you want to reset the controller configuration?",void 0,(function(){for(let e in a.buttons)a.buttons[e].x=i.buttons[e].x,a.buttons[e].y=i.buttons[e].y,a.buttons[e].lock=i.buttons[e].lock;for(let e in t)t[e].refresh();a.buttonScale=i.buttonScale,e(a.buttonScale)}),(function(){}),["Yes","Cancel"])}}],"GTTTATINT Controller Profile");let e=function(e){for(let i in t)t[i].sprite.scale.x=e+.5,t[i].sprite.scale.y=e+.5,t[i].sprite.originalSize={x:t[i].sprite.scale.x,y:t[i].sprite.scale.y},t[i].sprite.destinationSize=t[i].sprite.originalSize,t[i].sprite.animationSize=t[i].sprite.originalSize,t[i].sprite.animationTime=0},t={},i={buttons:{a:{x:-150,y:-50,lock:1},d:{x:-50,y:-50,lock:1}," ":{x:100,y:-50,lock:0}},buttonScale:.5},a=n.controllerProfile.GTTTATINT;function o(e,i,n,o){let r=a.buttonScale+.5,s=new L((function(){qe.message(Fe,"Lock position to",void 0,(function(){1==a.buttons[o].lock&&(a.buttons[o].x+=c.screen.width),a.buttons[o].lock=0,s.refresh()}),(function(){0==a.buttons[o].lock&&(a.buttons[o].x-=c.screen.width),a.buttons[o].lock=1,s.refresh()}),["Bottom Left","Bottom Right"])}),xe["Sprites/GameUI"][n],{x:e,y:i,scale:{x:r,y:r}});s.sprite.on("pointerdown",(function(){for(let e in t)t[e].sprite.interactive=!1;s.sprite.interactive=!0})),s.sprite.on("pointermove",(function(){s.refreshProfile()})),s.refreshProfile=function(){0==a.buttons[o].lock?(a.buttons[o].x=s.sprite.x,a.buttons[o].y=s.sprite.y-c.screen.height):(a.buttons[o].x=s.sprite.x-c.screen.width,a.buttons[o].y=s.sprite.y-c.screen.height)},s.sprite.on("pointerup",(function(){for(let e in t)t[e].sprite.interactive=!0,t[e].refresh()})),k(s.sprite,s.sprite.hitArea),t[o]=s,c.stage.addChild(s.sprite)}o(0,0,21,"a"),o(0,0,22,"d"),o(0,0,23," ");let r=[];for(let e in t){let i=new PIXI.Sprite(xe["Sprites/GameUI"][7]);t[e].sprite.addChild(i),t[e].refresh=function(){t[e].sprite.x=c.screen.width*a.buttons[e].lock+a.buttons[e].x,t[e].sprite.y=c.screen.height+a.buttons[e].y,i.anchor.set(.5,.5),i.x=-t[e].sprite.texture.trim.width/2+a.buttons[e].lock*t[e].sprite.texture.trim.width,i.y=t[e].sprite.texture.trim.height/2,i.scale.x=.25,i.scale.y=.25,i.rotation=(1-a.buttons[e].lock)*Math.PI/2-Math.PI/4},r.push(i),r.push(t[e]),t[e].refresh()}}}],"Minigames")}},{name:"Backup",type:"button",flash:!0,enable:function(){let e=-1;Re(Fe,(function(){-1!=e&&document.body.removeChild(e)}),[{name:"Download",type:"button",flash:!1,enable:function(){let e=document.createElement("a"),t=localStorage.myTeardrop;e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),e.setAttribute("download","myTeardrop.txt"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}},{name:"Upload",type:"button",flash:!1,enable:function(){qe.message(Fe,"This will overwrite your current save file and is an irreversible action.",xe["Sprites/GameUI"][24],(function(){let t=function(t=document.createElement("button"),i=document.createElement("input")){return t.innerText="Upload",i.type="file",i.style.display="none",t.style="position:fixed;z-index: 100;top:0px;left:0px;",e=t,t.onclick=function(){i.click(),i.onchange=function(){let e=new FileReader;e.onload=function(e){ee(e.currentTarget.result),K?qe.message(Fe,"Not genuine save file. Action cancelled",xe["Sprites/GameUI"][24],(function(){})):(qe.message(Fe,"Success! Reloading game...",xe["Sprites/GameUI"][24],(function(){})),localStorage.setItem("myTeardrop",e.currentTarget.result),setTimeout((function(){window.location=window.location}),500))},e.readAsText(i.files[0])}},document.body.appendChild(i),t}();t.onclick(),document.body.appendChild(t)}),(function(){}),["Upload","Cancel"])}},{name:"Clear",type:"button",flash:!1,enable:function(){qe.message(Fe,"This action is irreversible and will completely wipe your save file!",xe["Sprites/GameUI"][24],(function(){setTimeout((function(){qe.message(Fe,"Are you really sure??",xe["Sprites/GameUI"][24],(function(){clearInterval($),localStorage.removeItem("myTeardrop"),setTimeout((function(){window.location=window.location}),500)}),(function(){}),["Proceed","Cancel"])}),500)}),(function(){}),["Proceed","Cancel"])}},{name:"Advanced",type:"button",flash:!0,enable:function(){Re(Fe,(function(){}),[{name:"Copy Backup",type:"button",flash:!1,enable:async function(){await Oe(localStorage.myTeardrop),qe.message(Fe,"Copied!")}},{name:"Upload",type:"button",flash:!1,enable:function(){qe.message(Fe,"This will overwrite your current save file and is an irreversible action.",xe["Sprites/GameUI"][24],(function(){let e=prompt("Paste in your savefile!");null!=e&&(ee(e),K?qe.message(Fe,"Not genuine save file. Action cancelled",xe["Sprites/GameUI"][24],(function(){})):(qe.message(Fe,"Success! Reloading game...",xe["Sprites/GameUI"][24],(function(){})),localStorage.setItem("myTeardrop",e),setTimeout((function(){window.location=window.location}),500)))}),(function(){}),["Upload","Cancel"])}}],"Savefile tools")}}],"Savefile tools")}}],Re=function(e=new PIXI.Container,t=function(){},i=Ge,n=Je+($e?"(release, offline)":"(release)")){Fe=e,qe.initializeScreenResolution(e);let o=new PIXI.Sprite(xe["Sprites/Rooms"][13]);e.addChild(o),o.interactive=!0,o.x=c.screen.width/2,o.y=c.screen.height/2,o.anchor.set(.5,.5),o.scale.x=1,o.scale.y=1;let r=new PIXI.Container;e.addChild(r);let l=qe.exitButton((function(){t(),Z(),qe.flash(e,!1,S)}),c.screen.width-40,40,.4,0);e.addChild(l.sprite),r.origX=0,r.time=50;let d=!1,p=function(){d||(r.x=0)},u=0,m=10;c.ticker.add(p);let f=[],g=new PIXI.Sprite(xe.Logo[0]);g.width=200,g.scale.y=g.scale.x,g.x=80,g.y=20,g.id=D(),P(g,(function(){if(m--,0==m){if(H.tauntLogo.done)return qe.message(e,"GET OUT!",-1),void setTimeout((function(){setInterval((function(){let t=De(we.Teardrop,h.Teardrop),i=[];for(let e in y)y[e].owned&&i.push(y[e]);i[Math.floor(Math.random()*i.length)].apply(t),t.x=c.screen.width*Math.random(),t.y=c.screen.height*Math.random(),t.rotation=Math.random()*Math.PI*4,t.play(60);let n=Object.keys(h.Teardrop);t.gotoPart(n[Math.floor(Math.random()*n.length)]),e.addChild(t)}),1e3/60),setTimeout((function(){window.location=window.location}),1e3)}),500);switch(u){case 0:m=10,qe.message(e,"don't.",-1);break;case 1:m=10,qe.message(e,"no.",-1);break;case 2:m=5,qe.message(e,"stop...",-1);break;case 3:m=20,qe.message(e,"STOP!!",-1);break;case 4:case 6:m=10,qe.message(e,"...",-1);break;case 5:m=10,qe.message(e,"Will you leave me alone if I give you a costume?",-1,(function(){setTimeout((function(){qe.message(e,"I'll think about it.",-1,(function(){})),m=10}),500)}),(function(){setTimeout((function(){qe.message(e,"get out.",-1,(function(){t(),qe.flash(e,!1,S)}))}),1e3)}),["Yes","No"]);break;case 7:{function i(){setTimeout((function(){qe.message(e,"Just kidding! Or am I... ok now please actually leave me alone here's your costume",-1,(function(){qe.blurPan(c.stage,(function(){S(),qe.achievementQueue("tauntLogo"),y.giant.owned=!0}))})),m=10}),500)}m=10,qe.message(e,"WARNING: THIS ACTION WILL COMPLETELY ERASE YOUR SAVE FILE!",-1,i,i,["Continue","Continue"])}}u++}})),C[g.id]=g,g.interactive=!0,f.push(g),e.addChild(g),g.anchor.set(.5,.5),g.x+=g.width/2,g.y+=g.height/2;let x=a(n,16);x.x=90,x.y=g.y+g.height/2,f.push(x),e.addChild(x);let w=80,v=0;for(let t=0;t<i.length;t++){let n=new PIXI.Container;n.pivot.y=c.screen.height/2,n.pivot.x=c.screen.width/2,n.x=n.pivot.x,n.y=n.pivot.y,e.addChild(n);let o=i[t];if(!o.hidden&&(c.touchScreen||!o.mobile))if(null==o.type){let e=new L((function(){e.activated=!e.activated,e.activated?(e.sprite.texture=xe["Sprites/GameUI"][26],o.enable(e),o.value=!0):(e.sprite.texture=xe["Sprites/GameUI"][25],o.disable(e),o.value=!1)}),o.value?xe["Sprites/GameUI"][26]:xe["Sprites/GameUI"][25],{scale:{x:.75,y:.75}});e.sprite.x=w,e.sprite.y=150+v,n.addChild(e.sprite),e.activated=o.value;let t=a(o.name,24,"left","middle");t.x=110,t.y=148+v,t.width>c.screen.width-w-t.x&&(t.width=c.screen.width-w-t.x,t.scale.y=t.scale.x),n.addChild(t),f.push(e),f.push(t),v+=40}else if("button"==o.type){let t=new E((function(){o.flash?qe.flash(e,!1,o.enable):o.enable()}),w,150+v,200,30,o.name,0,0,.5,1,"center");n.addChild(t.element),f.push(t),v+=40}else if("slider"==o.type){let e=200,t=10,i=w,r=a(o.name,20,"left","middle");r.x=w,r.y=148+v-10,n.addChild(r);let l=150+v+20;v+=50;let d=new PIXI.NineSlicePlane(xe.inputNineSlice[17],25,25,25,25);d.width=e+5+t,d.height=t+5,n.addChild(d),d.x=i-2.5-t/2,d.y=l-2.5-t/2;let c=new PIXI.NineSlicePlane(xe.inputNineSlice[15],25,25,25,25);c.width=e+t,c.height=t,n.addChild(c),c.x=i-t/2,c.y=l-t/2;let h=new PIXI.NineSlicePlane(xe.inputNineSlice[16],25,25,25,25);h.width=e/2-4+t,h.height=t-4,n.addChild(h),h.x=i+2-t/2,h.y=l+2-t/2;let p=new L((function(){}),xe["Sprites/GameUI"][43],{scale:{x:.5,y:.5}});p.sprite.x=i,p.sprite.y=l,n.addChild(p.sprite),p.sprite.originalHitArea=p.sprite.hitArea,p.sprite.on("pointerdown",(function(e){p.sprite.hitArea=new PIXI.Rectangle(-3e3,-3e3,6e3,6e3),p.sprite.dragging=!0;let t=e.clientX/s,i=e.clientY/s;p.sprite.dragOffset={x:t-p.sprite.x,y:i-p.sprite.y}})),p.sprite.on("pointermove",(function(t){let n=t.clientX/s;t.clientY,p.sprite.dragging&&(p.sprite.x=Math.min(i+e,Math.max(i,n-p.sprite.dragOffset.x)),h.width=p.sprite.x-h.x,o.enable((p.sprite.x-i)/e),o.value=(p.sprite.x-i)/e)})),p.sprite.on("pointerup",(function(){p.sprite.dragging=!1,p.sprite.hitArea=p.sprite.originalHitArea,o.preview()})),f.push(p),f.push(h),f.push(c),f.push(d),o.set=function(n){h.width=e*n-4+t,p.sprite.x=i+e*n},o.set(o.value),f.push(r)}}function S(){Z();for(let e=0;e<f.length;e++)f[e].destroy();l.destroy(),o.destroy(),r.destroy(),c.ticker.remove(p),d=!0,window.removeEventListener("resize",I),delete C[g.id]}let I=function(){o.x=c.screen.width/2,o.y=c.screen.height/2,l.sprite.x=c.screen.width-40};return window.addEventListener("resize",I),e},_e=function(e){let t=Math.floor(e/1e3),i=t%60+"s",n=Math.floor(t/60)%60+"m",a=Math.floor(t/3600)%24+"h";return Math.floor(t/86400)+"d "+a+" "+n+" "+i},Ue=[],je=function(e,i=0,o=0,r="gtttatint"){let s=[],l=function(){};if("tennis"==r||"tennis2"==r){let t=new PIXI.Sprite(xe["Sprites/Rooms"][15]);t.interactive=!0,t.x=e.screen.width/2,t.y=e.screen.height/2,t.anchor.set(.5,.5),t.tint=12576249,e.addChild(t),s.push(t);let i=function(e,t){let i=new PIXI.Container;e.addChild(i),i.pivot.x=-c.screen.width/2,i.pivot.y=-c.screen.height/2;let n=Matter.Engine.create(),a={},o=!1;document.addEventListener("keydown",(function(e){let t=e.key.toLowerCase();"ArrowLeft"==e.key&&(t="a"),"ArrowRight"==e.key&&(t="d"),"ArrowUp"==e.key&&(t=" "),"w"==e.key&&(t=" "),a[t]=!0,["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"," "].includes(e.key)&&e.preventDefault()})),document.addEventListener("keyup",(function(e){let t=e.key.toLowerCase();"ArrowLeft"==e.key&&(t="a"),"ArrowRight"==e.key&&(t="d"),"ArrowUp"==e.key&&(t=" "),"w"==e.key&&(t=" "),a[t]=!1})),document.addEventListener("pointerdown",(function(){o=!0})),document.addEventListener("pointerup",(function(){o=!1}));let r=[],s=[];if(t){let e={},t=1,n=Matter.Bodies.polygon(50*(Math.random()-.5),-600,16,100);e.box=n;let a=De(we.faceMinigame);a.goto(98),a.scale.x=t,a.scale.y=t,i.addChild(a),e.sprite=a,a.interactive=!0,a.hitArea=new PIXI.Rectangle(-100,-100,200,200),P(a,(function(){a.goto(97)})),a.buttonId=D(),C[a.buttonId]=a,r.push(e),s.push(n)}for(let e=0;e<c.screen.width/360*150;e++){let t={},n=.5+Math.random()/2,a=Matter.Bodies.polygon(400*(Math.random()-.5),-400-20*e,16,30*n);t.box=a;let o=new PIXI.Sprite(xe["Sprites/tennisBall"][Math.floor(Math.random()*xe["Sprites/tennisBall"].length)]);o.scale.x=n,o.scale.y=n,o.anchor.set(.5,.5),i.addChild(o),t.sprite=o,r.push(t),s.push(a)}let l=Matter.Bodies.rectangle(0,150,16e3,120,{isStatic:!0}),d=Matter.Bodies.rectangle(-c.screen.width/2-100,-0,20,900,{isStatic:!0}),h=Matter.Bodies.rectangle(c.screen.width/2+100,-0,20,900,{isStatic:!0});Matter.Composite.add(n.world,[l,...s,d,h]);let p=function(e){for(let e=0;e<r.length;e++){let t=r[e].sprite,i=r[e].box;t.rotation=i.angle,t.x=i.position.x,t.y=i.position.y}Matter.Engine.update(n,e*(1e3/60))};return c.ticker.add(p),function(){c.ticker.remove(p),Matter.World.clear(n.world),Matter.Engine.clear(n);for(let e=0;e<r.length;e++)null!=r[e].sprite.destroyAnimation?(r[e].sprite.destroyAnimation(),delete C[r[e].sprite.buttonId]):r[e].sprite.destroy()}}(e,"tennis2"==r),n=new PIXI.Sprite(xe["Sprites/Rooms"][20]);n.x=0,n.y=0,e.addChild(n),n.blendMode=PIXI.BLEND_MODES.ADD,n.tint=6737151,n.anchor.set(.5,.5),n.x=e.screen.width/2,n.y=e.screen.height/2,n.scale.y=2,n.rotation=1,n.alpha=.25,l=function(){n.destroy(),i()}}if("gtttatint"==r){let t=new PIXI.Sprite(xe["Sprites/Rooms"][15]);t.interactive=!0,t.x=e.screen.width/2,t.y=e.screen.height/2,t.anchor.set(.5,.5),t.tint=12576249,e.addChild(t),s.push(t);let i=Math.random,n={},a=0;for(let t=0;t<60;t++){let o=new PIXI.Sprite(xe["Sprites/Clouds"][Math.floor(3*i())]);e.addChild(o),o.anchor.set(.5,.5),o.y=i()*e.screen.height,o.orig={y:o.y},o.scale.x=.2+t/150,o.scale.y=.2+t/150,o.speed=1,o.x=e.screen.width/2+(i()-.5)*p.linear(e.screen.width,360,.25)*p.linear(o.scale.x,1,.5),i()>.5&&(o.scale.x*=-1);let r=o.texture.trim;null==r&&(r=o.texture._frame),o.pivot.y=-r.height,n[a++]=o}for(let t=0;t<10;t++){xe.inputNineSlice[6];let o=new PIXI.Sprite(xe["Sprites/Clouds"][3]);e.addChild(o),o.y=e.screen.height/10*t,o.orig={y:o.y},o.scale.x=1,o.scale.y=1,o.speed=8,o.x=e.screen.width/2+360*(i()-.5)*p.linear(o.scale.x,1,.5),i()>.5&&(o.scale.x*=-1);let r=o.texture.trim;null==r&&(r=o.texture._frame),o.pivot.y=-r.height,n[a++]=o}let o=De(we.GTTTATINTLOSE);o.loop=!0,o.play(),o.x=e.screen.width/2,o.y=0,e.addChild(o);let r=1e3*Math.random(),d=function(){o.x=p.linear(o.x,e.screen.width/2+10*Math.cos(r/25),.025,it),o.y=p.linear(o.y,e.screen.height/2-50+10*Math.cos(r/30),.025,it),o.rotation=p.linear(o.rotation,.1*Math.cos(r/20),.1,it),r+=it;for(let t in n)n[t].y-=n[t].scale.y*n[t].speed*2*it,n[t].y<-100&&(n[t].y=e.screen.height)};c.ticker.add(d);let h=new PIXI.Sprite(xe["Sprites/Rooms"][20]);h.x=0,h.y=0,e.addChild(h),h.blendMode=PIXI.BLEND_MODES.ADD,h.tint=16776960,h.anchor.set(.5,.5),h.x=e.screen.width/2,h.y=e.screen.height/2,h.scale.y=2,h.rotation=1,h.alpha=.1,l=function(){for(let e in n)n[e].destroy(),delete n[e];h.destroy(),o.destroyAnimation(),c.ticker.remove(d)}}let d=function(){h.y=p.linear(h.y,e.screen.height/2+80,.1,it)},h=(new PIXI.Container,new PIXI.NineSlicePlane(xe.inputNineSlice[10],15,15,15,15));h.x=0,h.y=e.screen.height,h.width=e.screen.width,h.height=e.screen.height/2+100,e.addChild(h);let u=a("Game Over!",32,"center");"tennis2"==r&&(u.text="Completed!"),u.x=e.screen.width/2,u.y=30,h.addChild(u);let m=["Score: "+i,"Coins: "+o];for(let t=0;t<m.length;t++){let i=a(m[t],20,"left");i.x=e.screen.width/2-u.width/2-30,i.y=70+30*t,h.addChild(i),s.push(i)}let y=!1,f=function(){y||(y=!0,o>0&&n.sfx&&(ve.collect.stop(),ve.collect.play()),function(){c.ticker.add(I);for(let t=0;t<v;t++){let t=new PIXI.Sprite(xe["Sprites/GameUI"][14]);t.scale.x=.4+.5*Math.random(),t.scale.y=t.scale.x,t.anchor.set(.5,.5),t.y=g.transform.worldTransform.ty,t.vr=Math.random()-.5,t.facing=Math.random()*Math.PI*2;let i=1+8*Math.random();t.vx=i*Math.cos(t.facing),t.vy=i*Math.sin(t.facing),t.x=g.transform.worldTransform.tx,e.addChild(t),x[w++]=t}0!=v&&(g.visible=!1),setTimeout((function(){t.coins+=o,Z()}),500)}())},g=new PIXI.Sprite(xe["Sprites/GameUI"][14]);h.addChild(g),g.x=e.screen.width/2-u.width/2-50,g.y=112,g.scale.x=.5,g.scale.y=.5,g.anchor.set(.5,.5),c.ticker.add(d);let x={},w=0,v=Math.min(1e4,o),I=function(){for(let e in x){let t=x[e];t.y+=t.vy*it,t.x+=t.vx*it;let i=50,n=50;t.facing=Math.atan2(n-t.y,i-t.x);let a=8,o=S(t.x,t.y,i,n);o<50?(t.vx=a*Math.cos(t.facing),t.vy=a*Math.sin(t.facing)):(t.vx=p.linear(t.vx,a*Math.cos(t.facing),.02,it),t.vy=p.linear(t.vy,a*Math.sin(t.facing),.02,it)),t.rotation+=t.vr/10*it,o<5*it&&(t.destroy(),v--,delete x[e]),v<=0&&c.ticker.remove(I)}M&&(b.updateCounter(p.linear(b.getCounterAmount(),t.coins,.05,it)),b.y=p.linear(b.y,20,.1,it))},b=qe.coinCounter(e);function k(){c.ticker.remove(d),l(),u.destroy(),b.destroyCounter(),M=!1;for(let e=0;e<s.length;e++)s[e].destroy()}b.x=20,b.y=-80,e.addChild(b);let M=!0,T=!1,A=new L((function(){T||(T=!0,f(),setTimeout((function(){qe.blurPan(e,(function(){k(),qe.gameList(e)}))}),1e3))}),xe["Sprites/GameUI"][49],{x:e.screen.width/2-80,y:170,scale:{x:.75,y:.75}});h.addChild(A.sprite);let E=new L((function(){T||(T=!0,f(),setTimeout((function(){qe.blurPan(e,(function(){k(),qe[r](e)}))}),1e3))}),xe["Sprites/GameUI"][50],{x:e.screen.width/2+80,y:170,scale:{x:.75,y:.75}});h.addChild(E.sprite);let O=a("Home",20,"center");h.addChild(O),O.x=A.sprite.x,O.y=A.sprite.y+50;let X=a("Retry",20,"center");h.addChild(X),X.x=E.sprite.x,X.y=E.sprite.y+50,s.push(X),s.push(O),s.push(A),s.push(E),s.push(h)},We=function(e=new PIXI.Container,t=function(){}){qe.initializeScreenResolution(e);let i=new PIXI.Sprite(xe["Sprites/Rooms"][14]);e.addChild(i),i.interactive=!0,i.x=c.screen.width/2,i.y=c.screen.height/2,i.anchor.set(.5,.5),i.scale.x=1,i.scale.y=1;let r=new PIXI.Container;e.addChild(r);let l={},d=0,h=0,u=[],m=0;for(let e in n.minigames.faceMatch.progressState)-1==n.minigames.faceMatch.progressState[e][0]&&m++;let y=new PIXI.BitmapText(o.ui.achievements+": "+m+"/"+we.faceMinigame.frameCount,{fontSize:32,fontName:"ShagBlack"});y.x=40,y.y=20,y.width>c.screen.width-130&&(y.width=c.screen.width-130,y.scale.y=y.scale.x),e.addChild(y);let f=a("",32,"center");f.x=c.screen.width/2,f.y=c.screen.height-150,n.costume;let g=new PIXI.Container,x=new PIXI.Graphics;g.mask=x,e.addChild(g),g.x=0,g.y=80;let w=c.screen.width,v=c.screen.height-80;x.beginFill(0),x.drawRect(g.x,g.y,w,v),x.endFill(),g.interactive=!0,g.on("pointerdown",(function(e){let t=e.clientY/s;g.dragOffset={y:t-g.y},g.prevY=g.y,g.vy=0,g.scrolling=!0,g.origY=g.y}));let S=function(e){if(!g.scrolling)return;g.wheel=!1;let t=e.clientY/s;if(Math.abs(g.origY-g.y)>10)for(let e=0;e<g.children.length;e++)g.children[e].emit("pointerout"),g.children[e].interactive=!1;g.prevY=g.y,g.y=t-g.dragOffset.y},I=function(e){g.wheel=!0,g.vy=p.linear(g.vy,-e.deltaY/2*it,.25),g.vy>40*it&&(g.vy=40*it),g.vy<-40*it&&(g.vy=-40*it)};document.addEventListener("wheel",I);let C=function(){g.scrolling=!1;for(let e=0;e<g.children.length;e++)g.children[e].interactive=!0};document.addEventListener("pointermove",S),document.addEventListener("pointerup",C),g.vy=0;let b=function(){let e=80-k-50+v;g.vy=p.linear(g.vy,0,g.wheel?.1:.05,it),g.scrolling?g.vy=g.y-g.prevY:g.y+=g.vy,P.targetAlpha=1,g.y>=80&&(g.y=80,g.vy=0),g.y<=e&&(P.targetAlpha=0,g.y=e,g.vy=0),P.alpha=p.linear(P.alpha,P.targetAlpha,.1,it)};c.ticker.add(b);let P=new PIXI.Sprite(xe["Sprites/Rooms"][11]);P.x=g.x,P.y=g.y+v-90,P.width=w,P.height=100;let k=0,M=2;M=Math.floor(c.screen.width/153);for(let t=0;t<we.faceMinigame.frameCount;t++){let i=new E((function(){let i=qe.popup(e,310,310);qe.faceMatch(i,!0,t)}),t%M*153+w/2-M/2*153,203*Math.floor(t/M),150,200,"",0,0,0,2);g.addChild(i.element);let o=De(we.faceMinigame);o.gotoAndStop(t),i.element.addChild(o);let r=o.body.texture.trim;o.body.inactive&&(r=o.body2.texture.trim);let s=new PIXI.Rectangle(0,0,0,0);o.scale.x=100/(r.height>r.width?r.height:r.width),o.scale.y=o.scale.x,o.x=75,o.y=80,o.hitArea=s;let l=a("#"+(t+1),16,"left",void 0,1);l.x=10,l.y=8,l.alpha=.5,i.element.addChild(l);let d=n.minigames.faceMatch.progressState[t];null==d&&(d=[]);let c=-1==d[0]?26:25,h=new PIXI.Sprite(xe["Sprites/GameUI"][c]);h.scale.x=.6,h.scale.y=.6,h.anchor.set(.5,.5),i.element.addChild(h),h.x=30,h.y=170,h.hitArea=s;let p=null==d[0]?"-":d[0]+"%";-1==d[0]&&(p="100%");let u=a(p,16,"left",void 0,1);u.alpha=.5,u.anchor.y=.5,u.x=h.x+20,u.y=h.y,i.element.addChild(u)}k=203*Math.ceil(we.faceMinigame.frameCount/M),u.push(y);let T=qe.exitButton((function(){t(),qe.flash(e,!1,D)}),c.screen.width-40,40,.4,0);e.addChild(T.sprite),r.origX=0,r.time=50;let A=!1,L=function(){A||(r.x=0,d>.01&&(r.x+=Math.cos(h)*d*5,h+=.5*it,d=p.linear(d,0,.1,it)),f.alpha>0&&(f.alpha-=.04))};function D(){c.ticker.remove(b),document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",C),document.removeEventListener("wheel",I);for(let e in l)null!=l[e].destroy&&l[e].destroy(),delete l[e];f.destroy(),T.destroy(),i.destroy();for(let e=0;e<u.length;e++)u[e].destroyed||u[e].destroy();c.ticker.remove(L),A=!0}return c.ticker.add(L),e.addChild(f),u.push(P),u.push(g),u.push(x),e},Ve=0;n.hideFridgeExit=!0;let He,Ye,Qe,Ke=function(){let e=new PIXI.Container,t=new PIXI.Sprite(xe["Sprites/Rooms"][5]);return qe.initializeScreenResolution(e),e.addChild(t),t.interactive=!0,t.x=e.width/2,t.y=e.height/2,t.anchor.set(.5,.5),t.scale.x=1,t.scale.y=1,e};const qe={language:function(e=function(){}){let t=new PIXI.Sprite(xe["Sprites/Rooms"][12]);c.stage.addChild(t),t.interactive=!0,t.x=c.screen.width/2,t.y=c.screen.height/2,t.anchor.set(.5,.5),t.scale.x=1,t.scale.y=1;let i=new PIXI.Container;c.stage.addChild(i);let r=0,l={},d=[],h=a("",32,"center");h.x=c.screen.width/2,h.y=c.screen.height-150,n.costume;let p={},u=new PIXI.Container,m=new PIXI.Graphics;u.mask=m,c.stage.addChild(u),u.x=40,u.y=80;let y=c.screen.width-80,f=c.screen.height-80;m.beginFill(0),m.drawRect(u.x,u.y,y,f),m.endFill(),u.interactive=!0,u.on("pointerdown",(function(e){let t=e.clientY/s;u.dragOffset={y:t-u.y},u.prevY=u.y,u.vy=0,u.scrolling=!0})),u.vy=0;let g=new PIXI.Sprite(xe["Sprites/Rooms"][11]);g.alpha=0,c.stage.addChild(g),g.x=u.x,g.y=u.y+f-100,g.width=y,g.height=100;for(let e in Xe){let t=Xe[e];if(t.hidden)continue;let i=!1;t.owned||-1!=t.cost||(i=!0);let s=new E((function(){h.text=""}),0,0+84*r,y,80,"",0,0,0,2);p[e]=s,s.element.interactive=!1,u.addChild(s.element),new PIXI.Rectangle(0,0,0,0);let l,c=new PIXI.BitmapText(t.lang,{fontSize:24,fontName:"arial"});if(c.x=20,c.y=5,s.element.addChild(c),null!=t.translator){let e=a(o.ui.translator+": "+t.translator.name,12,"left","middle",1);e.x=20,e.y=50,s.element.addChild(e)}c.width>y-50&&(c.width=y-50),c.scale.y=c.scale.x,-1==t.sprite&&(l.x-=80,c.x-=80),console.log(t);let m=new E((function(){if(t.downloaded)return void qe.message(o.settings.enableReload,xe["Sprites/GameUI"][24],(function(){n.language=e,Z(),setTimeout((function(){window.location=window.location}),500)}),(function(){}),[o.ui.reload,o.ui.cancel]);let i=qe.message("Downloading...",xe["Sprites/GameUI"][24]);PIXI.Assets.load(t.file+".json").then((t=>{setTimeout((function(){i.exit(),t.version=f,localStorage.setItem(e,JSON.stringify(t)),n.language=e,Z(),setTimeout((function(){window.location=window.location}),500)}),2e3)}))}),y-10,70,100,20,t.button[t.downloaded?1:0],0,1,1,1,"center"),f="";PIXI.Assets.load(t.file+"-version.json").then((i=>{if(f=i.version,null!=localStorage.getItem(e))try{let n=JSON.parse(localStorage.getItem(e));i.version!=n.version&&(m.inputText.text=t.button[2],t.downloaded=!1)}catch(i){}})),s.element.addChild(m.element),d.push(c),d.push(s),r++}let x=qe.exitButton((function(){e(),Z(),qe.flash(!1,v)}),c.screen.width-40,40,.4,0);c.stage.addChild(x.sprite);let w=!1;function v(){for(let e in l)null!=l[e].destroy&&l[e].destroy(),delete l[e];h.destroy(),x.destroy(),t.destroy();for(let e=0;e<d.length;e++)d[e].destroyed||d[e].destroy();w=!0}c.stage.addChild(h),d.push(g),d.push(u),d.push(m)},oddDroplets:function(e,t="",i=!1){let r=function(){n.minigameMusic&&ve.howitbegins.play()};ve.howitbegins.on("end",r),n.minigameMusic&&(ve.howitbegins.play(),ve.howitbegins.volume=1);let s=new PIXI.Sprite(xe["Sprites/Rooms"][19]);s.interactive=!0,s.x=c.screen.width/2,s.y=c.screen.height/2,s.anchor.set(.5,.5),e.addChild(s);let l,d=Date.now(),p=new PIXI.Container,u=0,m=0,f=function(){let t=[];l=function(){for(let e=0;e<t.length;e++)t[e].destroy()};let i=4,a=2,o=1,r={x:c.screen.width/2.5,y:c.screen.height/3};switch(m){case 1:i=6,c.screen.width>640?(a=3,o=.9,r.x=c.screen.width/3.5):(r.y/=1.25,o=.92);break;case 2:i=10,c.screen.width>640?(a=5,o=.9,r.x=c.screen.width/6):(r.y/=2,a=2,o=.5);break;case 3:i=15,c.screen.width>640?(a=5,o=.75,r.x=c.screen.width/6,r.y*=.9):(r.y/=2,a=3,r.x*=.75,o=.5);break;case 4:i=24,c.screen.width>640?(a=6,o=.5,r.x=c.screen.width/6,r.y=c.screen.height/6):(r.x=c.screen.width/5,r.y=c.screen.height/7,a=4,o=.4)}let d=0,u=Math.floor(Math.random()*i),f=2*Math.floor(20*Math.random());for(let e=0;e<i;e++){let i=De(we.oddDroplets),s=De(we.oddDroplets);for(let e=0;e<s.layers.length;e++){let t=s[i.layers[e]];null!=xe[t.symbol+"OUTLINE12"]&&v(t,t.symbol+"OUTLINE12")}t[e]={destroy:function(){i.destroyAnimation(),s.destroyAnimation()},disableInteractivity:function(){i.interactive=!1}};let l=f+(e==u?1:0);i.hitArea=new PIXI.Rectangle(-45,-75,90,150),i.goto(l),i.x=c.screen.width/2-(a-1)/2*r.x+r.x*(e%a),i.y=c.screen.height/2+Math.floor(e/a)*r.y,d=Math.floor(e/a),i.scale.x=o,i.scale.y=o,s.goto(l),s.x=i.x,s.y=i.y,s.scale.x=o,s.scale.y=o,p.addChild(s),p.addChild(i),i.interactive=!0,i.on("pointerup",(function(){for(let e=0;e<t.length;e++)t[e].disableInteractivity();let a=1+Math.floor(4*Math.random());n.sfx&&(ve["slap"+a].attack=0,ve["slap"+a].stop(),ve["slap"+a].play());let r=De(we.Teardrop,h.Teardrop);y.outline.apply(r);let l=De(we.Teardrop,h.Teardrop);p.addChild(r),p.addChild(l),r.gotoPart("Slap"),r.d.visible=!1,r.play(),r.x=i.x,r.y=i.y+80*o,r.scale.x=o,r.scale.y=o,l.gotoPart("Slap"),l.d.visible=!1,l.play(),l.x=i.x,l.y=i.y+80*o,l.scale.x=o,l.scale.y=o,i.destroy(),s.destroy(),t[e]={destroy:function(){r.destroyAnimation(),l.destroyAnimation()}},u==e?(w++,40==w&&qe.achievementQueue("oddDroplets40"),g+=I):(w=0,g-=I,ve.fail.play(),D()),g<0&&(g=0),P.text="score: "+g,C=S+60}))}e.addChild(p),s.scale.x=.95,s.scale.y=.95,S=0,p.pivot.x=c.screen.width/2,p.pivot.y=c.screen.height/2- -d*r.y/2,p.x=p.pivot.x,p.y=p.pivot.y+-d*r.y/2},g=0,x=function(){ve.howitbegins.off("end",r),ve.howitbegins.stop(),P.destroy();for(let e=0;e<E.length;e++)E[e].destroyAnimation();s.destroy(),c.ticker.remove(b),qe.gameList(e,"oddDroplets"),qe.results(e,g,Math.floor(g/100)),A.destroyPause(),l(),window.onblur=function(){}},w=0,S=0;f();let I=0,C=-1,b=function(){let t=600*(m/2+1);if(I=Math.floor(eases.easeOutQuint(Math.max(0,Math.min(t,S-60)),200,-190,t)*(m/2+1)),p.scale.x=eases.easeOutQuad(Math.min(50,S),.9,.1,50),p.scale.y=p.scale.x,s.scale.x=p.scale.x/2+.5,s.scale.y=s.scale.x,S+=it,C<=S&&-1!=C){if(C=-1,A.interactive=!1,L<=-1)return void qe.blurPan(e,x);qe.blurPan(e,(function(){if(A.interactive=!0,l(),u++,m=Math.floor(u/10),m>=5){let e=[0,0,1,1,1,1,2,2,2,0,0,1,1,1,1,2,2,2,3,4];m=e[Math.floor(Math.random()*e.length)]}f()}))}};c.ticker.add(b);let P=a("score: 0",32);P.anchor.set(0,0),P.x=20,P.y=20,e.addChild(P),window.onblur=function(){k||T()};let k=!1,M=0;function T(){k=!k,A.changePause(k),k?(n.inGame=!1,c.ticker.remove(b),M=-Date.now(),ve.howitbegins.pause(),qe.message(e,o.ui.gamePaused,xe["Sprites/GameUI"][32],(function(){T()}),(function(){qe.blurPan(e,(function(){x()}))}),[o.ui.play,o.ui.home],!1)):(M+=Date.now(),d+=M,n.inGame=!0,n.minigameMusic&&ve.howitbegins.play(),c.ticker.add(b))}let A=qe.pauseButton((function(){T()}),.4);e.addChild(A),A.x=c.screen.width-40,A.y=40;let E=[];for(let t=0;t<3;t++){let i=De(we.healthLose);e.addChild(i),i.gotoAndStop(0),i.x=c.screen.width-90-35*t,i.y=40,i.scale.x=.4,i.scale.y=.4,E.push(i)}let L=2,D=function(){L--;for(let e=0;e<E.length;e++)e>L&&E[e].play()}},dropletDodge:function(e,t="",i=!1){qe.initializeScreenResolution(e,!0);let r=new PIXI.Sprite(xe["Sprites/Rooms"][15]);if(e.addChild(r),r.interactive=!0,r.x=c.screen.width/2,r.y=c.screen.height/2,r.anchor.set(.5,.5),e.screen.width<e.screen.height){let n=De(we.rotateDevice);e.addChild(n),n.x=c.screen.width/2,n.y=c.screen.height/2,n.play(),n.loop=!0;let o=a("Rotate your screen to play this minigame!",16,"center",void 0,1);return e.addChild(o),o.maxWidth=320,o.x=c.screen.width/2,o.y=c.screen.height/2+100,void(onresize=function(){onresize=function(){},o.destroy(),n.destroyAnimation(),qe.flash(e,!1,(function(){qe.dropletDodge(e,t,i)}))})}let s=function(){n.minigameMusic&&(ve.howitbegins.play(),ve.howitbegins.sourceNode.playbackRate.value=1.1)};ve.howitbegins.on("end",s),s();let l={0:{name:"Coin",collect:function(){O(2)}},1:{name:"Silver Coin",collect:function(){O(1)}},2:{name:"Heart",collect:function(){}},3:{name:"Fireball",float:!0,collect:function(){}}},d={0:{name:"Spike",box:{x:.35,y:.2,width:.3,height:.4},hurt:!0},1:{name:"Short Spike",box:{x:.35,y:.2,width:.3,height:.4},hurt:!0},2:{name:"Double Spike",box:{x:.35,y:.2,width:.3,height:.4},hurt:!0}},u=new PIXI.TilingSprite(xe["Sprites/dodgeBackgrounds"][2]);u.interactive=!0,u.x=0,u.y=0,u.width=e.screen.width,u.height=e.screen.height,u.tileScale.x=1.28,u.tileScale.y=1.28,e.addChild(u);let m=new PIXI.TilingSprite(xe["Sprites/dodgeBackgrounds"][3]);m.interactive=!0,m.x=0,m.y=0,m.width=e.screen.width,m.height=e.screen.height,m.tileScale.x=1.28,m.tileScale.y=1.28,e.addChild(m);let f=Date.now(),g={},x=!1;document.addEventListener("keydown",(function(e){let t=e.key.toLowerCase();"ArrowLeft"==e.key&&(t="a"),"ArrowRight"==e.key&&(t="d"),"ArrowUp"==e.key&&(t=" "),"w"==e.key&&(t=" "),g[t]=!0,["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"," "].includes(e.key)&&e.preventDefault()})),document.addEventListener("keyup",(function(e){let t=e.key.toLowerCase();"ArrowLeft"==e.key&&(t="a"),"ArrowRight"==e.key&&(t="d"),"ArrowUp"==e.key&&(t=" "),"w"==e.key&&(t=" "),g[t]=!1})),document.addEventListener("pointerdown",(function(){x=!0})),document.addEventListener("pointerup",(function(){x=!1}));let w={x:80,y:-100,width:60,height:60,vx:0,vy:0,boost:0,box:new PIXI.Graphics,hurt:!1,invincibility:0},v=function(){w.hurt||(g.a&&(w.vx-=.5*it),w.vx+=.5*it),w.x+=w.vx*it,w.y+=w.vy*it,w.vx=p.linear(w.vx,0,1-.92,it),w.vy+=.4*it,w.vy+=w.boost,w.vy>10&&(w.vy=10),w.boost/=16,P.x=w.x+w.width/2,P.y=w.y+w.height,w.vx,P.scale.x=p.linear(P.scale.x,.4-Math.abs(w.vy/100),.1,it),P.scale.y=p.linear(P.scale.y,.4+Math.abs(w.vy/100),.5,it),w.box.x=w.x,w.box.y=w.y,w.isOnGround=!1;for(let e in X){let t=X[e];if(t.transparent&&(t.sprite.rotation+=(t.rotateTo<0?-.1:.1)*it,t.sprite.x+=t.sprite.vx*it,t.sprite.y+=t.sprite.vy*it,t.sprite.vy+=.2*it,t.sprite.vx=p.linear(t.sprite.vx,0,.05)),I(w,t)&&!t.transparent&&(t.ladder||w.vy>0&&w.y<t.y-w.height+(4+w.vy)*it)){t.broken&&(t.sprite.vy=w.vy/2,t.transparent=!0,t.rotateTo=w.x+w.width/2-t.sprite.x,t.sprite.vx=10*(Math.random()-.5)),t.ladder||(w.y=t.y-w.height,w.isOnGround=!0),t.blocky&&!i&&qe.achievementQueue("blockplatformgtttatint"),w.vy=0,w.max<t.id&&!t.ladder&&(t.id,w.max),w.max=t.id;let e=7;t.boost&&(e*=2),(g[" "]||t.boost||t.ladder)&&(t.ladder?(w.y-=2*it,w.vy-=10):w.boost-=10)}}for(let e in X)X[e];C.x=p.linear(C.x,-w.x-e.screen.width/5,.1,it),C.y=p.linear(C.y,Math.max(0,-w.y),.1,it),u.tilePosition.x=C.x/10,m.tilePosition.x=C.x/5,m.y=C.y/5,w.hurt||(w.isOnGround?g.a?P.gotoPart("Idle"):P.gotoPart("Running"):P.gotoPart("Jump"));for(let e in K)if(l[K[e].item].float&&(K[e].y+=K[e].vy*it,K[e].x+=K[e].vx*it,K[e].sprite.x=K[e].x,K[e].sprite.y=K[e].y),I(w,K[e])&&1!=K[e].collecting&&(l[K[e].item].collect(),l[K[e].item].float||(K[e].collecting=!0)),K[e].collecting){K[e].y+=K[e].vy*it,K[e].x+=K[e].vx*it,K[e].sprite.x=K[e].x,K[e].sprite.y=K[e].y;let t=w.x+w.width/2+w.vx,i=w.y+w.height/2+w.vy;K[e].facing=Math.atan2(i-K[e].y,t-K[e].x);let n=32,a=S(K[e].x,K[e].y,t,i);K[e].sprite.scale.x=Math.min(1,a/40),K[e].sprite.scale.y=K[e].sprite.scale.x,a<20?(K[e].vx=n/2*Math.cos(K[e].facing),K[e].vy=n/2*Math.sin(K[e].facing)):(K[e].vx=p.linear(K[e].vx,n*Math.cos(K[e].facing),.05,it),K[e].vy=p.linear(K[e].vy,n*Math.sin(K[e].facing),.05,it)),K[e].rotation+=K[e].vr/10*it,a<10*it&&(K[e].sprite.destroy(),delete K[e])}for(let e in q)I(w,q[e])&&d[q[e].object].hurt&&1!=w.hurt&&w.invincibility<=0&&(se(),w.hurt=!0,P.gotoPart("Hurt"),w.vx=-5,w.vy=-5,P.onAnimationEnd=function(){w.vy=-5,P.onAnimationEnd=function(){},w.hurt=!1,w.invincibility=120});w.invincibility>0?(w.invincibility-=it,P.visible=!P.visible):P.visible=!0,w.x+1e3>N&&Q()};c.ticker.add(v);let C=new PIXI.Container;e.addChild(C);let b=new PIXI.Graphics;C.addChild(b),C.addChild(w.box),C.pivot.x=-e.screen.width/2,C.pivot.y=-e.screen.height/2;let P=De(we.dropletDodge,h.dropletDodge),k=["a","b","c","d","e","f","g","h","i","j","k","l"];for(let e=0;e<k.length;e++)null==P.a[k[e]]&&(P.a[k[e]]={symbol:"Sprites/Empty",currentFrame:0,gotoAndStop:function(){}});function M(t,i,n,a){let o=new L((function(){}),xe["Sprites/GameUI"][n],{x:t,y:i,scale:{x:1,y:1}});o.sprite.on("pointerdown",(function(){g[a]=!0})),o.sprite.on("pointermove",(function(){x&&o.sprite.emit("pointerdown")})),o.sprite.on("pointerout",(function(){o.sprite.emit("pointerup")})),o.sprite.on("pointerup",(function(){g[a]=!1})),e.addChild(o.sprite)}y[n.costume].apply(P),C.addChild(P),P.x=e.screen.width/2,P.y=e.screen.height/2,P.scale.x=.4,P.scale.y=.4,P.play(),P.gotoPart("Idle"),c.touchScreen&&(M(150,e.screen.height-50,54,"a"),M(e.screen.width-100,e.screen.height-50,53," "));let T=new PIXI.Sprite(xe["Sprites/GameUI"][55]);T.anchor.set(.5,.5),T.x=e.screen.width/2,T.y=-20,e.addChild(T);let A=a("0",24);A.x=-100,A.y=35,T.addChild(A);let E=a("0",24);E.x=55,E.y=35,T.addChild(E);let D=0,O=function(e){D+=e,A.text=D},X={},F=p.linear(e.screen.width-60,300,.75),B=0,N=0,z=0;function G(e,t,i,n){let a=function(){let a=5*t;return a=9*(a<<7|a>>>25),n^=t,t^=i^=e,e^=n,n=n<<11|n>>>21,(a>>>0)/2**32};for(let e=0;e<100;e++)a();return a}let R=function(e){let t=[];for(let i=0;i<4;i++){let n=2**32;for(let t=0;t<4;t++)n-=(e.charCodeAt(t+4*i)+30*i)**4;t.push(n)}return t};if(""==t){let e=function(){return Math.floor(1e6+9999999*Math.random()).toString(36)};t=e()+e()+e()+e()}if(t.length<16){let e="";for(let i=0;i<16;i++)e+=t,t.length/2==Math.floor(t.length/2)&&(e+="}");t=e}let _=R(t),U=G(_[0],_[1],_[2],_[3]),j=0,W=0,V=0,H=0,Y=10+Math.floor(10*U());function Q(i=!1){50*Math.floor(z/50)==z&&0!=z&&(t=function(e){let t="";for(let i=0;i<e.length;i++)t+=0==i?e[e.length-1]:e[i-1];return t}(t),_=R(t),U=G(_[0],_[1],_[2],_[3])),Y--,0==Y&&(H=Math.floor(3*U()),Y=0==H?5+Math.floor(5*U()):10+Math.floor(10*U()),2==H&&(Y=1));let n=40*(4+Math.floor(10*U()));2==H&&(n*=4),U();let a=!(U()<.5);V>=200&&(a=!0);let o=N+40*Math.floor(1+2*U()),r=V+(a?40:-40);a&&U()>.75&&(r-=80);let s=!1;!a&&U()>.75&&(r+=80,o+=160,s=!0),r>=240&&(r=240),V=r,N=o+n;let l={x:o,y:r,width:n,height:40,id:z,transparent:!1,ladder:j>1,blocky:W>0};B<F&&(B+=12);let d=xe.inputNineSlice[19];1==H&&(d=xe.inputNineSlice[6]),2==H&&(d=xe.inputNineSlice[20]);let c=new PIXI.NineSlicePlane(d,25,25,25,25);c.width=l.width,c.height=0==z?e.screen.height:l.height/4,2==H&&(c.height*=2),0==H&&(c.height=3e3-r),c.pivot.x=l.width/2,c.pivot.y=c.height/2,c.x=l.x+c.pivot.x,c.y=l.y+c.pivot.y,c.vy=0,c.vx=0,C.addChild(c),l.sprite=c,c.zIndex=0,X[z]=l,z++,j--,W--;let h=function(e,t){let i={x:e,y:t,width:60,height:60,vx:5,vy:0,boost:0},n={a:!1,d:!1," ":!1};return i.setKey=function(e,t){n[e]=t},i.nextFrame=function(){n.a&&(i.vx-=.5),i.vx+=.5,i.x+=i.vx,i.y+=i.vy,i.vx=p.linear(i.vx,0,1-.92),i.vy+=.4,i.vy+=i.boost,i.vy>10&&(i.vy=10),i.boost/=16,i.isOnGround=!1;for(let e in X){let t=X[e];I(i,t)&&!t.transparent&&(t.ladder||i.vy>0&&i.y<t.y-i.height+(4+i.vy)*it)&&(i.hurt?i.vy*=-2:i.vy=0,i.max<t.id&&!t.ladder&&(t.id,i.max),i.max=t.id,(n[" "]||t.boost||t.ladder)&&(t.ladder?(i.y-=2,i.vy-=10):i.hurt?i.boost-=5:i.boost-=10))}},i.simulate=function(e){let t=[];for(let n=0;n<e;n++)i.nextFrame(),t.push({x:i.x,y:i.y});return t},i}(o+n-50,r-w.height);h.setKey("d",!0),h.setKey(" ",!0);let u=h.simulate(50),m={};if(U()>.75){let e=U()>.95;for(let t=0;t<2;t++)for(let i=0;i<u.length;i++){let n,a,o=u[i].x,r=u[i].y+40*t;for(let e=0;e<3;e++)for(let t=0;t<3;t++){let i=Math.round(o/40),s=Math.round(r/40);I({x:o,y:r,width:0,height:0},{x:40*i+40*e,y:40*s+40*t,width:40,height:40})&&(n=i+e,a=s+t)}null==m[n+" "+a]&&(m[n+" "+a]=!0,$(e||i>45?0:1,40*n,40*a))}}let y=U()>.5&&l.width>160?1+Math.round(U()):0,f=Math.round(2*(U()-.5));s&&(f-=2);for(let e=0;e<y;e++){let t={x:l.x+(l.width/2+40*f)+40*e,y:l.y-40},i=0;i=y>=2?Math.round(U()):U()>.7?2:0,ee(i,t.x,t.y)}}let K={},q={},J=0,Z=0;function $(e,t,i){let n={x:t,y:i,width:10,height:10,vx:0,vy:0,item:e};n.id=J++,K[n.id]=n;let a=new PIXI.Sprite(xe["Sprites/dodgeItems"][e]);return a.x=t,a.y=i,C.addChild(a),n.sprite=a,a.anchor.set(.5,.5),n}function ee(e,t,i){let n=d[e].box,a={x:t+40*n.x,y:i+40*n.y,width:40*n.width,height:40*n.height,vx:0,vy:0,object:e};a.id=Z++,q[a.id]=a;let o=new PIXI.Sprite(xe["Sprites/dodgeObjects"][e]);o.x=t,o.y=i,C.addChild(o),a.sprite=o}for(let e=0;e<4;e++)Q();w.x=X[0].x+X[0].width/2-w.width/2,window.onblur=function(){te||ne()};let te=!1,ie=0;function ne(){te=!te,ae.changePause(te),te?(n.inGame=!1,c.ticker.remove(v),ie=-Date.now(),ve.howitbegins.pause(),qe.message(e,o.ui.gamePaused,xe["Sprites/GameUI"][32],(function(){ne()}),(function(){qe.blurPan(e,(function(){ve.howitbegins.off("end",s),ve.howitbegins.stop(),u.destroy(),c.ticker.remove(v),qe.gameList("dropdodge"),qe.results(0,Math.floor(0)),ae.destroyPause(),clearDroplets(),window.onblur=function(){}}))}),[o.ui.play,o.ui.home],!1)):(ie+=Date.now(),f+=ie,n.inGame=!0,n.minigameMusic&&s(),c.ticker.add(v))}let ae=qe.pauseButton((function(){ne()}),.4);e.addChild(ae),ae.x=e.screen.width-40,ae.y=40;let oe=[];for(let t=0;t<3;t++){let i=De(we.healthLose);e.addChild(i),i.gotoAndStop(0),i.x=50+35*t,i.y=40,i.scale.x=.4,i.scale.y=.4,oe.push(i)}let re=2,se=function(){re--;for(let e=0;e<oe.length;e++)e>re&&oe[e].play()}},setUpTints:function(){He=new PIXI.Sprite(xe["Sprites/Blur"][1]),Ye=new PIXI.Sprite(xe["Sprites/RepeatingUI"][2]),Qe=new PIXI.Sprite(xe["Sprites/RepeatingUI"][3])},achievementQueue:function(e,t=!1){0==W.length&&(V=0),t&&0!=W.length&&(V++,qe.achievement(e,(function(){W.shift(),qe.achievementQueue(W[0],!0)}))),t||H[e].done||(W.push(e),H[e].done=!0,1==W.length&&qe.achievement(e,(function(){W.shift(),qe.achievementQueue(W[0],!0)})))},achievement:function(e,t=function(){}){let i=["get2763intennis","get2763gtttatint","slapTD2763","2763lemons"],a=0;for(let e=0;e<i.length;e++)H[i[e]].done&&a++;a==i.length&&qe.achievementQueue("get2763"),n.sfx&&-1!=e&&(ve.achievement.stop(),ve.achievement.play(),ve.achievement.sourceNode.playbackRate.value=1+V/16);let o=-1==e?{}:H[e];-1==e&&(o.title="Syncing...",o.description="bleh!",o.icon=65);let r=new PIXI.NineSlicePlane(xe.inputNineSlice[2]);r.width=320,r.x=c.screen.width/2,r.y=-500,c.stage.addChild(r);let s=new PIXI.BitmapText(o.title,{fontName:"ShagBlack",fontSize:24});r.height=s.height+50,s.anchor.set(0,.5),s.x=80,s.y=20,r.addChild(s);let l=new PIXI.BitmapText(o.description,{fontName:"ShagBlack",fontSize:16,breakWords:!0,wordWrap:!0,wordWrapWidth:200,maxWidth:r.width-80,whiteSpace:"normal"});l.anchor.set(0,0),r.height+=l.height,l.anchor.set(0,.5),l.x=80,l.y=35+l.height/2,r.addChild(l),r.pivot.set(r.width/2,r.height/2),null==o.icon&&(o.icon=11);let d=xe["Sprites/GameUI"][o.icon],h=new PIXI.Sprite(d);r.addChild(h),h.anchor.set(.5,.5),h.y=r.height/2-5,h.x=40,h.scale.x=.5,h.scale.y=.5;let p=0,u=Math.random()-.5;setTimeout((function(){m.x=r.x,m.y=r.y,m.rotation=r.rotation,m.scale=r.scale,r.closing=!0,p=0}),2500);let m={x:c.screen.width/2,y:-r.height/2,rotation:u,scale:.5};r.onDestroyed=function(){},r.destroyBook=function(){r.onDestroyed(),c.ticker.remove(y),s.destroy(),h.destroy(),r.destroy({children:!0}),t()};let y=function(){if(r.closing){if(r.y=ease[16](Math.min(40,p),m.y,-m.y-r.height,40),r.rotation=ease[1](Math.min(70,p),m.rotation,u,70),p>40)return void r.destroyBook()}else r.x=ease[17](Math.min(80,p),m.x,0,80),r.y=ease[8](Math.min(70,p),m.y,r.height+20,70);r.scale.y=r.scale.x,p+=it};return c.ticker.add(y),r},updateWarning:function(){qe.message(o.message.updateWarning(Je,Ze),xe["Sprites/GameUI"][24],(function(){window.location=window.location}),(function(){}),[o.ui.reload,o.ui.ignore]),console.log(o.ui)},exitButton:function(e=function(){},t,i,n=1,a=0){let o=new L((function(){o.activated||(o.activated=!0,e())}),xe["Sprites/GameUI"][11],{scale:{x:n,y:n},x:t,y:i},!0);return o.sprite.on("pointerover",(function(){o.sprite.texture=xe["Sprites/GameUI"][12]})),o.sprite.on("pointerout",(function(){o.sprite.texture=xe["Sprites/GameUI"][11]})),o},pauseButton:function(e=function(){},t=1){let i=new PIXI.Sprite(xe["Sprites/GameUI"][32]);i.anchor.set(.5,.5),i.interactive=!0;let n=xe["Sprites/GameUI"][32].trim;return i.scale.x=t,i.scale.y=t,i.hitArea=new PIXI.Rectangle(-n.width/2,-n.height/2,n.width,n.height),i.id=b,C[D()]=i,P(i,e),i.destroyPause=function(){delete C[i.id],i.destroy()},i.changePause=function(e){e?(i.texture=xe["Sprites/GameUI"][34],i.interactive=!1):(i.texture=xe["Sprites/GameUI"][32],i.interactive=!0)},i},skew:function(){let e=De(we.SkewMatrix);e.play(20),c.stage.addChild(e),e.x=180,e.y=320,setInterval((function(){}),1e3/60)},fade:function(e,t=20,i=20){c.stage.children.includes(Ye)&&c.stage.removeChild(Ye),Ye.interactive=!0,c.stage.addChild(Ye),Ye.alpha=0;let n=1/t,a=!1;c.ticker.add((function t(){Ye.alpha+=n*it,Ye.alpha>=1&&(Ye.alpha=1,a||(a=!0,e()),c.stage.removeChild(Ye),c.stage.addChild(Ye),n=-1/i),Ye.alpha<0&&(c.ticker.remove(t),c.stage.removeChild(Ye))}))},flash:function(e,t=!1,i=function(){},n=!1){let a=new PIXI.Sprite(xe["Sprites/RepeatingUI"][3]);a.width=c.screen.width,a.height=c.screen.height,e.addChild(a),a.alpha=t?1:0;let o=t?-1/60:1/8;n?(a.interactive=!0,o/=4):a.interactive=!1;let r=!1;c.ticker.add((function n(){a.alpha+=o*it,a.alpha>=1&&!t&&(a.alpha=1,r||(r=!0,i(),a.interactive=!1),e.removeChild(a),e.addChild(a),o=-1/60),a.alpha<0&&(c.ticker.remove(n),a.destroy())}))},blackTint:function(e,t=.5,i=!0){if("number"==typeof e)return void console.log("forgotten source code rework!!");let n=new PIXI.Sprite(xe["Sprites/RepeatingUI"][3]);function a(){n.width=c.screen.width,n.height=c.screen.height,n.alpha+=r*it,n.alpha>=t&&(n.alpha=t,r=0),n.alpha<0&&(n.alpha=0,n.delete&&(c.ticker.remove(a),e.removeChild(n)))}n.interactive=!0,n.width=c.screen.width,n.height=c.screen.height,i?(n.blendMode=PIXI.BLEND_MODES.SUBTRACT,n.tint=16777215):(n.blendMode=PIXI.BLEND_MODES.NORMAL,n.tint=0),e.children.includes(n)&&e.removeChild(n),e.addChild(n);let o=!1;n.start=function(e=60){r=1/e,o||(o=!0,c.ticker.add(a))},n.end=function(e=60){r=-1/e},n.delete=!0,n.alpha=0;let r=1/60;return n},book:function(e,t,i=function(){},n=30){let a=qe.blackTint(e,.2);a.start();let o=new PIXI.Sprite(xe["Sprites/GameUI"][10]);o.x=c.screen.width/2,o.y=c.screen.height/2,o.anchor.set(.5,.5),e.addChild(o);let r=[],s=0,l=0,d=[],h=t.split(" "),p="",u=new PIXI.BitmapText(t,{fontName:"IndieFlower",fontSize:24});for(let e=0;e<h.length;e++){let t=p;p+=h[e]+" ",u.text=p,u.width>200&&(d.push(t),e--,p="")}""!=p&&d.push(p),u.destroy();let m=0,y=2*Math.round(Math.random())-1,f=d;for(let e=0;e<f.length;e++){let t=new PIXI.BitmapText("",{fontName:"IndieFlower",fontSize:24});t.x=-70,t.y=29.5*e-195,o.addChild(t),r.push(t)}let g,x=function(){r[l].text+=f[l][s],s>=f[l].length-1&&(l++,s=-1),s++,l==r.length&&clearInterval(g)};setTimeout((function(){g=setInterval(x,1e3/n)}),500);let w=qe.exitButton((function(){w.interactive=!1,v.x=o.x,v.y=o.y,v.rotation=o.rotation,v.scale=o.scale,o.closing=!0,m=0}),150,-220,.4,.1);w.sprite.alpha=0,o.addChild(w.sprite),w.sprite.interactive=!1,w.show=!1,setTimeout((function(){w.show=!0,w.sprite.interactive=!0}),1500);let v={x:0,y:c.screen.height+500,rotation:y,scale:.5};o.onDestroyed=function(){},o.destroyBook=function(){o.onDestroyed(),c.ticker.remove(S);for(let e=0;e<r.length;e++)r[e].parent.removeChild(r[e]),r[e].destroy();w.destroy(),o.destroy({children:!0}),i()};let S=function(){if(w.show&&(w.sprite.alpha+=.05),w.sprite.alpha>=1&&(w.sprite.alpha=1,w.show=!1),o.closing){if(o.y=ease[16](Math.min(40,m),v.y,-v.y+c.screen.height+500,40),o.rotation=ease[1](Math.min(70,m),v.rotation,y,70),m>40)return a.end(),void o.destroyBook()}else o.x=ease[17](Math.min(80,m),v.x,c.screen.width/2,80),o.y=ease[8](Math.min(70,m),v.y,-c.screen.height/2-29.5*(f.length+5),70),o.rotation=ease[17](Math.min(90,m),v.rotation,-y,90),o.scale.x=ease[17](Math.min(90,m),v.scale,.5,90);o.scale.y=o.scale.x,m+=it};return c.ticker.add(S),o},blurPan:function(e,t=function(){}){He.visible=!0,He.x=4*-He.texture.orig.width/2,He.y=c.screen.height/2,He.scale.x=4,He.scale.y=4,He.anchor.set(.5,.5),e.addChild(He);let i=!1,n=function(){He.x+=300*it,He.x>c.screen.width/2&&!i&&(t(),i=!0,e.addChild(He)),He.x>c.screen.width+4*He.texture.orig.width/2&&(c.ticker.remove(n),e.removeChild(He),He.visible=!1)};c.ticker.add(n)},animationSelector:function(){let e=0,t=[];function i(){for(let e=0;e<t.length;e++)t[e].destroy()}for(let n in we){let a=new E((function(){let e={};null!=h[n]&&(e=h[n]),i(),qe.animationTester(we[n],e)}),20,20+28*e,c.screen.width-40,24,n,10,0,0);c.stage.addChild(a.element),t.push(a),e++}return{destroy:i}},animationTester:function(e,t){let i=De(e,t),n=new PIXI.Sprite(PIXI.Texture.from("./Sprites/anchor.png"));n.anchor.set(.5,.5),i.addChild(n),c.stage.addChild(i),i.x=c.screen.width/2,i.y=c.screen.height/2,i.onNextFrame=function(){r.value=i.getCurFrame()};let o=0,r=new class{constructor(e,t){this._value=t,this.info=e,this.text=a(this.info+": "+this._value,12,"left"),this.text.x=20,this.text.y=c.screen.height-60-16*o,o++,c.stage.addChild(this.text)}set value(e){this._value=e,this.text.text=this.info+": "+this._value}}("Frame","0");i.play(60),i.interactive=!0,k(i);let s=new A(20,c.screen.height-20,150,20,"FPS",10,0,1);s.confirmation=function(){i.play(parseInt(s.inputText.value))},c.stage.addChild(s.element);let l=0,d=new E((function(){i.currentPart=-1,i.playUntil=-1,i.loop=!0}),20,20+20*l,90,18,"none",10,0,0);c.stage.addChild(d.element),l++;for(let e in t){let t=new E((function(){i.gotoPart(e)}),20,20+20*l,90,18,e,10,0,0);c.stage.addChild(t.element),l++}},intro:function(e=!1){if(0==e)return void qe.loader((function(){qe.intro(!0)}),[["plodder","plodder"]]);let t=0;Ae(we.bfb),Ae(we.bfb),Ae(we.bfb);for(let e in we.bfb.layers){for(let i=0;i<we.bfb.layers[e].frames.length;i++){let n=we.bfb.layers[e].frames[i];n[Le.firstFrame]=t,n[Le.loopMode]=2,n[Le.tween]=0}t+=5}we.bfb.symbols.Test=we.faceMinigame;let i=n.music;setTimeout((function(){setTimeout((function(){o.play(192)}),1e3),n.music=!1,ve.brittlerille.stop(),ve.plodder.play(),ve.plodder.sourceNode.playbackRate.value=1,ve.plodder.on("end",(function(){o.destroyAnimation(),a.destroy(),n.music=i,i&&ve.brittlerille.play()}))}),10/24*1e3);let a=new PIXI.Sprite(xe["Sprites/RepeatingUI"][3]);a.width=c.screen.width+80,a.height=c.screen.height+80,a.tint=13421772,a.x=-40,a.y=-40,c.stage.addChild(a);let o=De(we.bfb);c.stage.addChild(o),o.scale.x=1/.56,o.scale.y=1/.56,o.x=-2762,o.y=-1736},lollipop:function(e=!1){let t=new PIXI.Sprite(xe["Sprites/RepeatingUI"][3]);t.width=c.screen.width+80,t.height=c.screen.height+80,t.tint=16752989,t.x=-40,t.y=-40,c.stage.addChild(t);let i=De(we.lollipopMode);i.x=c.screen.width/2-320,i.scale.x=640/360,i.scale.y=i.scale.x,c.stage.addChild(i),i.play(24),i.loop=!0,console.log(xe)},myTeardrop:function(){0==H.aprilFools_boom.done&&Date.now()<17436276e5&&n.skipIntro&&(n.aprilFools1=!0);let e=new PIXI.Container;qe.initializeScreenResolution(e);let r=Math.floor((Date.now()-n.lastLogin)/1e3);n.genuineLastLogin=n.lastLogin;let l=288;if(i.happiness-=r/180,i.hunger-=r/108,i.sleeping){let G=i.sleep;i.sleep+=r/l*8,i.sleep>100&&(i.sleep=100),i.progress+=4*(i.sleep-G)}i.sleep>=100&&(i.sleeping=!1),i.happiness=Math.max(0,i.happiness),i.hunger=Math.max(0,i.hunger),i.sleep=Math.max(0,i.sleep);let d=function(){},u=new PIXI.Container;u.sortableChildren=!0,e.addChild(u),u.x=c.screen.width/2,u.y=c.screen.height/2;let m="livingRoom",f={sky:xe["Sprites/Rooms"][8],rooms:{livingRoom:{bg:xe["Sprites/Rooms"][8]},kitchen:{bg:xe["Sprites/Rooms"][1],bgFront:xe["Sprites/Rooms"][2]},bedroom:{bg:xe["Sprites/Rooms"][3],bgFront:xe["Sprites/Rooms"][4]}}};n.events.christmas&&(f.rooms.livingRoom.bg=xe["Sprites/Rooms"][23],f.sky=xe["Sprites/Rooms"][22]);let g=new PIXI.Sprite(f.sky);u.addChild(g),g.x=0,g.y=0,g.anchor.set(.5,.5),g.scale.x=1,g.scale.y=1;let x=new PIXI.TilingSprite(xe["Sprites/Rooms"][24]);u.addChild(x),x.width=g.width,x.height=1e3,x.x=-g.width/2,x.y=-500,x.tileScale.x=.75,x.tileScale.y=.75;let w=new PIXI.Sprite(f.rooms.livingRoom.bg);u.addChild(w),w.x=0,w.y=-100,w.anchor.set(.5,.5),w.scale.x=1,w.scale.y=1,w.visible=!1;let v=new PIXI.Sprite(f.rooms.livingRoom.bg);u.addChild(v),v.x=0,v.y=0,v.anchor.set(.5,.5),v.scale.x=1,v.scale.y=1;let I=new PIXI.Sprite(xe["Sprites/Rooms"][0]);I.x=0,I.y=0,I.anchor.set(.5,.5),I.scale.x=1,I.scale.y=1,I.zIndex=3;let b=n.skipIntro,T=1,A=0,B=new PIXI.BitmapText(o.intro.mail,{fontSize:24,fontName:"MenuShag"});function N(){setInterval((function(){n.inGame?(i.happiness+=.2,i.progress+=1):i.happiness-=1/180;let t=1/108;n.inGame&&(t*=8),i.hunger-=t;let a=.003472222222222222;if(n.inGame&&(a*=16,n.temporaryInGameTime++),i.sleeping?(i.sleep+=.027777777777777776,i.progress+=.1111111111111111):n.introMode||(i.sleep-=a),n.lastLogin=Date.now(),i.happiness=Math.max(0,i.happiness),i.hunger=Math.max(0,i.hunger),i.sleep=Math.max(0,i.sleep),i.happiness=Math.min(100,i.happiness),i.hunger=Math.min(100,i.hunger),i.sleep=Math.min(100,i.sleep),!i.sleeping&&(i.sleep<20&&!O.tired&&(O.tired=!0,O.switchData(we[_.tired]),O.switchParts(h[j]),O.gotoPart("Sleepy")),i.sleep>20&&O.tired&&(O.tired=!1,O.switchData(we[_.awake]),O.switchParts(h[U]),O.gotoPart("Realize")),i.progress>i.progressNeeded&&!n.inGame&&n.canLevelUp&&(qe.flash(e,!1,(function(){n.level++,de.text=n.level,i.progress=i.progress-i.progressNeeded,i.progressNeeded=200+(n.level-1)**1.25*20,le.offset=i.progress/i.progressNeeded,qe.levelUp(e),Z()})),n.canLevelUp=!1),i.progress<0&&(i.progress=0),i.aprilFoolsStarted&&n.aprilFools1)){if(i.sleep<=21&&(i.sleep=21),i.aprilFools-=2,50==i.aprilFools)return i.aprilFoolsStarted=!1,void qe.message(e,"Teardrop needs to use the bathroom!",xe["Sprites/GameUI"][37],(function(){i.aprilFoolsStarted=!0,Y("bathroom")}));i.aprilFools<=0&&0==i.aprilFoolsDone&&(ve.brittlerille.release=.2,ve.brittlerille.stop(),O.interactive=!1,O.patting=!1,O.gotoPart("Panic"),O.onAnimationEnd=function(){let e=new PIXI.Sprite(xe["Sprites/Rooms"][15]);e.anchor.set(.5,.5),u.addChild(e),e.zIndex=10,e.tint=16711731,e.blendMode=PIXI.BLEND_MODES.ADD,z(e,"alpha",0,.1,.05),u.x+=10,z(u,"x",c.screen.width/2,.1,.6),u.y-=10,z(u,"y",c.screen.height/2,.1,.5),ve.dropletSquirt.play(),O.gotoPart("Explode"),O.onAnimationEnd=function(){O.stop(),O.alpha=0,O.visible=!1,i.sleeping=!0,H.aprilFools_boom.done=!0,Z(),setTimeout((function(){H.aprilFools_boom.done=!1,qe.achievementQueue("aprilFools_boom"),Z()}),5e3)}},i.aprilFoolsDone=!0)}}),1e3),n.canLevelUp=!0;let l=new PIXI.Sprite(xe["Sprites/GameUI"][19]);l.anchor.set(.5,.5),l.scale.x=.1,l.scale.y=.1,l.rotation=-1;let g=new L((function(){l.active=!1,qe.flash(e,!1,(function(){qe.wardrobe(e,(function(){se.updateCounter(t.coins),null!=O.destroyCostume&&(O.destroyCostume(),O.destroyCostume=void 0),y.none.apply(O),O.getCurFrame()>O.playUntil?O.gotoAndStop(O.playUntil):O.gotoAndStop(O.getCurFrame()),O.play(),y[n.costume].apply(O),O.applyCostumeAnimations()}))}))}),xe["Sprites/GameUI"][17],{x:100,y:100,scale:{x:.6,y:.6}}),T=new L((function(){l.active=!1,qe.flash(e,!1,(function(){qe.gameList(e)}))}),xe["Sprites/GameUI"][20],{x:100,y:100,scale:{x:.6,y:.6}}),B=new L((function(){l.active=!1,qe.flash(e,!1,(function(){qe.settings(e)}))}),xe["Sprites/GameUI"][33],{x:100,y:100,scale:{x:.4,y:.4}}),N=new L((function(){l.active=!1,window.open("https://youtu.be/ZaydrDA2rLw")}),xe["Sprites/GameUI"][109],{x:100,y:100,scale:{x:.4,y:.4}});B.sprite.title=[o.ui.settings,32],N.sprite.title=["Watch",32],T.sprite.title=[o.ui.games,24],g.sprite.title=[o.ui.wardrobe,24];let G=new L((function(){l.active=!1,qe.flash(e,!1,(function(){qe.achievements(e)}))}),xe["Sprites/GameUI"][35],{x:100,y:100,scale:{x:.6,y:.6}});G.sprite.title=[o.ui.achievements,24];let W=[g.sprite,T.sprite,G.sprite],V=[B.sprite,N.sprite];for(let e=0;e<W.length;e++){let t=W[e],i=a(t.title[0],t.title[1],"center");t.addChild(i),i.y=-80;let n=Math.cos((e+.5-2)/8*Math.PI*2),o=Math.sin((e+.5-2)/8*Math.PI*2);t.x=100*n,t.y=100*o,t.original={x:t.x,y:t.y},l.addChild(t),t.speed=.05}for(let e=0;e<V.length;e++){let t=V[e];W.push(t),t.speed=.03;let i=a(t.title[0],t.title[1],"center");t.addChild(i),i.y=-80;let n=Math.cos((e+1-2)/8*Math.PI*2),o=Math.sin((e+1-2)/8*Math.PI*2);t.x=160*n,t.y=160*o,t.original={x:t.x,y:t.y},l.addChild(t)}e.addChild(l);let Y=function(r,g=!1){if(m==r&&"livingRoom"==r?(l.x=ie.buttonContainer.x,l.y=ie.buttonContainer.y,n.introMode||n.aprilFools1||(l.active=!l.active)):l.active=!1,m==r)return;m=r,v.interactive=!1,v.removeAllListeners();let x=function(){if(i.sleeping&&(O.visible=!1),d(),ie.selected.visible=!1,ne.selected.visible=!1,oe.selected.visible=!1,n.aprilFools1&&(ae.selected.visible=!1),O.rotation=0,w.visible=!1,"livingRoom"==r&&(v.texture=f.rooms.livingRoom.bg,I.texture=xe["Sprites/Rooms"][0],I.visible=!1,O.x=0,O.y=100,ie.selected.visible=!0,d=function(){}),"bathroom"==r){v.texture=xe["Sprites/Rooms"][26],I.texture=xe["Sprites/Rooms"][0],I.visible=!1;let l=De(we.Toilet,h.Toilet);l.zIndex=1,u.addChild(l),l.x=-70,l.y=0,l.scale.x=.75,l.scale.y=.75;let g=xe["Sprites/GameUI"][83].trim;l.hitArea=new PIXI.Rectangle(-g.width/2,-g.height/2,g.width,g.height);let x=!1,M=0,T=a("CLICK / TAP!!!",24,"center");T.x=l.x,T.y=l.y-150,u.addChild(T),T.alpha=0,1==i.aprilFoolsState&&(l.plungerMode=!0,l.gotoAndStop(h.Toilet.putPlunger.end),l.play(),z(T,"alpha",1,.1,.1)),2==i.aprilFoolsState&&(l.plungerMode=!0,l.gotoAndStop(h.Toilet.Explode.end),M=30);let L=function(){};P(l,(function(){if(l.plungerMode){if(30==M)return;return l.gotoPart("Plunger"),l.currentPart=-1,M++,void(30==M&&(T.text="oops...",l.emit("pointerup"),l.gotoPart("Explode"),l.interactive=!1,i.aprilFoolsState=2))}0==x?(l.gotoPart("Open"),i.aprilFools>50&&O.gotoPart("Nope")):i.aprilFools<=50?qe.message(e,"oh no, its clogged!! use this!",void 0,(function(){let e=new PIXI.Sprite(xe["Sprites/GameUI"][88]);e.zIndex=4,e.anchor.set(.5,.5),e.scale.x=.1,e.scale.y=.1,e.interactive=!0,k(e),u.addChild(e),e.x=0,e.y=0,z(e.scale,"x",.5,.1,.2),z(e.scale,"y",.5,.1,.2),L=function(){R(e.scale),e.destroy(),L=function(){}},P(e,(function(){S(l.x,l.y,e.x,e.y)<100&&(L(),l.gotoPart("putPlunger"),l.plungerMode=!0,i.aprilFoolsState=1,z(T,"alpha",1,.1,.1))}),!1,!0)})):l.gotoPart("Close"),x=!x,l.play()})),2!=i.aprilFoolsState?(l.interactive=!0,l.buttonId=D(),C[l.buttonId]=l):l.interactive=!1,O.x=70,O.y=100,ae.selected.visible=!0,d=function(){delete C[l.buttonId],l.destroyAnimation(),L(),R(T),T.destroy()}}if("kitchen"==r){function X(){if("kitchen"==m)for(let e=0;e<3;e++)""!=t.fridge[20+e]&&null!=t.fridge[20+e]?(N[e].eated=!1,N[e].x=B.x-50+50*e,N[e].interactive=!0,N[e].y=B.y,N[e].alpha=1,N[e].eating=!1,N[e].visible=!0,N[e].food=t.fridge[20+e],N[e].foodId=20+e,N[e].texture=xe["Sprites/Food"][F[t.fridge[20+e]].texture]):N[e].visible=!1}b||(Q=1.5),v.interactive=!0,v.hitArea=new PIXI.Rectangle(100,-290,300,350),v.on("pointerdown",(function(){v.interactive=!1,2==Q&&(Q=3),qe.flash(e,!1,(function(){qe.fridge(e,(function(){se.updateCounter(t.coins),X(),n.introMode&&(se.visible=!0)})),v.interactive=!0}))})),I.visible=!0,v.texture=f.rooms.kitchen.bg,I.texture=f.rooms.kitchen.bgFront,u.addChild(I),w.visible=!0,O.x=-10,O.y=100,ne.selected.visible=!0;let B=new PIXI.Sprite(xe["Sprites/Food"][0]);B.zIndex=4,B.anchor.set(.5,.5),B.x=0,B.y=70,u.addChild(B);let N=[];for(let V=0;V<3;V++){let K=new PIXI.Sprite(xe["Sprites/Food"][1]),q=new PIXI.filters.PixelateFilter(1);"pixeldrop"==n.costume&&(K.filters=[q]),K.zIndex=5,K.visible=!0,K.x=B.x-50+50*V,K.y=B.y,K.x2=K.x,K.y2=K.y,K.anchor.set(.5,.5),u.addChild(K),K.interactive=!0,K.hitArea=new PIXI.Rectangle(-K.texture.trim.width/2,-K.texture.trim.height,2*K.texture.trim.width,2*K.texture.trim.height),K.on("pointerdown",(function(e){K.hitArea=new PIXI.Rectangle(-3e3,-3e3,6e3,6e3),K.dragging=!0;let t=e.clientX/s,i=e.clientY/s;K.dragOffset={x:t-K.x,y:i-K.y};for(let e=0;e<N.length;e++)N[e].interactive=!1;K.interactive=!0})),K.on("pointermove",(function(e){let t=e.clientX/s,i=e.clientY/s;if(K.dragging&&(K.x2=t-K.dragOffset.x,K.y2=i-K.dragOffset.y),"pixeldrop"==n.costume){let e=Math.max(1,5-S(K.x2,K.y2,0,0)/16);q.size[0]=e,q.size[1]=e}})),K.eated=!1,K.on("pointerup",(function(a){n.introMode&&Q<=3&&setTimeout((function(){i.sleep=19,Q=4,re.alpha=0,re.rotation=0,oe.buttonContainer.alpha=0,oe.buttonContainer.visible=!0}),2e3),K.hitArea=new PIXI.Rectangle(-K.texture.trim.width/2,-K.texture.trim.height,2*K.texture.trim.width,2*K.texture.trim.height),K.dragging=!1;for(let e=0;e<N.length;e++)N[e].interactive=!0;if(K.x2=B.x-50+50*V,K.y2=B.y,i.sleeping)return;if(K.eated)return;K.eated=!0;let o=F[K.food].adds;if("lemon"==n.costume&&("sourlemon"==K.food?o=12:o/=3),!K.food.includes("potion")){if(O.tired)return;if(i.hunger+o/2>=100)return K.eated=!1,O.gotoPart("Nope"),void(O.currentPart=-1)}K.eating=!0,O.interactive=!1,setTimeout((function(){"sleeppotion"==K.food&&(i.sleep=100,n.drinksFed+=1,10==n.drinksFed&&(qe.achievementQueue("10energydrinks"),y.energydrink.owned=!0)),"maxpotion"==K.food&&(i.sleep=0,i.happiness=100,i.hunger=100),O.food.textures=[K.texture],"voiddrop"==n.costume||y[n.costume].noSecondSprite?O.gotoPart("EatVoid"):"sourlemon"==K.food&&"lemon"!=n.costume?O.gotoPart("EatSour"):O.gotoPart("Eat"),"sourlemon"==K.food&&(n.lemonsFed+=1,"_td_costume4"==n.costume&&(null==n.specialAchievementStuff.lemonsFedWine?n.specialAchievementStuff.lemonsFedWine=1:n.specialAchievementStuff.lemonsFedWine++,console.log(n.specialAchievementStuff),Z()),n.lemonsFed>=2763&&!H["2763lemons"].done&&qe.flash(e,!1,(function(){y.limedrop.apply(O),y.limedrop.owned=!0,n.costume="limedrop",Z(),qe.achievementQueue("2763lemons")}),!0),n.lemonsFed>=100&&!H.lemons.done&&qe.flash(e,!1,(function(){y.lemon.apply(O),y.lemon.owned=!0,n.costume="lemon",Z(),qe.achievementQueue("lemons")}),!0),n.specialAchievementStuff.lemonsFedWine>=50&&!H.brew.done&&qe.flash(e,!1,(function(){y.beerdrop.apply(O),y.beerdrop.owned=!0,n.costume="beerdrop",Z(),qe.achievementQueue("brew")}),!0),Z()),n.sfx&&(ve.consume.stop(),ve.consume.play()),t.fridge[K.foodId]="",setTimeout((function(){i.hunger+=o,i.progress+=20+F[K.food].adds/4,i.happiness+=Math.round(Math.max(0,(40-i.happiness)/2)),i.hunger>=100&&(i.hunger=100),O.currentPart=-1}),400),O.onAnimationEnd=function(){O.interactive=!0,O.onAnimationEnd=function(){}}}),100)})),N.push(K)}X();let G=function(){if(!W)for(let e=0;e<N.length;e++){let t=N[e];t.dragging?(t.x=p.linear(t.x,t.x2,.4,it),t.y=p.linear(t.y,t.y2,.4,it)):t.eating?(t.x=p.linear(t.x,O.x-75,.2,it),t.y=p.linear(t.y,O.y-100,.3,it),t.alpha=p.linear(t.alpha,0,.2,it),t.interactive=!1):(t.x=p.linear(t.x,t.x2,.2,it),t.y=p.linear(t.y,t.y2,.3,it)),t.rotation=(t.x-t.x2)/100+(t.y-t.y2)/100,t.scale.x=1+(t.y-B.y)/600+Math.abs(t.x-t.x2)/100-Math.abs(t.y-t.y2)/100,t.scale.y=t.scale.x+Math.abs(t.y-t.y2)/100-Math.abs(t.x-t.x2)/100}},W=!1;c.ticker.add(G),d=function(){W=!0,c.ticker.remove(G);for(let e=0;e<N.length;e++){let t=N[e];t.parent.removeChild(t),t.destroy()}B.parent.removeChild(B),B.destroy(),v.removeAllListeners(),d=function(){}}}if("bedroom"==r){O.visible=!0,I.visible=!0,v.texture=f.rooms.bedroom.bg,I.texture=f.rooms.bedroom.bgFront,w.visible=!0,v.hitArea=new PIXI.Rectangle(-160,-140,100,150),v.interactive=!0,v.lit=!i.sleeping;let J=new PIXI.ColorMatrixFilter;J.matrix=[.2,0,0,0,0,0,.2,0,0,0,0,0,.5,0,0,0,0,0,1,0],v.lit||(u.filters=[J]),v.on("pointerdown",(function(){n.introMode&&qe.fade((function(){!function(e,t=function(){}){let i=new PIXI.Sprite(xe["Sprites/Rooms"][15]);i.tint=0,i.x=c.screen.width/2,i.y=c.screen.height/2,i.anchor.set(.5,.5),e.addChild(i),i.interactive=!0;let n=new PIXI.BitmapText("Open the Wheel of Fun by holding down the happiness button.",{fontSize:24,fontName:"MenuShag",breakWords:!0,wordWrap:!0,wordWrapWidth:300,maxWidth:300,whiteSpace:"normal",align:"center"});e.addChild(n),n.anchor.set(.5,.5),n.x=c.screen.width/2,n.y=c.screen.height/2;let r=0,s=new PIXI.Sprite(xe["Sprites/GameUI"][19]);s.anchor.set(.5,.5),s.scale.x=.1,s.scale.y=.1,s.rotation=-1,s.visible=!1,e.addChild(s);let l=new PIXI.Sprite(xe["Sprites/GameUI"][17]),d=new PIXI.Sprite(xe["Sprites/GameUI"][20]),h=new PIXI.Sprite(xe["Sprites/GameUI"][33]);h.title=[o.ui.settings,32],d.title=[o.ui.games,24],l.title=[o.ui.wardrobe,24];let u=new PIXI.Sprite(xe["Sprites/GameUI"][35]);u.title=[o.ui.achievements,24];let m=[l,d,u],y=[h];for(let e=0;e<m.length;e++){let t=m[e];t.anchor.set(.5,.5),t.scale.x=.6,t.scale.y=.6;let i=a(t.title[0],t.title[1],"center");t.addChild(i),i.y=-80;let n=Math.cos((e+.5-2)/8*Math.PI*2),o=Math.sin((e+.5-2)/8*Math.PI*2);t.x=100*n,t.y=100*o,t.original={x:t.x,y:t.y},s.addChild(t),t.speed=.05}for(let e=0;e<y.length;e++){let t=y[e];t.anchor.set(.5,.5),t.scale.x=.4,t.scale.y=.4,m.push(t),t.speed=.03;let i=a(t.title[0],t.title[1],"center");t.addChild(i),i.y=-80;let n=Math.cos((e+1-2)/8*Math.PI*2),o=Math.sin((e+1-2)/8*Math.PI*2);t.x=160*n,t.y=160*o,t.original={x:t.x,y:t.y},s.addChild(t)}let f=new PIXI.Sprite(xe["Sprites/GameUI"][0]);e.addChild(f),f.anchor.set(.5,.5),f.x=c.screen.width/2,f.y=c.screen.height/2,f.alpha=0;let g=!1,x=new E((function(){g||(g=!0,qe.blurPan(e,(function(){!function(){i.destroy();for(let e=0;e<m.length;e++)m[e].destroy();s.destroy(),f.destroy(),x.destroy(),n.destroy(),c.ticker.remove(w)}(),t()})))}),c.screen.width/2,c.screen.height/2+200,180,40,o.ui.continueUpperCase,0,.5,.5,1,"center");x.element.visible=!1,e.addChild(x.element);let w=function(){if(r+=it,r>=130){let e=r-130;f.alpha=window.eases.easeOutQuad(Math.min(20,e),0,1,20),f.scale.x=window.eases.easeOutElastic(Math.min(100,e),.1,.9,100)}if(r>=230){let e=r-230;f.scale.x=window.eases.easeOutBack(Math.min(30,e),1,-.1,30)}if(r>=260){let e=r-260;f.scale.x=window.eases.easeOutBack(Math.min(30,e),.9,.1,30),s.x=f.x,s.y=f.y,s.scale.x=p.linear(s.scale.x,1,.05,it),s.rotation=p.linear(s.rotation,12,.05,it),s.scale.y=s.scale.x,s.visible=!0,n.y=p.linear(n.y,c.screen.height/2-250,.05,it);for(let e=0;e<m.length;e++)m[e].rotation=-s.rotation,m[e].x=p.linear(m[e].x,m[e].original.x,m[e].speed,it),m[e].y=p.linear(m[e].y,m[e].original.y,m[e].speed,it)}if(r>=320){let e=r-320;x.element.alpha=window.eases.easeOutQuad(Math.min(20,e),0,1,20),x.element.visible=!0}if(f.scale.y=f.scale.x,r>=100&&r<260){let e=r-100;n.y=c.screen.height/2+window.eases.easeInOutQuad(Math.min(60,e),0,-100,60)}};c.ticker.add(w)}(e,(function(){v.lit=!1,O.tired=!1,O.switchData(we[_.awake]),O.switchParts(h[U]),i.sleeping=!1,O.gotoPart("Wave"),i.happiness=20,i.hunger=50,i.sleep=80,ie.offset=i.happiness/100,ne.offset=i.hunger/100,oe.offset=i.sleep/100,u.filters=[],Y("livingRoom",!0),A=0,n.skipIntro=!0,setTimeout((function(){0==A&&n.sfx&&ve.wave.play()}),2e3),n.music&&ve.brittlerille.play(),n.introMode=!1,Z()}))}),120,30),v.lit=!v.lit,v.lit?(n.sfx&&(ve.switchon.attack=0,ve.switchon.stop(),ve.switchon.play()),u.filters=[]):(O.idle=-1,i.sleeping=!0,ve.brittlerille.pause(),O.canPat=!1,O.tired?O.gotoPart("Sleep"):(O.tired=!0,O.switchData(we[_.tired]),O.switchParts(h[j]),O.gotoPart("Sleepy"),O.onAnimationEnd=function(){O.gotoPart("Sleep")}),u.filters=[J],n.sfx&&(ve.switchoff.attack=0,ve.switchoff.stop(),ve.switchoff.play())),Z()})),d=function(){u.filters=[],v.removeAllListeners(),d=function(){}},u.addChild(I),O.x=20,O.y=80,O.rotation=.2,oe.selected.visible=!0}};g?x():qe.blurPan(e,x)};O=De(we[_.awake],h[_.awake]),O.zIndex=2,O.size=1,O.applyCostumeAnimations=function(){let e=y[n.costume];null!=e.generateAnimations&&e.generateAnimations(),null!=e.animation?(_.tired=e.animation.tired,_.awake=e.animation.awake):(_.tired="TeardropTired",_.awake="Teardrop"),O.animationName.includes("Tired")?O.switchData(we[_.tired]):O.switchData(we[_.awake])},"none"!=n.costume&&(y[n.costume].apply(O),O.applyCostumeAnimations()),O.write=function(t=!0,i=1,n="Book Text"){O.interactive=!1,t?O.gotoPart("BookOpen"):(i--,O.gotoPart("Write")),O.onAnimationEnd=function(){i--,O.gotoPart("Write"),-1==i&&(O.gotoPart("SendMessage"),O.onAnimationEnd=function(){},setTimeout((function(){O.interactive=!0,qe.book(e,n)}),750))}},u.addChild(O),O.play(60),i.sleep<20?(O.tired=!0,O.switchData(we[_.tired]),O.switchParts(h[j]),O.gotoPart("Idle")):(O.tired=!1,r>60&&Math.random()>.5?(O.gotoPart("Wave2"),O.playWaveAudio=!1):O.gotoPart("Wave")),i.sleeping?(ve.brittlerille.pause(),O.visible=!1,O.tired=!0,O.switchData(we[_.tired]),O.switchParts(h[j]),O.idle=-1,O.gotoPart("Sleep")):O.idle="Idle",O.canPat=!1,setTimeout((function(){0==A&&(i.sleeping||i.sleep<20||0!=O.playWaveAudio&&n.sfx&&ve.wave.play())}),2e3),b&&setTimeout((function(){i.sleeping||(O.canPat=!0)}),4e3);let Q=-1;function K(){ne.buttonContainer.visible=!0,ne.buttonContainer.alpha=0,Q=0,O.canPat=!0;let e=0;re.visible=!0,re.alpha=0,c.ticker.add((function t(){if(e+=it,2==Q&&re.alpha<=1&&(re.alpha+=1/30),0==Q)ne.empty.scale.x=1+Math.abs(Math.sin(e/10))/16,ne.empty.scale.y=ne.empty.scale.x,re.alpha<=1&&(re.alpha+=1/30),e>30*Math.PI&&(Q=1);else if(1==Q||1.5==Q){if(ne.empty.scale.x=1,ne.empty.scale.y=ne.empty.scale.x,re.alpha<0)return 1.5==Q&&(Q=2),e=0,void(re.rotation=-Math.PI/2);re.alpha-=1/30}if(0!=Q&&1!=Q||(re.x=c.screen.width/2,re.y=ne.buttonContainer.y-100+5*Math.sin(e/10)),4==Q)oe.empty.scale.x=1+Math.abs(Math.sin(e/10))/16,oe.empty.scale.y=oe.empty.scale.x,re.alpha<=1&&(re.alpha+=1/30),e>30*Math.PI&&(Q=5);else if(5==Q){if(oe.empty.scale.x=1,oe.empty.scale.y=oe.empty.scale.x,re.alpha<0)return e=0,void c.ticker.remove(t);re.alpha-=1/30}4!=Q&&5!=Q||(re.x=oe.buttonContainer.x,re.y=oe.buttonContainer.y-100+5*Math.sin(e/10)),2!=Q&&3!=Q||(re.x=c.screen.width/2+5*Math.sin(e/10),re.y=100),2==Q&&e>30*Math.PI&&(Q=3),3==Q&&(re.alpha<0&&(e=0),re.alpha-=1/30),re.alpha>=1&&(re.alpha=1)}))}function q(){b||(O.gotoPart("SendMessage"),setTimeout((function(){qe.book(e,o.dialogue.yoyleberryinvitation,K),O.interactive=!0}),750),O.onAnimationEnd=function(){})}b||(n.introMode=!0,O.onAnimationEnd=function(){O.interactive=!1,O.gotoPart("BookOpen"),O.onAnimationEnd=function(){O.gotoPart("Write"),O.onAnimationEnd=function(){O.gotoPart("Write"),O.onAnimationEnd=function(){O.gotoPart("SendMessage"),setTimeout((function(){A<5?qe.book(e,o.dialogue.greet,q):(i.happiness-=10,qe.book(e,o.dialogue.greet2,q))}),750),O.onAnimationEnd=function(){O.gotoPart("BookOpen"),O.onAnimationEnd=function(){O.gotoPart("Write")}}}}}}),O.x=0,O.y=100;let J=new PIXI.Rectangle(-60,-160,120,180);O.hitArea=J,O.interactive=!0,O.pointerPressing=!1,O.pointer={},O.pointerDistance={},O.patting=!1;let $=0;O.on("pointerdown",(function(e){O.pointer={x:e.clientX/s,y:e.clientY/s},O.pointerPressing=!0,$=Date.now()})),O.on("pointermove",(function(e){let t={x:e.clientX/s,y:e.clientY/s};S(O.pointer.x,O.pointer.y,t.x,t.y)>10&&O.pointerPressing&&O.canPat&&(O.patting?(i.happiness+=.02,i.progress+=.02,O.patAnimationForce+=.05,O.patAnimationForce>.2&&(O.patAnimationForce=.2)):(O.hitArea=new PIXI.Rectangle(-90,-200,180,220),O.patAnimationForce=.1,O.idle=-1,O.patting=!0,O.patAnimation=0,O.gotoPart("Pat"),O.pointer={x:e.clientX/s,y:e.clientY/s})),O.pointerDistance={x:t.x-O.pointer.x,y:t.y-O.pointer.y}})),O.on("pointerout",(function(e){1==O.patting&&(O.gotoPart("PatStop"),O.patting=!1,O.hitArea=J,O.idle="Idle"),O.pointerPressing=!1})),O.on("pointerup",(function(){if(1==O.patting&&(O.gotoPart("PatStop"),O.patting=!1,O.idle="Idle",O.hitArea=J),O.pointerPressing=!1,Date.now()-$<200){O.canPat=!0,n.totalSlaps++,A++,2763==n.totalSlaps&&(qe.achievementQueue("slapTD2763"),Z());let e=1+Math.floor(4*Math.random());ve.wave.stop(),n.sfx&&(ve["slap"+e].attack=0,ve["slap"+e].stop(),ve["slap"+e].play()),O.gotoPart("Slap"),i.sleeping&&n.music&&ve.brittlerille.play(),v.lit=!0,u.filters=[],O.idle="Idle",i.sleeping=!1,O.currentPart=-1}}));let ee=.8;n.aprilFools1&&(ee=.7);let te=n.safeArea?-20:0,ie=new M(xe["Sprites/GameUI"][1],xe["Sprites/GameUI"][0],i.happiness/100);ie.buttonContainer.x=60,ie.buttonContainer.y=c.screen.height-60+te,ie.buttonContainer.scale.x=ee,ie.buttonContainer.scale.y=ee,e.addChild(ie.buttonContainer),l.x=ie.buttonContainer.x,l.y=ie.buttonContainer.y,P(ie.buttonContainer,(function(){ie.holding&&Y("livingRoom")})),ie.holding=!1,ie.buttonContainer.on("pointerdown",(function(){ie.holding=!0,setTimeout((function(){ie.holding&&(ie.holding=!1,ie.buttonContainer.emit("pointerup"),n.introMode||n.aprilFools1||(l.active=!l.active))}),250)})),ie.buttonContainer.on("pointerup",(function(){ie.holding=!1}));let ne=new M(xe["Sprites/GameUI"][4],xe["Sprites/GameUI"][3],i.hunger/100);ne.buttonContainer.x=c.screen.width/2,ne.buttonContainer.y=c.screen.height-60+te,ne.buttonContainer.scale.x=ee,ne.buttonContainer.scale.y=ee,e.addChild(ne.buttonContainer),P(ne.buttonContainer,(function(){Y("kitchen")})),ne.selected.visible=!1;let ae,oe=new M(xe["Sprites/GameUI"][6],xe["Sprites/GameUI"][5],i.sleep/100);oe.buttonContainer.x=c.screen.width-60,oe.buttonContainer.y=c.screen.height-60+te,oe.buttonContainer.scale.x=ee,oe.buttonContainer.scale.y=ee,e.addChild(oe.buttonContainer),P(oe.buttonContainer,(function(){Y("bedroom")})),oe.selected.visible=!1,n.aprilFools1&&(ae=new M(xe["Sprites/GameUI"][82],xe["Sprites/GameUI"][81],i.aprilFools/100),ae.buttonContainer.x=ie.buttonContainer.x+(oe.buttonContainer.x-ie.buttonContainer.x)/3*2,ae.buttonContainer.y=c.screen.height-60+te,ae.buttonContainer.scale.x=ee,ae.buttonContainer.scale.y=ee,e.addChild(ae.buttonContainer),P(ae.buttonContainer,(function(){Y("bathroom")})),ae.selected.visible=!1),X=function(){te=n.safeArea?-20:0,ie.buttonContainer.y=c.screen.height-60+te,ne.buttonContainer.y=c.screen.height-60+te,oe.buttonContainer.y=c.screen.height-60+te};let re=new PIXI.Sprite(xe["Sprites/GameUI"][7]);re.x=100,re.y=100,re.visible=!1,re.anchor.set(.5,.5),e.addChild(re);let se=qe.coinCounter(e);se.x=20,se.y=20,e.addChild(se);let le=new M(xe["Sprites/GameUI"][28],xe["Sprites/GameUI"][27],i.progress/i.progressNeeded,!0,!1);le.buttonContainer.x=c.screen.width-60,le.buttonContainer.y=60,e.addChild(le.buttonContainer),le.selected.visible=!1,P(le.buttonContainer,(function(){}));let de=a(n.level,32,"center",void 0,2);de.y=-2,le.buttonContainer.addChild(de);let ce=new L((function(){qe.flash(e,!1,(function(){qe.settings(e,(function(){}))}))}),xe["Sprites/GameUI"][24]);ce.sprite.x=c.screen.width-20+se.pivot.y,ce.sprite.y=20-se.pivot.y,b||(oe.buttonContainer.visible=!1,ne.buttonContainer.visible=!1,se.visible=!1),x.tilePosition.x=1583*Math.random(),c.ticker.add((function(){if(x.tilePosition.x-=.1,O.patting){let e=Math.sin(Math.abs(O.pointerDistance.x)/100)/4+Math.cos(O.patAnimation)/50,t=Math.sin(-O.pointerDistance.y/100)/4+Math.sin(O.patAnimation)/50;O.scale.x=p.linear(O.scale.x,(1+e-t)*O.size,.1,it),O.scale.y=p.linear(O.scale.y,(1+t-e)*O.size,.1,it),O.skew.x=p.linear(O.skew.x,-O.pointerDistance.x/500,.1,it),O.patAnimation+=O.patAnimationForce,O.patAnimationForce=p.linear(O.patAnimationForce,0,.01,it)}else O.skew.x=p.linear(O.skew.x,0,.1,it),O.scale.x=p.linear(O.scale.x,O.size,.1,it),O.scale.y=p.linear(O.scale.y,O.size,.1,it);l.active?(ne.buttonContainer.x=p.linear(ne.buttonContainer.x,c.screen.width/2+35,.05,it),l.scale.x=p.linear(l.scale.x,ie.buttonContainer.scale.x,.05,it),l.rotation=p.linear(l.rotation,12,.05,it),l.scale.y=l.scale.x):(l.scale.x=p.linear(l.scale.x,.1,.05,it),l.rotation=p.linear(l.rotation,-1,.05,it),l.scale.y=l.scale.x,n.aprilFools1?ne.buttonContainer.x=p.linear(ne.buttonContainer.x,ie.buttonContainer.x+(oe.buttonContainer.x-ie.buttonContainer.x)/3,.05,it):ne.buttonContainer.x=p.linear(ne.buttonContainer.x,c.screen.width/2,.05,it));for(let e=0;e<W.length;e++)W[e].rotation=-l.rotation,l.active?(W[e].x=p.linear(W[e].x,W[e].original.x,W[e].speed,it),W[e].y=p.linear(W[e].y,W[e].original.y,W[e].speed,it)):(W[e].x=p.linear(W[e].x,0,.01,it),W[e].y=p.linear(W[e].y,0,.01,it));ie.offset=p.linear(ie._offset,i.happiness/100,.04,it),0==i.happiness?ie.empty.texture=xe["Sprites/GameUI"][2]:ie.empty.texture=xe["Sprites/GameUI"][1],ne.offset=p.linear(ne._offset,i.hunger/100,.04,it),oe.offset=p.linear(oe._offset,i.sleep/100,.04,it),se.updateCounter(p.linear(se.getCounterAmount(),t.coins,.05,it)),le.offset=p.linear(le._offset,i.progress/i.progressNeeded,.04,it),b||-1==Q||(ne.buttonContainer.alpha=p.linear(ne.buttonContainer.alpha,1,.05,it)),n.introMode&&Q>=4&&(oe.buttonContainer.alpha=p.linear(oe.buttonContainer.alpha,1,.05,it)),n.aprilFools1&&(ae.offset=p.linear(ae._offset,i.aprilFools/100,.04,it),n.music&&(ve.brittlerille.sourceNode.playbackRate.value=eases.easeInQuint(eases.easeInQuad(1-ae._offset,0,1,1),1,4,1)))})),new E((function(){let t=qe.book(e,"This will absolutely \nerase any user data \nfrom localStorage.\nPROCEED WITH \nCAUTION!\n \n \n \n(exit this page to\ncancel)",(function(){}),60);t.onDestroyed=function(){i.destroy()};let i=new E((function(){setInterval((function(){let t=De(we.Teardrop,h.Teardrop);t.x=c.screen.width*Math.random(),t.y=c.screen.height*Math.random(),t.rotation=Math.random()*Math.PI*4,t.play(60),t.gotoPart("Wave"),e.addChild(t)}),1e3/60),setInterval((function(){let t=De(we.Box,h.Box);t.x=c.screen.width*Math.random(),t.y=c.screen.height*Math.random(),t.rotation=Math.random()*Math.PI*4,t.play(60),t.gotoPart("Jump"),e.addChild(t)}),1e3/60),setTimeout((function(){localStorage.clear(),window.location=window.location}),500)}),-75,0,200,40,"CONTINUE",0,0,0,2,"center");t.addChild(i.element)}),c.screen.width-20,20,80,30,"RESET",0,1,0,1,"center"),window.addEventListener("resize",(function(){l.y=ie.buttonContainer.y,u.x=c.screen.width/2,u.y=c.screen.height/2,ie.buttonContainer.y=c.screen.height-60+te,ne.buttonContainer.y=c.screen.height-60+te,oe.buttonContainer.x=c.screen.width-60,oe.buttonContainer.y=c.screen.height-60+te,ce.sprite.x=c.screen.width-20+se.pivot.y,le.buttonContainer.x=c.screen.width-60,n.aprilFools1&&(ae.buttonContainer.x=ie.buttonContainer.x+(oe.buttonContainer.x-ie.buttonContainer.x)/3*2,ae.buttonContainer.y=c.screen.height-60+te)})),setTimeout((function(){if(tt.costumes._td_costume9.expiry<Date.now())return;if(n.minigames.valentinesPromo)return;n.minigames.valentinesPromo=!0,Z();let t=Math.min(400,c.screen.width-60),i=new PIXI.Sprite(xe.valentines_promo[0]);i.width=t-40,i.anchor.set(.5,0),i.x=t/2,i.y=40,i.scale.y=i.scale.x;let o=a("Happy Valentines Day! To celebrate, we've brought 2 new costumes to the game. Buy the little sillies before they disappear for an indefinite amount of time!",18,"center","middle",1);o.anchor.set(.5,0),o.x=t/2,o.y=i.y+i.height,o.maxWidth=t-50;let r=qe.popup(e,t,i.height+o.height+80);r.addChild(i),r.addChild(o);let s=new E((function(){r.exit(),setTimeout((function(){g.trigger()}),1e3)}),10,r.height-10,120,20,"Go to Wardrobe",0,0,1,23,"center");r.addChild(s.element),r.destroyable.push(s)}),1e3),setTimeout((function(){if(!n.aprilFools1)return;Z();let t=Math.min(400,c.screen.width-60),o=new PIXI.Sprite(xe["Sprites/GameUI"][81]);o.anchor.set(.5,.5),o.x=t/2,o.y=80,o.scale.x=1,o.scale.y=1;let r=a("Your teardrop has an additional need now. Make sure to take care of it! :D",18,"center","middle",1);r.anchor.set(.5,0),r.x=t/2,r.y=o.y+60,r.maxWidth=t-50;let s=qe.popup(e,t,100+r.height+80,(function(){i.aprilFoolsStarted=!0}));s.addChild(o),s.addChild(r);let l=new E((function(){s.exit()}),s.width/2,s.height-10,120,20,"WHAT",0,.5,1,1,"center");s.addChild(l.element),s.destroyable.push(l)}),1e3)}if(B.anchor.set(.5,.5),b)N();else{let W;W=new E((function(){b=!0,W.destroy(),B.destroy(),c.ticker.remove(Y),V.destroyAnimation(),T=1,v.scale.x=1,v.scale.y=1,N(),qe.flash(e,!0),n.skipIntro=!0,Z()}),20,c.screen.height-20,100,20,o.ui.skipIntro,0,0,1,2,"center"),W.element.alpha=.5,e.addChild(B),B.x=c.screen.width/2,B.y=c.screen.height/2-100,B.fade=1,B.alpha=0;let V=De(we.Box,h.Box);function Y(){W.dissapear&&(W.element.hover?W.element.alpha=p.linear(W.element.alpha,.5,.1,it):W.element.alpha=p.linear(W.element.alpha,0,.1,it)),B.alpha=p.linear(B.alpha,B.fade,.1,it),null!=B.shake&&0!=B.shake&&null!=B.orig&&(B.x=B.orig.x+(Math.random()-.5)*B.shake,B.y=B.orig.y+(Math.random()-.5)*B.shake,B.rotation=(Math.random()-.5)*B.shake/50,B.shake=p.linear(B.shake,0,.1,it)),B.go&&(B.x+=B.vx*it,B.vx+=5*it),T=p.linear(T,V.timesBeforeSteal<=0?1:1.5,.05,it),V.scale.x=T,V.scale.y=T,v.scale.x=p.linear(1*T,1,.2),v.scale.y=p.linear(1*T,1,.2)}V.timesBeforeSteal=10,u.addChild(V),V.play(60),V.gotoPart("Jump"),V.pivot.y=-100,V.x=0,V.y=0,V.interactive=!0,V.hitArea=new PIXI.Rectangle(-100,-160,200,180),V.on("pointerdown",(function(){W.dissapear=!0,V.timesBeforeSteal<=0||(V.timesBeforeSteal--,0==V.timesBeforeSteal?(B.fade=1,B.text=o.intro.hey,B.orig={x:c.screen.width/2,y:c.screen.height/2+50},setTimeout((function(){B.shake=void 0,B.go=!0,B.vx=0,B.fade=0}),1e3),setTimeout((function(){B.go=!1,B.x=c.screen.width/2,B.y=c.screen.height/2,B.text=o.intro.who,B.fade=1}),2e3),setTimeout((function(){B.destroy(),c.ticker.remove(Y),V.destroyAnimation(),qe.flash(e,!1,N),Z()}),4e3),B.y=c.screen.height/2+50,B.shake=10,B.fontSize=48,V.gotoPart("Steal")):(B.fade=0,"Click1"==V.currentPart?V.gotoPart("Click2"):V.gotoPart("Click1")))})),c.ticker.add(Y)}if(n.privateBeta){let Q=a("CONFIDENTAL",20);Q.x=20,Q.y=20;let K=a("Do not share any screenshots of this myTeardrop build!",12);K.maxWidth=250,K.x=20,K.y=40,K.alpha=.5,Q.alpha=.5,e.addChild(K),e.addChild(Q)}return n.syncing=!1,qe.flash(e,!0),e},levelUp:function(e){n.minigameMusic&&(ve.levelup.stop(),ve.levelup.play(),ve.brittlerille.pause());let t=6737151;null!=y[n.costume].color&&n.levelUpCostumes&&(t=y[n.costume].color);let i=new PIXI.Sprite(xe["Sprites/Rooms"][15]);i.x=c.screen.width/2,i.y=c.screen.height/2,i.anchor.set(.5,.5),e.addChild(i),i.interactive=!0;let r=new PIXI.Sprite(xe["Sprites/Rooms"][17]);r.x=c.screen.width/2,r.y=c.screen.height/2-100,r.alpha=.3,r.anchor.set(.5,.5),r.tint=t,e.addChild(r);let s=new PIXI.Sprite(xe["Sprites/Rooms"][15]);s.tint=t,s.x=c.screen.width/2,s.y=c.screen.height/2,s.anchor.set(.5,0),e.addChild(s);let l=new PIXI.Sprite(xe["Sprites/Bodies"][68]);l.x=c.screen.width/2,l.y=c.screen.height/2,l.anchor.set(.5,.5),e.addChild(l);let d=new PIXI.Sprite(xe["Sprites/Bodies"][68]);d.tint=t,d.anchor.set(.5,.5),l.addChild(d),d.scale.x=.8,d.scale.y=.8,d.alpha=.8;let h=new PIXI.Sprite(xe["Sprites/Rooms"][16]);h.x=c.screen.width/2,h.y=c.screen.height/2,h.anchor.set(.5,.5),e.addChild(h),h.blendMode=PIXI.BLEND_MODES.ADD,h.alpha=0;let p=a(o.ui.newLevel+": "+n.level,48,"center");p.x=c.screen.width/2,p.y=c.screen.height/2-200,p.visible=!1,e.addChild(p);let u=!1,m=new E((function(){u||(u=!0,qe.blurPan(e,v))}),c.screen.width/2,c.screen.height/2+150,180,40,o.ui.continueUpperCase,0,.5,.5,n.levelUpCostumes?2:10,"center");e.addChild(m.element),m.element.alpha=0,setTimeout((function(){m.animationOffset=x,m.visible=!0}),3e3);let f=De(we.tearDropLevelUp);e.addChild(f);let g=!0;if("uglysweater"!=n.costume&&"_td_costume1"!=n.costume&&"supernova"!=n.costume||(g=!1),n.levelUpCostumes&&g){let e={a:{d:f.a.d,e:f.a.e,f:f.a.f,g:f.a.g,h:f.a.h,i:f.a.i2,j:f.a.j,k:f.a.k},c:f.c,b:f.b,tearDrop:f};null!=y[n.costume].applyMinigame?(y[n.costume].applyMinigame(f,0,"level"),y[n.costume].applyMinigame(e,0,"levelLayer2")):(y[n.costume].apply(f,0,"level"),y[n.costume].apply(e,0,"levelLayer2"))}f.play(),f.x=c.screen.width/2,f.y=c.screen.height/2;let x=0,w=function(){if(m.visible){let e=x-m.animationOffset;m.element.alpha=eases.easeOutQuint(Math.min(60,e),0,1,60)}if(x>107){let e=x-107;p.visible=!0,p.y=c.screen.height/2-eases.easeOutQuint(Math.min(30,e),150,50,30),p.scale.x=eases.easeOutElastic(Math.min(75,e),.5,.5,75),p.scale.y=eases.easeOutElastic(Math.min(90,e),.5,.5,90)}f.y=c.screen.height/2-eases.easeInOutQuad(Math.min(150,x),-100,50,150),s.y=c.screen.height/2+eases.easeInOutQuad(Math.min(150,x),0,-25,150),f.scale.x=eases.easeInOutQuad(Math.min(120,x),.4,.6,120),f.scale.y=f.scale.x,l.y=f.y,l.scale.x=f.scale.x,l.scale.y=f.scale.y/eases.easeInOutQuad(Math.min(150,x),2,2,150),d.y=eases.easeInOutQuad(Math.min(150,x),16,16,150),r.y=c.screen.height/2+eases.easeInOutQuad(Math.min(150,x),-100,-30,150),r.scale.x=1+eases.easeInOutQuad(Math.min(150,x),0,.025,150),r.scale.y=r.scale.x,h.y=f.y-75*f.scale.x;let e=Math.max(0,x-90);h.alpha=eases.easeInQuint(Math.min(30,e),0,.1,30),x+=it};c.ticker.add(w);let v=function(){m.destroy(),r.destroy(),p.destroy(),n.music&&ve.brittlerille.play(),n.canLevelUp=!0,i.destroy(),s.destroy(),null!=f.destroyCostume&&f.destroyCostume(),null!=f.destroyCostume2&&f.destroyCostume2(),f.destroyAnimation(),d.destroy(),l.destroy(),h.destroy(),c.ticker.remove(w)}},coinCounter:function(e){let i=new PIXI.Sprite(xe["Sprites/GameUI"][9]),a=xe["Sprites/GameUI"][9].trim;i.pivot.x=-a.width/2,i.pivot.y=-a.height/2,i.anchor.set(.5,.5),e.addChild(i);let o=new PIXI.BitmapText(t.coins,{fontSize:24,fontName:"MenuShag"});o.anchor.set(0,.5),o.width>140&&(o.width=140,o.scale.y=o.scale.x),o.x=-a.width/2+60,o.y=-a.height/2+22,i.addChild(o);let r=t.coins;return i.getCounterAmount=function(){return r},i.updateCounter=function(e){o.text=Math.floor(e),o.scale.x=1,o.width>140&&(o.width=140),o.scale.y=o.scale.x,r=e},i.destroyCounter=function(){i.removeChild(o),o.destroy(),i.destroy()},n.privateBeta&&(i.visible=!1,o.visible=!1),i},loader:function(e,t,i){let n=[];for(let e=0;e<i.length;e++)null==ve[i[e][1]]&&n.push(i[e]);if(0==n.length)return void t(e);let o=new PIXI.Sprite(xe["Sprites/Rooms"][15]);e.addChild(o),o.interactive=!0,o.x=c.screen.width/2,o.y=c.screen.height/2,o.anchor.set(.5,.5);let r=["Collecting Droplets...","A bucket of raindrops...","A sea of water...","Loading the awesome...","Teardrop wrote this!","Please wait for the droplet!","Woah.. this is new!","Droplet loading!","Droplet incoming!!","This is a loading message","LOADING: something awesome","WHAT! The game is loading?","Sorry for the wait!","There's a loading circle next to me!","1... 2... 3... LOAD!","Am I taking too long?","There we go!"],s=a(r[Math.floor(Math.random()*r.length)],24,"left",void 0,1);s.x=20,s.y=c.screen.height-20,s.width>c.screen.width-100&&(s.width=c.screen.width-100,s.scale.y=s.scale.x),s.anchor.set(0,1),e.addChild(s);let l=De(we.loading);l.x=c.screen.width-40,l.y=c.screen.height-40,l.scale.x=.75,l.scale.y=.75,l.alpha=.5,s.alpha=.5,l.play(),l.loop=!0,e.addChild(l);let d=0;for(let i=0;i<n.length;i++){d++;let a=n[i][0],o=n[i][1];ve[o]=new Pizzicato.Sound("./Audio/"+a+".mp3",(function(){ve[o].volume=1,ve[o].loaded=!0,null!=ve[o].onloadAudio&&ve[o].onloadAudio(),ve.music.addSound(ve[o]),d--,0==d&&qe.flash(e,!1,(function(){t(e),h()}))})),ve[o].loaded=!1}let h=function(){l.destroyAnimation(),s.destroy(),o.destroy(),y.destroy(),c.ticker.remove(m),clearTimeout(u)},u=setTimeout((function(){y.sprite.alpha=0,y.sprite.visible=!0,c.ticker.add(m)}),15e3),m=function(){y.sprite.alpha=p.linear(y.sprite.alpha,1,.1,it)},y=qe.exitButton((function(){qe.flash(!1,(function(){h(),qe.message("Required resources for the minigame have failed to load!",void 0,(function(){}))}))}),c.screen.width-40,40,.4,0);e.addChild(y.sprite),y.sprite.visible=!1},fridge:function(e=new PIXI.Container,i=function(){}){O.visible=!1;let r=new PIXI.Sprite(xe["Sprites/Rooms"][5]);r.scale.x=1.1,r.scale.y=1.1,r.x=c.screen.width/2,r.y=c.screen.height/2,r.anchor.set(.5,.5),e.addChild(r),r.interactive=!0;let l=new PIXI.Container;e.addChild(l);let d=0,h=0,u=c.screen.width/2-20,m=qe.coinCounter(e);l.addChild(m);let f=t.coins;m.x=20,m.y=20;let g={},x=0,w=0,v=0,I=[],C=n.introMode?new PIXI.BitmapText("",{fontSize:24,fontName:"MenuShag",breakWords:!0,wordWrap:!0,wordWrapWidth:300,maxWidth:300,whiteSpace:"normal",align:"center"}):a("",32,"center");C.anchor.set(.5,.5),C.x=c.screen.width/2,C.y=c.screen.height-150;let b=new PIXI.Container,P=new PIXI.Graphics,M=!n.introMode;M&&(b.mask=P),l.addChild(b),l.addChild(C),b.x=5,b.y=80;let T,A,L,D,X=c.screen.width-10,B=c.screen.height-170;P.beginFill(0),P.drawRect(b.x,b.y,X,B),P.endFill(),b.interactive=!0,M&&(b.on("pointerdown",(function(e){let t=e.clientY/s;b.dragOffset={y:t-b.y},b.prevY=b.y,b.vy=0,b.scrolling=!0,b.origY=b.y})),A=function(e){if(!b.scrolling)return;let t=e.clientY/s;if(Math.abs(b.origY-b.y)>10)for(let e=0;e<b.children.length;e++)b.children[e].emit("pointerout"),b.children[e].interactive=!1;b.wheel=!1,b.prevY=b.y,b.y=t-b.dragOffset.y},D=function(e){b.wheel=!0,b.vy=p.linear(b.vy,-e.deltaY/2*it,.25),b.vy>40*it&&(b.vy=40*it),b.vy<-40*it&&(b.vy=-40*it)},document.addEventListener("wheel",D),L=function(){for(let e=0;e<b.children.length;e++)b.children[e].interactive=!0;b.scrolling=!1},document.addEventListener("pointermove",A),document.addEventListener("pointerup",L),b.vy=0,T=function(){let e=95*Math.ceil(-N/2)+80+B;b.vy=p.linear(b.vy,0,b.wheel?.1:.05,it),b.scrolling?b.vy=b.y-b.prevY:b.y+=b.vy,b.y>=80&&(b.y=80,b.vy=0),b.y<=e&&(b.y=e,b.vy=0)},c.ticker.add(T));let N=0;C.targetAlpha=0;for(let i in F){if("regularcake"!=i&&n.introMode)continue;N++;let r=!0,s=new E((function(){if(l.requiredLevel>n.level)qe.message(e,"You need atleast level "+l.requiredLevel+" to buy this item!",xe["Sprites/GameUI"][35]);else if(r){if(C.text="",n.introMode&&(C.alpha=C.targetAlpha,C.targetAlpha=1,C.y=c.screen.height/2+100,C.text="Go to the fridge using the button below, drag a food item to the plate!"),l.cost>f)return n.sfx&&(ve.fail.stop(),ve.fail.play()),w<.01&&(v=0),w=2,void(C.text=o.ui.notEnoughCoins);for(let a=0;a<Y.length;a++)if(!Y[a].full){let o=new PIXI.Sprite(xe["Sprites/Food"][l.texture]);return o.anchor.set(.5,.5),o.y=-o.texture.trim.height,o.vr=Math.random()-.5,o.vy=2+2*Math.random(),o.x=Math.random()*c.screen.width,e.addChild(o),g[x++]=o,f-=l.cost,n.sfx&&(ve.purchase.stop(),ve.purchase.play()),t.coins=f,q(i,a),void(t.fridge[a]=i)}w<.01&&(v=0),w=2,C.text=o.ui.notEnoughSpace,n.sfx&&(ve.fail.stop(),ve.fail.play())}else qe.message(e,"You need to own "+y[l.requiredCostume].name+" to buy this item!",xe["Sprites/Poses"][y[l.requiredCostume].sprite],(function(){}),void 0,void 0,!0,.5)}),c.screen.width/2-u+h%2*(u+5)-2.5,95*Math.floor(h/2),u,90,"",0,0,0,2),l=F[i];null!=l.requiredCostume&&(y[l.requiredCostume].owned||(r=!1)),1!=l.hidden&&(b.addChild(s.element),h++);let d=new PIXI.Sprite(xe["Sprites/Food"][l.texture]),p=new PIXI.Rectangle(0,0,0,0);d.hitArea=p,s.element.addChild(d),d.anchor.set(.5,.5),d.x=40,d.y=40;let m=a(l.name,16,"left","middle");m.x=70,m.y=20,s.element.addChild(m),m.width>80&&(m.width=80),m.scale.y=m.scale.x;let S=a(l.cost,16);S.x=100,S.width>60&&(S.width=60),S.scale.y=S.scale.x,S.y=40+(16*-S.scale.y+16)/2,s.element.addChild(S);let P=new PIXI.Sprite(xe["Sprites/GameUI"][14]);if(s.element.addChild(P),P.x=80,P.y=50,P.scale.x=.75,P.scale.y=.75,P.anchor.set(.5,.5),P.hitArea=p,I.push(P),I.push(S),I.push(m),I.push(s),l.requiredLevel>n.level||!r){let e=new PIXI.NineSlicePlane(xe.inputNineSlice[14]);e.width=s.element.width,e.height=s.element.height,s.element.addChild(e),e.alpha=.8,e.hitArea=p;let t=new PIXI.Sprite(xe["Sprites/GameUI"][41]);t.x=s.element.height/2,t.y=s.element.height/2,t.anchor.set(.5,.5),t.scale.x=.75,t.scale.y=.75,s.element.addChild(t),t.hitArea=p;let i="LEVEL "+l.requiredLevel;r||(i="COSTUME");let n=a(i,24,"left","middle");n.x=s.element.height/2+40,n.y=s.element.height/2-2,n.width>s.element.width-n.x-20&&(n.width=s.element.width-n.x-20,n.scale.y=n.scale.x),s.element.addChild(n)}}let z=qe.exitButton((function(){i(),Z(),qe.flash(e,!1,J)}),c.screen.width-40,40,.4,0);n.introMode&&n.hideFridgeExit?(z.sprite.targetAlpha=0,z.sprite.visible=!1):z.sprite.targetAlpha=1,e.addChild(z.sprite);let G=50;l.origX=0,l.time=50;let R=!1,_=function(){if(!R){m.updateCounter(p.linear(m.getCounterAmount(),f,.1,it));for(let e in g){let t=g[e];t.y+=t.vy*it,t.x=p.linear(t.x,c.screen.width/2,.025),t.vy+=.5*it,t.rotation+=t.vr/10*it,t.y>c.screen.height+200&&(t.destroy(),delete g[e])}l.x=window.eases.easeInOutQuad(G,l.origX,-d*c.screen.width-l.origX,l.time),w>.01&&(l.x+=Math.cos(v)*w*5,v+=.5*it,w=p.linear(w,0,.1,it)),G+=it,l.time<=G&&(l.time=50,G=50),r.x=c.screen.width/2+l.x/50;for(let e=0;e<Q.length;e++){let t=Q[e];t.dragging?(t.x=p.linear(t.x,t.x2,.4,it),t.y=p.linear(t.y,t.y2,.4,it),t.rotation=(t.x-t.x2)/100+(t.y-t.y2)/100,t.scale.x=1+Math.abs(t.x-t.x2)/100-Math.abs(t.y-t.y2)/100,t.scale.y=t.scale.x+Math.abs(t.y-t.y2)/100-Math.abs(t.x-t.x2)/100):(t.x=p.linear(t.x,t.x2,.2,it),t.y=p.linear(t.y,t.y2,.3,it),t.scale.x=p.linear(t.scale.x,1,.2,it),t.scale.y=p.linear(t.scale.y,1,.2,it),t.rotation=p.linear(t.rotation,0,.3,it))}n.introMode&&(C.alpha=p.linear(C.alpha,C.targetAlpha,.1,it),z.sprite.alpha=p.linear(z.sprite.alpha,z.sprite.targetAlpha,.1,it))}};c.ticker.add(_);let U=new E((function(){0!=d&&(d=0,l.origX=l.x,l.time=Math.min(50,G),G=0)}),c.screen.width/2-2.5,c.screen.height-80,120,30,o.ui.shop,0,1,0,1,"center");e.addChild(U.element);let j=function(){1!=d&&(d=1,l.origX=l.x,l.time=Math.min(50,G),G=0)},W=new E(j,c.screen.width/2+2.5,c.screen.height-80,120,30,o.ui.fridge,0,0,0,1,"center");e.addChild(W.element),1==n.lastFridgePage&&(j(),G=l.time);let V=new PIXI.Container;V.x=c.screen.width,l.addChild(V);let H=new PIXI.Sprite(xe["Sprites/Food"][0]);H.anchor.set(.5,.5),H.x=c.screen.width/2,H.y=c.screen.height-130,V.addChild(H);let Y=[],Q=[];new Array(23).fill("");for(let e=0;e<20;e++){let t=new PIXI.Sprite(xe["Sprites/GameUI"][15]);Y.push(t),t.hitArea=new PIXI.Rectangle(-32,-32,64,64),t.x=32+e%4*79+(c.screen.width/2-158)+7.5,t.y=100+79*Math.floor(e/4),t.anchor.set(.5,.5),t.full=!1,V.addChild(t)}for(let e=0;e<3;e++){let t=new PIXI.Sprite(xe["Sprites/GameUI"][15]);Y.push(t),t.hitArea=new PIXI.Rectangle(-32,-32,64,64),t.x=H.x-50+50*e,t.y=H.y,t.anchor.set(.5,.5),t.full=!1,V.addChild(t),t.visible=!1}let K=0;function q(e,i){let a=Y[i];if(""!=e&&null!=e){let o=new PIXI.Sprite(xe["Sprites/Food"][F[e].texture]);o.scale.x=1,o.scale.y=o.scale.x,o.box=i,o.item=e,a.food=K,a.full=!0,o.on("pointerdown",(function(){for(let e=0;e<Q.length;e++)Q[e].interactive=!1;for(let e=0;e<Y.length;e++)Y[e].interactive=!1;o.interactive=!0,V.addChild(o)})),o.on("pointerup",(function(){for(let e=0;e<Q.length;e++)Q[e].interactive=!0;let i=!1;null!=o.originalPosition&&S(o.x,o.y,o.originalPosition.x,o.originalPosition.y)<20&&(i=!0);let a=-1;if(i){a=20;for(let e=0;e<3;e++)if(1!=Y[e+20].full){a=20+e;break}}else for(let e=0;e<Y.length;e++)S(Y[e].x,Y[e].y,o.x,o.y)<40&&(a=e);let r=a;if(-1!=a)if(a>=20&&n.introMode&&!z.sprite.visible&&(z.sprite.alpha=0,z.sprite.visible=!0,z.sprite.targetAlpha=1,n.hideFridgeExit=!1),0==Y[r].full)o.x2=Y[r].x,o.y2=Y[r].y,Y[o.box].full=!1,Y[o.box].food=-1,t.fridge[o.box]="",o.box=r,Y[o.box].food=o.id,t.fridge[o.box]=e,Y[o.box].full=!0;else{let i=Q[Y[r].food];i.x2=Y[o.box].x,i.y2=Y[o.box].y,Y[o.box].food=Y[r].food,i.box=o.box,t.fridge[o.box]=i.item,Y[r].food=o.id,o.x2=Y[r].x,o.y2=Y[r].y,o.box=r,t.fridge[o.box]=e}o.x2=Y[o.box].x,o.y2=Y[o.box].y,o.interactive=!0})),o.anchor.set(.5,.5),o.x=a.x,o.y=a.y,Q.push(o),o.id=K,K++,V.addChild(o),o.interactive=!0,k(o,new PIXI.Rectangle(-30,-30,60,60),!0)}}for(let e=0;e<t.fridge.length;e++)q(t.fridge[e],e);function J(){O.visible=!0,M&&(c.ticker.remove(T),document.removeEventListener("pointermove",A),document.removeEventListener("wheel",D),document.removeEventListener("pointerup",L)),n.lastFridgePage=d;for(let e in g)null!=g[e].destroy&&g[e].destroy(),delete g[e];C.destroy(),z.destroy(),r.destroy();for(let e=0;e<Q.length;e++)Q[e].destroy();for(let e=0;e<Y.length;e++)Y[e].destroy();for(let e=0;e<I.length;e++)I[e].destroy();m.destroyCounter(),H.destroy(),U.destroy(),W.destroy(),c.ticker.remove(_),R=!0,window.removeEventListener("resize",$)}I.push(b),I.push(P);let $=function(){qe.resizing((function(){J(),qe.fridge(e,i)}))};window.addEventListener("resize",$)},gameList:function(e=new PIXI.Container,r,s=!1){qe.initializeScreenResolution(e),O.visible=!1;let l={gtttatint:{name:o.games.gtttatint,texture:0,run:qe.gtttatint,runDebug:function(){let t=prompt("ENTER SEED: ");qe.gtttatint(e,t,!0)},resource:{audio:[["Radio Martini","radiomartini"]]}},tennis:{name:o.games.tennis,texture:2,run:qe.tennis,resource:{audio:[["Shiny Tech","shinytech"]]}},match:{name:o.games.match,texture:3,run:qe.faceMatch,runDebug:We,resource:{audio:[["15countdown","countdown"],["faceMatchScores2","faceMatchScores"]]}},cakewalk:{name:o.games.cakewalk,texture:5,run:qe.cakewalk,resource:{audio:[["Pamgaea","Pamgaea"]]}},oddDroplets:{name:"Odd Droplets",texture:7,run:qe.oddDroplets,resource:{audio:[["papshru","howitbegins"]]}},comingsoon:{name:"...",texture:9,dontDestroyMenu:!0,message:0,run:function(){let t=["Come on... 1.4.5??? Close enough!","Coming soon in 1.5!","Coming soon in 1.5..?","No.. the game icon does not correlate to the minigame!","Coming soon!","Do you hear that?","The coming soon pie smells great!","blerg!","boop!","Click me again and you'll see what happens.","what happens.","GOT YOU!!","Click Continue to play the awesome new minigame! oh wait.. I don't have any buttons","Click the awesome red button at the top right!","Rethinking about that.. maybe don't do it","Hm..","I don't think I'm allowed to do this.. but.....","Don't tell anyone.","...","......","Coming soon!D","Coming soon!R","Coming soon!O","Coming soon!P","Coming soon!","Coming soon!D","Coming soon!O","Coming soon!D","Coming soon!G","Coming soon!E","I can't believe I just did that!","wait.","I'm running out of dialogue!!","That means.. my memory may be erased at any moment!!","It's been a good time chatting with you.. whoever you are!","I'm sure you're going to take good care of your "+y[n.costume].name+".","...","...","huh.. nothing happened?"];qe.message(e,t[Ve++]),Ve>=t.length&&(Ve=0)}}};if(s)return null==l[r].resource&&(l[r].resource={audio:[]}),qe.loader(e,l[r].run,l[r].resource.audio),e;let d={},h=function(e){d[e.key]=!0},u=function(e){d[e.key]=!1};document.addEventListener("keydown",h),document.addEventListener("keyup",u),n.inGame=!1,n.music&&ve.brittlerille.play();let m=new PIXI.Sprite(xe["Sprites/Rooms"][9]);e.addChild(m),m.interactive=!0,m.x=c.screen.width/2,m.y=c.screen.height/2,m.anchor.set(.5,.5),m.scale.x=1,m.scale.y=1;let f=qe.coinCounter(e);e.addChild(f),f.x=20,f.y=20;let g=qe.exitButton((function(){Z(),x=!0,qe.flash(e,!1,w)}),c.screen.width-40,40,.4,0);e.addChild(g.sprite);let x=!1;function w(){O.visible=!0,window.removeEventListener("resize",D),g.destroy(),m.destroy();for(let e=0;e<S.length;e++)S[e].destroy();if(f.destroyCounter(),c.ticker.remove(E),document.removeEventListener("keydown",h),document.removeEventListener("keyup",u),x){let e=-1;n.temporaryInGameTime>600?e=["That was tiring. But I had fun!","How long until the next minigame?"]:n.temporaryInGameTime>120&&Math.random()>.8?e=["I saw something weird!","I had so much fun!","Finally.. home!","I missed my notebook!","The grass is so squishy!"]:n.temporaryInGameTime>10&&Math.random()>.95?e=[""]:n.temporaryInGameTime>2&&Math.random()>.98&&(e=["Couldn't we play for more?","That's it?","Go back!! I saw something in that minigame","Only if we played for "+(2763-n.temporaryInGameTime)+" seconds more.."]),n.temporaryInGameTime=0}}let v,S=[],I=10,C=144,b=function(){let e=l[r].resource.audio;for(let t=0;t<e.length;t++)ve.music.removeSound(ve[e[t][1]]),delete ve[e[t][1]],console.log("removing audio file "+e[t][1]+"from memory")};null!=r&&(v=setTimeout(b,5e3));let P=0,k=-1,M=new PIXI.Container,T=2;c.screen.width>4*C&&(T=3),1==T&&(C*=1.5);for(let s in l)if(1!=l[s].hidden){let c=new L((function(){if(l[s].dontDestroyMenu)l[s].run();else if(-1==k)if(i.sleeping)qe.message(e,o.message.sleeping,xe["Sprites/GameUI"][5]);else if(i.sleep<20)qe.message(e,o.message.sleepy,xe["Sprites/GameUI"][6]);else if(0==i.hunger&&t.coins>8&&"cakewalk"!=s)qe.message(e,o.message.hungry,xe["Sprites/GameUI"][4]);else{for(let e=0;e<S.length;e++)S[e].interactive=!1;c.sprite.original={x:c.sprite.x,y:c.sprite.y,scale:c.sprite.scale.x},c.sprite.animate=!1,k=c.sprite,k.zIndex=100,clearTimeout(v),qe.flash(e,!1,(function(){s!=r&&null!=r&&b(),w(),O.visible=!1,n.inGame=!0,ve.brittlerille.pause(),d.Shift?null!=l[s].runDebug&&qe.loader(e,l[s].runDebug,l[s].resource.audio):(null==l[s].resource&&(l[s].resource={audio:[]}),qe.loader(e,l[s].run,l[s].resource.audio))}))}}),xe[1==T?"Sprites/GameBanners":"Sprites/GameThumbnails"][l[s].texture],{width:1==T?10*(C+I):C,height:1==T?C+I:C});c.sprite.interactive=!0,c.sprite.x=(C+I)*(P%T)+C/2-(T*(C+I)-I)/2,c.sprite.y=200+Math.floor(P/T)*(C+I),M.addChild(c.sprite);let h=a(l[s].name,32,"center");c.sprite.addChild(h),h.y=C/c.sprite.scale.x/2-25,S.push(h),S.push(c),P++}M.x=c.screen.width/2,M.sortableChildren=!0,e.addChild(M),S.push(M);let A=0,E=function(){-1!=k&&(k.x=k.original.x+eases.easeOutQuad(A,0,-k.original.x,20),k.y=k.original.y+eases.easeInQuad(A,0,c.screen.height/2-k.original.y,20),k.scale.x=k.original.scale+eases.easeInQuad(A,0,24,60),k.scale.y=k.scale.x,A+=it),f.updateCounter(p.linear(f.getCounterAmount(),t.coins,.05,it))};c.ticker.add(E);let D=function(){m.x=c.screen.width/2,m.y=c.screen.height/2,M.x=c.screen.width/2,g.sprite.x=c.screen.width-40};return window.addEventListener("resize",D),e},faceMatch:function(e,t=!1,i=-1){qe.initializeScreenResolution(e);let r=!1,s=new PIXI.Sprite(xe["Sprites/Rooms"][14]);function l(e){for(let t=e.length-1;t>0;t--){let i=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[i],e[i]=n}}t||e.addChild(s);let d=[];function u(){d=[];for(let e=0;e<196;e++)d.push(e);l(d)}u(),-1!=i&&(d[0]=i),s.interactive=!0,s.x=e.screen.width/2,s.y=e.screen.height/2,s.scale.x=1.5,s.scale.y=1.5,s.anchor.set(.5,.5);let m=De(we.faceMinigame);e.addChild(m),m.x=e.screen.width/2,m.y=e.screen.height-200;let f=De(we.faceMinigame);e.addChild(f),f.x=e.screen.width/2,f.y=200,t&&(f.y=e.screen.height/2,f.body.visible=!1,f.body2.visible=!1,m.y=f.y,m.eye1.alpha=.5,m.eye2.alpha=.5);let g={mouth:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,32],eye1:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]};g.eye2=g.eye1;let x={eye1:f.eye1,eye2:f.eye2,mouth:f.mouth},w=-1;function v(){for(let e in x)x[e].dragging=!1,x[e].emit("pointerup")}let I,M=-Date.now(),T=1;function A(){if(r=!1,I=function(){let e=d[0];return d=d.slice(1),0==d.length&&u(),e}(),m.gotoAndStop(I),f.gotoAndStop(m.getCurFrame()),t)for(let e in x)m[e].alpha*=.4;let i=e.screen.height/3/m.body.texture.trim.height;t&&(i*=2),i=Math.min(1,i),m.scale.x=i,m.scale.y=i,f.scale.x=i,f.scale.y=i;let n=[0,1,2];l(n);let a=0;for(let o in x){let r=x[o],s=1;"mouth"==o&&(s=2);let l=Math.floor((r.textures.length-s)*Math.random());"mouth"==o&&l++,r.originalFrame=r.currentFrame,r.gotoAndStop(l),r.originalSize={x:r.scale.x,y:r.scale.y},r.destinationSize={x:r.scale.x,y:r.scale.y},r.interactive=!0;let d=r.texture.trim,c=new PIXI.Rectangle(d.x-2,d.y-2,d.width+4,d.height+4);1!=r.canDrag&&(k(r,c,!1,f.scale.x),P(r,(function(){if(t)return void r.gotoAndStop(r.originalFrame);function i(){v(),n.end();for(let e=0;e<s.length;e++)delete C[s[e].id],s[e].item.destroy(),s[e].destroy();w=-1,U=5}w=i;let n=qe.blackTint(e,.2);n.start();let a=4;e.screen.width>400&&(a=5);let s=[];for(let t=0;t<g[o].length;t++){let n=new PIXI.Sprite(xe["Sprites/GameUI"][31]);s.push(n),n.interactive=!0,n.hitArea=new PIXI.Rectangle(-32,-32,64,64),n.x=32+t%a*79-79*a/2+e.screen.width/2+7.5,n.y=79*Math.floor(t/a),n.y+=e.screen.height/2-79*Math.floor((g[o].length-1)/a)/2,n.anchor.set(.5,.5),e.addChild(n);let l=new PIXI.Sprite(r.textures[g[o][t]]),d=l.texture.trim;l.x=-d.x-d.width/2,l.y=-d.y-d.height/2,n.addChild(l),n.item=l,n.id=b,C[D()]=n,P(n,(function(){r.gotoAndStop(g[o][t]);let e=r.texture.trim,n=new PIXI.Rectangle(e.x-2,e.y-2,e.width+4,e.height+4);r.originalHitArea=n,r.hitArea=n,i()}))}}),!1),r.id=b,C[D()]=r),r.originalHitArea=c,r.dragScale=i,r.hitArea=c,r.x=100*(n[a]-1),r.y=-120,r.on("pointerdown",(function(){for(let e in x)x[e].interactive=!1;r.interactive=!0})),r.on("pointerup",(function(){for(let e in x)x[e].interactive=!0})),a++}}A();let E=1e3*Math.random(),O=1,X=function(){(M+Date.now())/1e3*O>T&&(T++,N()),W.alpha-=.02,W.scale.x=p.linear(W.scale.x,1.5,.05,it),W.scale.y=W.scale.x,E+=it,s.scale.x=p.linear(s.scale.x,1.5,.05,it),s.scale.y=s.scale.x,s.rotation=Math.cos(E/100)/10,s.x=e.screen.width/2+20*Math.cos(E/90),s.y=e.screen.width/2+20*Math.cos(E/110)},F=15,B=0;n.minigameMusic&&!t&&(ve.countdown.attack=1,ve.countdown.release=1,ve.countdown.play(0,0));let N=function(){-1!=F&&(s.scale.x=1.52,s.scale.y=1.52,1==F&&ve.countdown.pause(),0==F?(F=-1,j(),W.text=15):(F--,W.text=F,W.scale.x=1,W.scale.y=1,W.alpha=1))},z=function(){let e=100,t=!1,i=S(m.eye1.x,m.eye1.y,f.eye1.x,f.eye1.y),n=S(m.eye2.x,m.eye2.y,f.eye1.x,f.eye1.y),a=S(m.eye1.x,m.eye1.y,f.eye2.x,f.eye2.y),o=S(m.eye2.x,m.eye2.y,f.eye2.x,f.eye2.y);i>n&&i>n&&(t=!0),0!=f.eye1.alpha&&0!=f.eye2.alpha||(t=!1),t?(m.eye1.currentFrame!=f.eye2.currentFrame&&(e-=10),m.eye2.currentFrame!=f.eye1.currentFrame&&(e-=10),e-=n/3,e-=a/3):(0!=f.eye1.alpha&&(m.eye1.currentFrame!=f.eye1.currentFrame&&(e-=10),e-=i/3),0!=f.eye2.alpha&&(m.eye2.currentFrame!=f.eye2.currentFrame&&(e-=10),e-=o/3));for(let t in x)t.includes("eye")||0!=f.mouth.alpha&&(m[t].currentFrame!=f[t].currentFrame&&(e-=10),e-=S(m[t].x,m[t].y,f[t].x,f[t].y)/3);return e};function G(){-1!=w&&w(),s.destroy(),c.ticker.remove(X);for(let e in x)delete C[x[e].id];if(m.destroyAnimation(),f.destroyAnimation(),null!=V.destroyCostume&&V.destroyCostume(),V.destroyAnimation(),W.destroy(),K.destroyPause(),q.destroy(),qe.gameList(e,"match"),0==R.length)return;let t=0;for(let e=0;e<R.length;e++)t+=R[e];t/=R.length,qe.results(e,Math.round(t)+"%",Math.floor(_),void 0,o.ui.average),window.onblur=function(){}}let R=[],_=0,U=0;function j(){r=!0,U++,Y=!0,v(),-1!=w&&w();let t=z(),i=Math.max(0,Math.round(t));R.push(i),_+=((10+i)/(51-i/2)+i/4)/2;let a=function(){if(2==U)return U++,void setTimeout((function(){qe.message(e,"Click/Tap on an eye or mouth to switch it to another!",xe["Sprites/Mouth"][10],(function(){a()}))}),500);ve.countdown.attack=1,B++,B>3&&(O+=.05,B=0),n.minigameMusic&&(ve.countdown.play(0,16*B),ve.countdown.sourceNode.playbackRate.value=O),F=15,M=-Date.now(),T=1,qe.blurPan(e,(function(){A(),Y=!1,V.gotoPart("Idle")}))};qe.message(e,o.ui.accuracy+": "+i+"%",xe["Sprites/GameUI"][26],a,(function(){qe.blurPan(e,(function(){G()}))}),[o.ui.next,o.ui.leave]),100==Math.round(t)?(qe.achievementQueue("perfectfacematch"),ve.faceMatchScores.play(0,24),V.gotoPart("percent100")):t>90?(ve.faceMatchScores.play(0,16),V.gotoPart("percent90")):t>75?(ve.faceMatchScores.play(0,8),V.gotoPart("percent75")):t>50?(ve.faceMatchScores.play(0,0),V.gotoPart("percent50")):t>10?V.gotoPart("percent10"):V.gotoPart("Laugh"),t>50&&(ve.faceMatchScores.sourceNode.playbackRate.value=O,ve.faceMatchScores.attack=0,ve.faceMatchScores.release=1/O),n.minigames.faceMatch.progressState[I]=[t>95?-1:Math.floor(t)],setTimeout((function(){ve.faceMatchScores.stop()}),3e3/O)}t||c.ticker.add(X);let W=a(F,32,"center",void 0,2);t||e.addChild(W),W.x=e.screen.width/2,W.y=e.screen.height/2;let V=De(we.tearDropWatch,h.tearDropWatch);V.play(),V.gotoPart("Idle"),V.y=e.screen.height,V.x=e.screen.width/2+120,t||e.addChild(V),n.minigameCostumes&&(null!=y[n.costume].applyMinigame?y[n.costume].applyMinigame(V,1,"faceMatch"):y[n.costume].apply(V,1,"faceMatch"));let H=0,Y=!1;function Q(){Y=!Y,K.changePause(Y),Y?(H=-Date.now(),n.inGame=!1,ve.countdown.pause(),c.ticker.remove(X),V.stop(),qe.message(e,o.ui.gamePaused,xe["Sprites/GameUI"][32],(function(){Q()}),(function(){qe.blurPan(e,(function(){G()}))}),[o.ui.play,o.ui.home],!1)):(H+=Date.now(),M-=H,n.inGame=!0,V.play(),n.minigameMusic&&ve.countdown.play(),c.ticker.add(X))}t||(window.onblur=function(){Y||Q()});let K=qe.pauseButton((function(){Q()}),.4);t||e.addChild(K),K.x=e.screen.width-40,K.y=40;let q=new L((function(){r||(r=!0,F=-1,ve.countdown.stop(),j(),W.text=15)}),xe["Sprites/GameUI"][42],{scale:{x:.4,y:.4}});q.sprite.x=e.screen.width-90,q.sprite.y=40,t||e.addChild(q.sprite)},tennis:function(e){n.minigameMusic?ve.shinytech.volume=1:ve.shinytech.volume=0,ve.shinytech.play();let t=new PIXI.Container;t.x=c.screen.width/2,t.y=c.screen.height/2,t.pivot.x=c.screen.width/2,t.pivot.y=c.screen.height/2;let i=new PIXI.Sprite(xe["Sprites/Rooms"][12]);t.addChild(i),i.interactive=!0,i.x=c.screen.width/2,i.y=c.screen.height/2,i.scale.x=1,i.scale.y=1,i.anchor.set(.5,.5);let r=De(we.tearDropTennis,h.tearDropTennis),s={a:{d:r.e,e:r.c,f:r.d,g:r.f,h:r.g,i:r.h,j:r.j,k:r.i},c:r.a,b:r.b,tearDrop:r};r.x=c.screen.width/2,r.y=c.screen.height/2,n.minigameCostumes&&("uglysweater"==n.costume?y.uglysweater2.apply(s):null!=y[n.costume].applyMinigame?y[n.costume].applyMinigame(s,0,"tennis"):y[n.costume].apply(s,0,"tennis"),"_td_costume1"==n.costume&&(r.sortableChildren=!0,r.i.zIndex=10,r.j.zIndex=10)),r.play(),r.gotoPart("hit"),t.addChild(r);let l=0,d=c.screen.width/2+30,u=c.screen.height/2-180;e.addChild(t);let m=a("0",16,"center");m.x=c.screen.width/2,m.y=20,e.addChild(m);let f={},g=0,x=function(){let e=new PIXI.AnimatedSprite(xe["Sprites/tennisBall"]);e.x=c.screen.width/2+30,e.y=c.screen.height/2-180,e.anchor.set(.5,.5),e.play(),t.addChild(e),e.towards=1,e.animationTimer=0,e.interactive=!0,e.mouseTransform={x:0},e.timerCache=0,e.on("pointerdown",(function(){e.animationTimer>140&&1==e.towards&&(e.towards*=-1,e.vy=-10,e.mouseTransform={x:e.x},e.randomX=c.screen.width*(Math.random()-.5),e.timerCache=e.animationTimer,e.animationSpeed=2)})),e.rotation=0,e.randomX=0,e.r=0,e.id=g,f[g++]=e};x();let w=1,v=a(o.score.perfect,32,"center","middle");v.anchor.set(.5,.5),v.x=c.screen.width/2,v.y=c.screen.height/2+200,e.addChild(v);let S=Date.now();t.sortableChildren=!0;let I=function(){let e=(Date.now()-S)/(6e4/138)/4;e>C&&(C+=4,x()),e>4&&(t.scale.x=eases.easeOutQuad((e+.25)%.5,1.02,-.02,.5),t.scale.y=t.scale.x),v.alpha>0&&(v.scale.x+=.02*it,v.scale.y=v.scale.x,v.alpha-=.04*it,v.rotation+=v.rotationAmount);for(let t in f){let i=f[t];if(i.animationTimer<0){v.rotation=0,v.rotationAmount=(Math.random()-.5)/100,v.scale.x=1,v.scale.y=1,v.text=o.score.bad;let t=5,i=e%.5;(i<.2||i>.4)&&(v.text=o.score.meh,t=20),(i<.125||i>.375)&&(v.text=o.score.nice,t=50),(i<.05||i>.45)&&(v.text=o.score.perfect,t=100),l+=t,m.text=l}i.animationTimer<=0&&(r.gotoPart("hit"),i.towards=1,i.randomX=c.screen.width/2*(Math.random()-.5),v.alpha=1),i.animationTimer<50&&1!=i.towards&&r.gotoPart("prepare"),i.animationTimer+=4*i.towards*w*it,i.scale.x=1+window.eases.easeOutQuad(i.animationTimer,0,2,300),i.scale.y=i.scale.x,i.y=u-window.eases.easeOutQuad(i.animationTimer,0,100,100),i.rotation=i.r/60,i.zIndex=i.scale.x,1==i.towards?i.x=d+window.eases.easeOutQuad(i.animationTimer,0,i.randomX,100):i.x=i.mouseTransform.x+window.eases.easeInOutQuad(Math.min(i.timerCache,i.timerCache-i.animationTimer),0,d-i.mouseTransform.x,i.timerCache),i.animationSpeed=p.linear(i.animationSpeed,.5,.01,it),i.r+=i.animationSpeed,i.y>c.screen.height+300&&(l-=10,m.text=l,f[t].destroy(),delete f[t])}w+=5e-5*it,0==Object.keys(f).length&&P()},C=4;ve.shinytech.release=1,c.ticker.add(I);let b=!1;function P(n=!1){b||(b=!0,ve.shinytech.stop(),c.ticker.remove(I),A.destroyPause(),v.destroy(),qe.fade((function(){for(let e in f)f[e].destroy(),delete f[e];null!=r.destroyCostume&&r.destroyCostume(),r.destroyAnimation(),t.destroy(),i.destroy(),m.destroy(),n?(je(e,l,Math.floor(l/75),"tennis2"),y.sportsdrop.owned=!0,qe.achievementQueue("winagameoftennis"),Z()):je(e,l,Math.max(0,Math.floor(l/100)),"tennis"),l>=2763&&qe.achievementQueue("get2763intennis")})),window.onblur=function(){})}ve.shinytech.on("end",(function(){P(!0)}));let k=0;window.onblur=function(){M||T()};let M=!1;function T(){M=!M,A.changePause(M),M?(k=-Date.now(),n.inGame=!1,ve.shinytech.pause(),c.ticker.remove(I),r.stop(),qe.message(e,o.ui.gamePaused,xe["Sprites/GameUI"][32],(function(){T()}),(function(){P()}),[o.ui.play,o.ui.home],!1)):(k+=Date.now(),S+=k,n.inGame=!0,r.play(),ve.shinytech.play(),c.ticker.add(I))}let A=qe.pauseButton((function(){T()}),.4);e.addChild(A),A.x=c.screen.width-40,A.y=40},gtttatint:function(e,t="",i=!1){let r=function(){n.minigameMusic&&ve.radiomartini.play()};ve.radiomartini.stopWithStyle=function(){if(!n.minigameMusic)return;let e=function(){null!=ve.radiomartini?(ve.radiomartini.volume-=1/60*it,ve.radiomartini.sourceNode.playbackRate.value-=1/120*it,ve.radiomartini.volume<=.01&&(ve.radiomartini.stop(),c.ticker.remove(e))):c.ticker.remove(e)};c.ticker.add(e),ve.radiomartini.off("end",r)},n.minigameMusic&&(ve.radiomartini.play(),ve.radiomartini.sourceNode.playbackRate.value=1,ve.radiomartini.volume=1),ve.radiomartini.on("end",r);let s=new PIXI.Sprite(xe["Sprites/Rooms"][10]);s.interactive=!0,s.x=e.screen.width/2,s.anchor.set(.5,0);let l=new PIXI.Sprite(xe["Backgrounds/Starfield"][0]);e.addChild(s),e.addChild(l),l.anchor.set(.5,.5),l.x=e.screen.width/2-50,l.y=e.screen.height/2-100,l.alpha=0,l.scale.x=1.25,l.scale.y=1.25;let d=new PIXI.Container,h={},u=0;e.addChild(d),s.x=e.screen.width/2-180,s.height=20*e.screen.height;let m={x:0,y:0,vx:0,vy:0,box:new PIXI.Graphics,width:30,height:30,acceleration:0},f=[];f.push(s),f.push(l),f.push(m.box);let g=new PIXI.Container;e.addChild(g),f.push(g);let x={},w=p.linear(e.screen.width-60,300,.75),v=0,S=w/2-60,C=0;function b(e,t,i,n){let a=function(){let a=5*t;return a=9*(a<<7|a>>>25),n^=t,t^=i^=e,e^=n,n=n<<11|n>>>21,(a>>>0)/2**32};for(let e=0;e<100;e++)a();return a}let P=function(e){let t=[];for(let i=0;i<4;i++){let n=2**32;for(let t=0;t<4;t++)n-=(e.charCodeAt(t+4*i)+30*i)**4;t.push(n)}return t};if(""==t){let e=function(){return Math.floor(1e6+9999999*Math.random()).toString(36)};t=e()+e()+e()+e()}if(t.length<16){let e="";for(let i=0;i<16;i++)e+=t,t.length/2==Math.floor(t.length/2)&&(e+="}");t=e}let k=P(t),M=b(k[0],k[1],k[2],k[3]);for(let t=0;t<30;t++){let i=new PIXI.Sprite(xe["Sprites/Clouds"][Math.floor(3*M())]);d.addChild(i),i.anchor.set(.5,.5),i.y=e.screen.height/2+(M()-.5)*e.screen.height-1200*M(),i.orig={y:i.y},i.scale.x=.2+t/150,i.scale.y=.2+t/150,i.x=e.screen.width/2+(M()-.5)*w*p.linear(i.scale.x,1,.5),M()>.5&&(i.scale.x*=-1);let n=i.texture.trim;null==n&&(n=i.texture._frame),i.pivot.y=-n.height,h[u++]=i}let T=0,A=0;function E(i=!1,n=-1){50*Math.floor(C/50)==C&&0!=C&&(t=function(e){let t="";for(let i=0;i<e.length;i++)t+=0==i?e[e.length-1]:e[i-1];return t}(t),k=P(t),M=b(k[0],k[1],k[2],k[3]));let a=120;a*=(Math.cos(C/10)/2+.5+1)/2;let o=(M()-.5)*v;C>200&&M()>.998&&(A=10+Math.floor(40*M())),A>0&&(o=60*Math.round(o/60),T=T>1?1:0),T>0&&(o/=10,a=70);let r=S+o;(r<0||r>w-a)&&(r=S-o),r<0&&(r=0),100*Math.floor(C/100)==C&&(i=!0),i&&(a=w,r=0),r>w-a&&(r=w-a),i&&T>1&&(T=1),A>0&&(a=60);let s={x:r,y:-60*C,width:a,height:40,id:C,transparent:!1,ladder:T>1,blocky:A>0};i||(S=s.x),v<w&&(v+=12);let l=M()<.01||1==T;1==T&&(s.y+=30),s.boost=l;let d=l?xe.inputNineSlice[7]:xe.inputNineSlice[6];T>1&&(d=xe.inputNineSlice[8]);let c=new PIXI.NineSlicePlane(d,15,15,15,15);c.width=s.width,c.height=0==C?e.screen.height:s.height/4,A>0&&(c.height=60),T>1&&(c.height*=4),c.pivot.x=s.width/2,c.pivot.y=c.height/2,c.x=s.x+c.pivot.x,c.y=s.y+c.pivot.y,c.vy=0,c.vx=0,(M()<.01+C/1e3&&!i||s.ladder&&!i)&&(c.rotation=M()>.5?.1:-.1,s.broken=!0),g.addChild(c),s.sprite=c,c.zIndex=0,x[C]=s,C++,T--,A--,M()<.005&&(T=20+Math.floor(M()*M()*50))}E(),m.x=x[0].x+x[0].width/2-m.width/2,m.y=x[0].y-m.height,m.zIndex=1e4;let D={},O=function(e){let t=e.key.toLowerCase();"ArrowLeft"==e.key&&(t="a"),"ArrowRight"==e.key&&(t="d"),"ArrowUp"==e.key&&(t=" "),"w"==e.key&&(t=" "),D[t]=!0,["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"," "].includes(e.key)&&e.preventDefault()},X=function(e){let t=e.key.toLowerCase();"ArrowLeft"==e.key&&(t="a"),"ArrowRight"==e.key&&(t="d"),"ArrowUp"==e.key&&(t=" "),"w"==e.key&&(t=" "),D[t]=!1},F=0,B=10;for(let e=0;e<10;e++)E();let N=De(we.GTTTATINT);if(n.minigameCostumes){let e={a:{d:N.a_.c,e:N.a_.e,f:N.a_.d,g:N.a_.e,h:N.a_.d,i:N.a_.f,j:N.d,k:N.c},c:N.b.b,b:N.b.a,tearDrop:N};null!=y[n.costume].applyMinigame?y[n.costume].applyMinigame(e,0,"gtttatint"):y[n.costume].apply(e,0,"gtttatint")}let z=!1,G=function(){z=!0},R=function(){z=!1};document.addEventListener("keydown",O),document.addEventListener("keyup",X),document.addEventListener("pointerdown",G),document.addEventListener("pointerup",R),N.onNextFrame=function(e){let t=Math.min(59,Math.max(0,Math.round(30-30*m.acceleration)));e.a_.gotoAndStop(t),"moondrop"==n.costume&&(t<=18?(e.a_.d.tint=0,e.a_.e.tint=16777215):(e.a_.d.tint=16777215,e.a_.e.tint=0),t>=40&&(e.a_.e.tint=16777215),t>=43&&(e.a_.e.tint=0)),e.b.scale.x=m.acceleration<0?-1:1,e.c.rotation+=-1.5+Math.abs(2*m.acceleration)+Math.abs(m.vy/4),0==m.vy&&e.a_.c.gotoAndStop(1),D.a||D.d||(e.b.gotoAndStop(20),e.b.a.rotation=-Math.abs(m.vy/4),e.b.b.rotation=-Math.abs(m.vy/4)),e.d.rotation=-e.c.rotation},N.play(),N.loop=!0,N.scale.x=.4,N.scale.y=.4;let _=new PIXI.NineSlicePlane(xe.inputNineSlice[5],15,15,15,15);_.width=(e.screen.width-w)/2,_.height=e.screen.height,_.x=0,_.y=0,e.addChild(_);let U=new PIXI.NineSlicePlane(xe.inputNineSlice[5],15,15,15,15);function j(t,i,a,o){let r=1;if(null!=n.controllerProfile.GTTTATINT){let a=n.controllerProfile.GTTTATINT;console.log(a),t=a.buttons[o].x+e.screen.width*a.buttons[o].lock,i=a.buttons[o].y+e.screen.height,r=a.buttonScale+.5}let s=new L((function(){}),xe["Sprites/GameUI"][a],{x:t,y:i,scale:{x:r,y:r}});s.sprite.on("pointerdown",(function(){D[o]=!0})),s.sprite.on("pointermove",(function(){z&&s.sprite.emit("pointerdown")})),s.sprite.on("pointerout",(function(){s.sprite.emit("pointerup")})),s.sprite.on("pointerup",(function(){D[o]=!1})),e.addChild(s.sprite),f.push(s)}U.width=(e.screen.width-w)/2,U.height=e.screen.height,U.x=e.screen.width-U.width,U.y=0,e.addChild(U),c.touchScreen&&(j(e.screen.width-150,e.screen.height-50,21,"a"),j(e.screen.width-50,e.screen.height-50,22,"d"),j(100,e.screen.height-50,23," ")),g.y=300;let W=Date.now(),V=-1,H=function(){-1!=V&&(Date.now()-W)/1e3>V&&V++,n.minigameMusic&&(ve.radiomartini.sourceNode.playbackRate.value=p.linear(ve.radiomartini.sourceNode.playbackRate.value,1-m.vy/400+F/80,.01,it)),s.y=-s.height+e.screen.height,s.y+=g.y,l.alpha=(g.y-8e3)/1e3,s.y>0&&(s.y=0),s.y<-s.height+e.screen.height&&(s.y=-s.height+e.screen.height),C-640/60<-m.y/60&&E();for(let t in x)parseInt(t)<Math.floor((g.y-e.screen.height)/60)&&(K.add(Math.max(1,F)),x[t].sprite.destroy(),delete x[t]);m.isOnGround=!1,N.x=m.x+m.width/2,N.y=m.y+m.height,D.d&&(m.acceleration+=.075*it),D.a&&(m.acceleration-=.075*it),m.vy+=.4*it,m.acceleration=p.linear(m.acceleration,0,1-.95,it),m.vx+=m.acceleration*it,m.vx=p.linear(m.vx,0,1-.8,it),m.y+=m.vy*it,m.x+=m.vx*it;let t=Math.abs(m.vx/40),a=Math.abs(m.vy/40);N.scale.x=.4*(1+t-a),N.scale.y=.4*(1+a-t),(m.x<0||m.x>w-m.width)&&(m.vx/=-1,m.acceleration/=-1),m.x<0&&(m.x=0),m.x>w-m.width&&(m.x=w-m.width);for(let e in x){let t=x[e];if(t.transparent&&(t.sprite.rotation+=(t.rotateTo<0?-.1:.1)*it,t.sprite.x+=t.sprite.vx*it,t.sprite.y+=t.sprite.vy*it,t.sprite.vy+=.2*it,t.sprite.vx=p.linear(t.sprite.vx,0,.05)),I(m,t)&&!t.transparent&&(t.ladder||m.vy>0&&m.y<t.y-m.height+(4+m.vy)*it)){if(t.broken&&(t.sprite.vy=m.vy/2,t.transparent=!0,t.rotateTo=m.x+m.width/2-t.sprite.x,t.sprite.vx=10*(Math.random()-.5)),t.ladder||(m.y=t.y-m.height,m.isOnGround=!0),t.blocky&&!i&&qe.achievementQueue("blockplatformgtttatint"),m.vy=0,m.max<t.id&&!t.ladder){let e=t.id-m.max;K.add(10*(e-1)),B--,0==B&&(F++,2==F&&(W=Date.now(),V=0),q.text=o.ui.mph+": "+F,B=10)}m.max=t.id;let e=7;F>=7&&(e*=2),F>=10&&(e*=1.5),F>=16&&(e*=1.5),F>=20&&(e*=2),t.boost&&(e*=2),(D[" "]||t.boost||t.ladder)&&(t.ladder?(m.y-=2*it,m.vy-=10):m.vy-=e+Math.abs(1.5*m.vx))}}g.x=e.screen.width/2-w/2,m.y<e.screen.height/2-g.y-200&&(g.y=p.linear(g.y,e.screen.height/2-m.y-200,.1,it)),-g.y+e.screen.height<m.y&&!Y&&(Y=!0,ve.radiomartini.stopWithStyle(),qe.blurPan(e,(function(){J()}))),g.y+=F/2*it;for(let t in h)h[t].y=h[t].orig.y+g.y*h[t].scale.y/2,h[t].y>e.screen.height&&(h[t].destroy(),delete h[t])},Y=!1;c.ticker.add(H);let Q=0,K=a(Q,32);K.add=function(e){Q+=e,i?(K.text="Set seed",K.alpha=.2):K.text=Q},K.add(0),K.anchor.set(1,0),K.x=e.screen.width-20-50,K.y=20,e.addChild(K);let q=a(o.ui.mph+": 0",32);q.anchor.set(0,0),q.x=20,q.y=20,e.addChild(q),f.push(q),f.push(K),f.push(U),f.push(_),g.addChild(N),g.sortableChildren=!0,N.zIndex=1e3,f.push(N);let J=function(){for(let e in x)x[e].sprite.destroy();for(let e in h)h[e].destroy(),delete h[e];null!=N.destroyCostume&&N.destroyCostume();for(let e=0;e<f.length;e++)f[e].destroy();document.removeEventListener("keydown",O),document.removeEventListener("keyup",X),document.removeEventListener("pointerdown",G),document.removeEventListener("pointerup",R),c.ticker.remove(H),te.destroyPause(),i||(F>=5?je(e,Q,Math.floor(Q/50)):(qe.gameList(e,"gtttatint"),qe.results(e,Q,Math.floor(Q/50)))),V>=120&&(qe.achievementQueue("5minuteGTTTATINT"),y.jockdrop.owned=!0),Q>=2763&&qe.achievementQueue("get2763gtttatint"),Q>=15e3&&qe.achievementQueue("get15000gtttatint"),window.onblur=function(){}};window.onblur=function(){Z||ee()};let Z=!1,$=0;function ee(){Z=!Z,te.changePause(Z),Z?(n.inGame=!1,ve.radiomartini.pause(),c.ticker.remove(H),N.stop(),$=-Date.now(),qe.message(e,o.ui.gamePaused,xe["Sprites/GameUI"][32],(function(){ee()}),(function(){qe.blurPan(e,(function(){ve.radiomartini.stop(),J()}))}),[o.ui.play,o.ui.home],!1)):($+=Date.now(),W+=$,n.inGame=!0,N.play(),n.minigameMusic&&ve.radiomartini.play(),c.ticker.add(H))}let te=qe.pauseButton((function(){ee()}),.4);e.addChild(te),te.x=e.screen.width-40,te.y=40},cakewalk:function(e,t="",r=!1){let s=function(){n.minigameMusic&&(ve.Pamgaea.play(),ve.Pamgaea.sourceNode.playbackRate.value=1.15)};n.minigameMusic&&(ve.Pamgaea.play(),ve.Pamgaea.sourceNode.playbackRate.value=1.15,ve.Pamgaea.on("end",s));let l=new PIXI.Sprite(xe["Sprites/Rooms"][10]);l.interactive=!0,l.x=c.screen.width/2,l.anchor.set(.5,0);let d=new PIXI.Sprite(xe["Backgrounds/Starfield"][0]);e.addChild(l),e.addChild(d),d.anchor.set(.5,.5),d.x=c.screen.width/2-50,d.y=c.screen.height/2-100,d.alpha=0,d.scale.x=1.25,d.scale.y=1.25;let h=new PIXI.Container,u={},m=0;e.addChild(h),l.x=c.screen.width/2-180,l.height=20*c.screen.height;let f={x:0,y:0,vx:0,vy:0,box:new PIXI.Graphics,width:30,height:30,acceleration:0},g=[];g.push(l),g.push(d),g.push(f.box);let x=new PIXI.Container;e.addChild(x),g.push(x);let w=360;if(""==t){let e=function(){return Math.floor(1e6+9999999*Math.random()).toString(36)};t=e()+e()+e()+e()}if(t.length<16){let e="";for(let i=0;i<16;i++)e+=t,t.length/2==Math.floor(t.length/2)&&(e+="}");t=e}let v=function(e){let t=[];for(let i=0;i<4;i++){let n=2**32;for(let t=0;t<4;t++)n-=(e.charCodeAt(t+4*i)+30*i)**4;t.push(n)}return t}(t),S=function(e,t,i,n){let a=function(){let a=5*t;return a=9*(a<<7|a>>>25),n^=t,t^=i^=e,e^=n,n=n<<11|n>>>21,(a>>>0)/2**32};for(let e=0;e<100;e++)a();return a}(v[0],v[1],v[2],v[3]);for(let e=0;e<30;e++){let t=new PIXI.Sprite(xe["Sprites/Clouds"][Math.floor(3*S())]);h.addChild(t),t.anchor.set(.5,.5),t.y=c.screen.height/2+(S()-.5)*c.screen.height-1200*S(),t.orig={y:t.y},t.scale.x=.2+e/150,t.scale.y=.2+e/150,t.x=c.screen.width/2+(S()-.5)*w*p.linear(t.scale.x,1,.5),S()>.5&&(t.scale.x*=-1);let i=t.texture.trim;null==i&&(i=t.texture._frame),t.pivot.y=-i.height,u[m++]=t}f.zIndex=1e4;let I={},C=function(e){I[e.key.toLowerCase()]=!0},b=function(e){I[e.key.toLowerCase()]=!1},k=!1,T=function(){k=!0},A=function(){k=!1};document.addEventListener("keydown",C),document.addEventListener("keyup",b),document.addEventListener("pointerdown",T),document.addEventListener("pointerup",A);let E=new PIXI.NineSlicePlane(xe.inputNineSlice[12],2,2,2,2);E.width=(c.screen.width-w)/2,E.height=c.screen.height,E.x=0,E.y=0,e.addChild(E);let L=new PIXI.NineSlicePlane(xe.inputNineSlice[12],2,2,2,2);L.width=(c.screen.width-w)/2,L.height=c.screen.height,L.x=c.screen.width-L.width,L.y=0,e.addChild(L),x.y=300;let D={},O=0,X=-1,F=-1,B=!0;function N(){let e={x:0,y:-1==X?0:X.y-100,width:-1==X?200:X.width,height:50,speed:1,scaleTimer:0};B&&(e.x=w-e.width,e.speed*=-1),e.width<=100&&(e.x=B?X.x+X.width+40:X.x-e.width-40),e.x<0&&(e.x=0),e.x>w+e.width&&(e.x=w+e.width),B=!B,e.original={y:e.y},-1==X&&(e.scaleTimer=110,e.x=80),e.previous=X,X=e,e.container=new PIXI.Container,e.container.x=e.x,e.container.y=e.y,x.addChild(e.container),e.setWidth=function(t,o){i.width=t,i.tilePosition.x+=o,e.width=t,a.width=t,n.width=t,n.tilePosition.x+=o,i.pivot.x=e.width/2,i.pivot.y=e.height/2,i.x=i.pivot.x,i.y=i.pivot.y},e.destroy=function(){n.destroy(),a.destroy(),i.destroy(),e.container.destroy(),delete D[e.id]};let t=3*Math.floor(3*Math.random());e.texture=t;let i=new PIXI.TilingSprite(xe["Sprites/CakeSlicePlane"][1+t]);i.pivot.x=e.width/2,i.pivot.y=e.height/2,i.x=i.pivot.x,i.y=i.pivot.y,i.clampMargin=1,i.width=e.width,i.height=50,e.container.addChild(i),e.sprite=i;let n=new PIXI.TilingSprite(xe["Sprites/CakeSlicePlane"][2+t]);n.y=-90,n.clampMargin=1,e.container.roundPixels=!0,n.width=e.width,n.height=90,i.addChild(n);let a=new PIXI.NineSlicePlane(xe["Sprites/CakeSlicePlane"][0+t]);i.addChild(a),a.width=e.width,a.height=50,e.id=O,D[O]=e,F=O,O++}let z=new PIXI.NineSlicePlane(xe.inputNineSlice[13]);x.addChild(z),z.x=-20,z.y=50,z.width=400,z.height=c.screen.height,l.on("pointerdown",(function(){D[F].dropping||(D[F].dropping=!0,D[F].speed=0,D[F].animationTimer=0)})),N(),N();let G=!1,R=0,_={},U=0,j=0,W=function(){if(D[F].x+=D[F].speed*it,(D[F].x>w-D[F].width||D[F].x<0)&&(D[F].speed*=-1),D[F].x>w-D[F].width&&(D[F].x=w-D[F].width),D[F].x<0&&(D[F].x=0),D[F].container.x=D[F].x,D[F].dropping){D[F].y=D[F].original.y+eases.easeInQuad(D[F].animationTimer,0,50,24),D[F].container.y=D[F].y,D[F].animationTimer+=it;let t=D[F],n=D[F].previous;if((t.x-n.x>n.width||n.x-t.x>t.width)&&(D[F].sprite.rotation=eases.easeInQuad(D[F].animationTimer,0,8,100),G||(G=!0,$.interactive=!1,setTimeout((function(){qe.blurPan(e,(function(){q()}))}),500))),D[F].animationTimer>24)if(t.x-n.x>n.width||n.x-t.x>t.width);else{D[F].sprite.scale.x=1,D[F].sprite.scale.y=1,D[F].y=D[F].original.y+50,D[F].container.y=D[F].y;let e=0;Math.abs(n.x-t.x)<30&&(e=o.score.nice),Math.abs(n.x-t.x)<10&&(e=o.score.good);let a={x:t.x,y:t.y,width:100,height:50,vy:0,vx:0,vr:0},r=4;if(t.width<8&&(r=2),Math.abs(n.x-t.x)<r?(a=-1,e=o.score.perfect,t.x=n.x,Q.add(100),R++,j++,U<j&&(U=j),R>=3&&t.width<=200&&(t.x-=20,t.width+=40,t.setWidth(t.width,20),t.container.x=t.x,R=1)):(R=0,j=0,Q.add(Math.max(10,100-Math.floor(Math.abs(n.x-t.x)))),n.x<t.x&&(t.width-=t.x-n.x,t.setWidth(t.width,0),t.x=n.x+n.width-t.width,a.width=t.x-n.x,a.x=t.x+t.width,a.vx=2+2*Math.random(),a.vr=5+5*Math.random()),n.x>t.x&&(a.width=-(t.x-n.x),t.width-=n.x-t.x,t.setWidth(t.width,t.x-n.x),t.x=n.x,a.x=t.x-a.width,a.vx=2*-Math.random()-2,a.vr=-5-5*Math.random()),a.vy=2*-Math.random()-2),i.hunger+=t.width/1200,t.container.x=t.x,K.text=o.ui.altitude+": "+O,500==O&&(qe.achievementQueue("750altitudeCAKEWALK"),y._td_costume6.owned=!0),1e3==O&&qe.achievementQueue("1000altitudeCAKEWALK"),-1!=a){let e=new PIXI.Container;e.x=a.x,e.y=a.y,x.addChild(e);let i=new PIXI.TilingSprite(xe["Sprites/CakeSlicePlane"][1+t.texture]);i.clampMargin=1,i.width=a.width,i.height=a.height,i.pivot.x=a.width/2,i.pivot.y=a.height/2,i.x=i.pivot.x,i.y=i.pivot.y,e.addChild(i);let n=new PIXI.NineSlicePlane(xe["Sprites/CakeSlicePlane"][0+t.texture]);i.addChild(n),n.width=a.width,n.height=50,a.sprite=i,a.container=e,a.id=F,_[F]=a,a.destroy=function(){delete _[a.id],n.destroy(),i.destroy(),e.destroy()}}N(),V.text=e,0!=e&&(V.animationTimer=0,V.rotateTo=B?1:-1)}}V.alpha=eases.easeInQuad(Math.min(100,V.animationTimer),1,-1,50),V.scale.x=eases.easeOutQuad(Math.min(100,V.animationTimer),1,.5,30),V.scale.y=eases.easeOutQuad(Math.min(110,V.animationTimer),1,.5,30),V.rotation=eases.easeInQuad(Math.min(110,V.animationTimer),0,.1*V.rotateTo,40),V.animationTimer+=it;for(let e in D){let t=D[e];D[e].sprite.scale.x=eases.easeOutElastic(Math.min(90,D[e].scaleTimer),.1,.9,90),D[e].sprite.scale.y=eases.easeOutElastic(Math.min(80,D[e].scaleTimer),.1,.9,80),D[e].scaleTimer+=it,t.container.transform.worldTransform.ty>c.screen.height&&t.destroy()}for(let e in _){let t=_[e];t.x+=t.vx,t.y+=t.vy,t.sprite.rotation+=t.vr/100,t.vy+=.4,t.vx=p.linear(t.vx,0,.02,it),t.container.x=t.x,t.container.y=t.y,t.container.transform.worldTransform.ty>c.screen.height+100&&t.destroy()}l.y=-l.height+c.screen.height,l.y+=x.y,d.alpha=(x.y-8e3)/1e3,l.y>0&&(l.y=0),l.y<-l.height+c.screen.height&&(l.y=-l.height+c.screen.height),x.x=c.screen.width/2-180,x.y=p.linear(x.y,c.screen.height/2-D[F].original.y-100,.05,it);for(let e in u)u[e].y=u[e].orig.y+x.y*u[e].scale.y/2,u[e].y>c.screen.height&&(u[e].destroy(),delete u[e]);H.offset=p.linear(H._offset,i.hunger/100,.04,it)},V=a("Bruh",32,"center");e.addChild(V),V.x=c.screen.width/2,V.y=c.screen.height/2+200;let H=new M(xe["Sprites/GameUI"][4],xe["Sprites/GameUI"][3],i.hunger/100);H.buttonContainer.x=60,H.buttonContainer.y=c.screen.height-60,H.buttonContainer.scale.x=.8,H.buttonContainer.scale.y=.8,e.addChild(H.buttonContainer),P(H.buttonContainer,(function(){})),H.selected.visible=!1,c.ticker.add(W);let Y=0,Q=a(Y,32);Q.add=function(e){Y+=e,r?(Q.text="Set seed",Q.alpha=.2):Q.text=Y},Q.add(0),Q.anchor.set(1,0),Q.x=c.screen.width-20-50,Q.y=20,e.addChild(Q);let K=a(o.ui.altitude+": 1",32);K.anchor.set(0,0),K.x=20,K.y=20,e.addChild(K),g.push(K),g.push(Q),g.push(L),g.push(E),x.sortableChildren=!0;let q=function(){V.destroy(),H.destroy(),ve.Pamgaea.release=.5,n.minigameMusic&&ve.Pamgaea.off("end",s),ve.Pamgaea.stop();for(let e in D)D[e].destroy();for(let e in _)_[e].destroy();for(let e in u)u[e].destroy(),delete u[e];for(let e=0;e<g.length;e++)g[e].destroy();document.removeEventListener("keydown",C),document.removeEventListener("keyup",b),document.removeEventListener("pointerdown",T),document.removeEventListener("pointerup",A),c.ticker.remove(W),qe.gameList(e,"cakewalk"),$.destroyPause(),r||setTimeout((function(){qe.results(e,Y,Math.floor(Y/50)),U>=10&&qe.achievementQueue("get10perfectsCAKEWALK")}),100),window.onblur=function(){}};window.onblur=function(){J||Z()};let J=!1;function Z(){J=!J,$.changePause(J),J?(n.inGame=!1,c.ticker.remove(W),n.minigameMusic&&(ve.Pamgaea.release=.2,ve.Pamgaea.pause()),qe.message(e,o.ui.gamePaused,xe["Sprites/GameUI"][32],(function(){Z()}),(function(){qe.blurPan(e,(function(){q()}))}),[o.ui.play,o.ui.home],!1)):(n.minigameMusic&&(ve.Pamgaea.play(),ve.Pamgaea.sourceNode.playbackRate.value=1.15),n.inGame=!0,c.ticker.add(W))}let $=qe.pauseButton((function(){Z()}),.4);e.addChild($),$.x=c.screen.width-40,$.y=40},dropdodge:function(){let e=new PIXI.Sprite(xe["Sprites/RepeatingUI"][3]);e.interactive=!0,c.stage.addChild(e),e.width=c.screen.width,e.height=c.screen.height;let t={x:0,y:0,vx:0,vy:0,box:new PIXI.Graphics,width:30,height:50,acceleration:0},i=[];i.push(e),i.push(t.box);let n=new PIXI.Container;c.stage.addChild(n),i.push(n);let o={},r=3e3;t.x=0,t.y=0,t.zIndex=1e4;let s={},l=function(e){s[e.key]=!0},d=function(e){s[e.key]=!1},h=0,u=15;for(let e=0;e<1e4;e++);let m=De(we.GTTTATINT),y=!1,f=function(){y=!0},g=function(){y=!1};document.addEventListener("keydown",l),document.addEventListener("keyup",d),document.addEventListener("pointerdown",f),document.addEventListener("pointerup",g),m.onNextFrame=function(e){s.w||s.a||s.s||s.d||(e.goto(0),e.b.gotoAndStop(20)),e.a_.gotoAndStop(Math.min(59,Math.max(0,Math.round(30-30*t.acceleration)))),e.b.scale.x=t.acceleration<0?-1:1,e.c.rotation+=-1.5+Math.abs(2*t.acceleration),0==t.vy&&e.a_.c.gotoAndStop(1),e.d.rotation=-e.c.rotation},m.play(),m.loop=!0,m.scale.x=.4,m.scale.y=.4;let x=new PIXI.NineSlicePlane(xe.inputNineSlice[5],15,15,15,15);x.width=100,x.height=r,x.x=r,x.y=0,n.addChild(x);let w=new PIXI.NineSlicePlane(xe.inputNineSlice[5],15,15,15,15);w.width=100,w.height=r,w.x=-100,w.y=0,n.addChild(w);let v=new PIXI.NineSlicePlane(xe.inputNineSlice[5],15,15,15,15);v.width=r,v.height=100,v.x=0,v.y=-100,n.addChild(v);let S=new PIXI.NineSlicePlane(xe.inputNineSlice[5],15,15,15,15);S.width=r,S.height=100,S.x=0,S.y=r,n.addChild(S);let C=function(){t.y;for(let e in o)parseInt(e)<Math.floor((n.y-640)/1)&&(k.add(Math.max(1,h)),o[e].sprite.destroy(),delete o[e]);t.isOnGround=!1,m.x=t.x+t.width/2,m.y=t.y+t.height;let e=.4;s.d&&(t.vx+=e),s.a&&(t.vx-=e),s.w&&(t.vy-=e),s.s&&(t.vy+=e),t.acceleration=p.linear(t.acceleration,t.vx/5,.5,it),t.vx*=.9,t.vy*=.9,t.y+=t.vy,t.x+=t.vx;let i=Math.abs(t.vx/40/4),a=Math.abs(t.vy/40/4);m.scale.x=.4*(1+i-a),m.scale.y=.4*(1+a-i),(t.x<0||t.x>r-t.width)&&(t.vx/=-1,t.acceleration/=-1),(t.y<0||t.y>r-t.height)&&(t.vy/=-1),t.x<0&&(t.x=0),t.y<0&&(t.y=0),t.x>r-t.width&&(t.x=r-t.width),t.y>r-t.height&&(t.y=r-t.height);for(let e in o){let i=o[e];if(I(t,i)&&t.vy>0&&t.y<i.y-t.height+4+t.vy){if(t.y=i.y-t.height,t.isOnGround=!0,t.vy=0,t.max<i.id){let e=i.id-t.max;k.add(10*(e-1)),u--,0==u&&(h++,M.text="mph: "+h,u=10)}t.max=i.id;let e=7;h>=7&&(e*=2),h>=10&&(e*=1.5),h>=16&&(e*=1.5),h>=20&&(e*=2),s[" "]&&(t.vy-=e+Math.abs(1.5*t.vx))}}n.x=p.linear(n.x,c.screen.width/2-t.x,.2,it),n.y=p.linear(n.y,c.screen.height/2-t.y,.2,it),-n.y+c.screen.height<t.y&&!b&&(b=!0,qe.blurPan(c.stage,(function(){T()}))),n.y+=h/2},b=!1;c.ticker.add(C);let P=0,k=a(P,32);k.add=function(e){P+=e,k.text=P},k.anchor.set(1,0),k.x=c.screen.width-20,k.y=20,c.stage.addChild(k);let M=a("mph: 0",32);M.anchor.set(0,0),M.x=20,M.y=20,c.stage.addChild(M),i.push(M),i.push(k),i.push(S),i.push(x),n.addChild(m),i.push(m);let T=function(){for(let e in o)o[e].sprite.destroy();for(let e=0;e<i.length;e++)i[e].destroy();document.removeEventListener("keydown",l),document.removeEventListener("keyup",d),document.removeEventListener("pointerdown",f),document.removeEventListener("pointerup",g),c.ticker.remove(C),qe.gameList(),qe.results(P,Math.floor(P/50))}},results:function(e,i=10,r=50,s=-1,l=o.ui.score){if("number"==typeof e)return void qe.message(c.stage,"Forgotten source code rework for this results page!");let d=qe.blackTint(e,.2);d.start();let h=new PIXI.NineSlicePlane(xe.inputNineSlice[2]);h.width=200,h.height=200,h.x=c.screen.width/2,h.y=c.screen.height/2,h.pivot.set(h.width/2,h.height/2),e.addChild(h);let u=new PIXI.BitmapText(-1==s?o.ui.gameOver:s,{fontName:"ShagBlack",fontSize:24});u.anchor.set(.5,0),u.x=h.width/2,u.y=30,h.addChild(u);let m=h.width/2,y=a(l+": "+i,20,"center",void 0,1);y.x=m,y.y=u.y+70,-1==s&&h.addChild(y),[].push(y);let f=0,g=new PIXI.Container,x=new PIXI.Sprite(xe["Sprites/GameUI"][14]);g.addChild(x),x.x=0,x.y=0,x.scale.x=.75,x.scale.y=.75,x.anchor.set(.5,.5),f+=x.texture.trim.width/2*x.scale.x;let w=a(r,20,"left","center",1);w.anchor.set(0,.5),w.x=f+10,w.y=-2,f+=w.width,g.addChild(w),g.x=m-f/2,g.y=u.y+50,h.addChild(g);let v={},I=0,C=Math.min(1e4,r),b=!1,P=new E((function(){b||(b=!0,r>0&&n.sfx&&(ve.collect.stop(),ve.collect.play()),function(){for(let t=0;t<C;t++){let t=new PIXI.Sprite(xe["Sprites/GameUI"][14]);t.scale.x=.4+.5*Math.random(),t.scale.y=t.scale.x,t.anchor.set(.5,.5),t.y=x.transform.worldTransform.ty,t.vr=Math.random()-.5,t.facing=Math.random()*Math.PI*2;let i=1+8*Math.random();t.vx=i*Math.cos(t.facing),t.vy=i*Math.sin(t.facing),t.x=x.transform.worldTransform.tx,e.addChild(t),v[I++]=t}0!=C&&(x.visible=!1),setTimeout((function(){t.coins+=r,Z()}),500),T()}())}),20,h.height-20,h.width-40,30,o.ui.continue,0,0,1,1,"center");h.addChild(P.element);let k=0,M=Math.random()-.5,T=function(){P.interactive=!1,A.x=h.x,A.y=h.y,A.rotation=h.rotation,A.scale=h.scale,h.closing=!0,k=0},A={x:c.screen.width/2,y:c.screen.height/2,rotation:M,scale:.5};h.onDestroyed=function(){},h.destroyBook=function(){h.onDestroyed(),c.ticker.remove(D),P.destroy(),x.destroy(),w.destroy(),h.destroy({children:!0})};let L=function(){for(let e in v){let t=v[e];t.y+=t.vy*it,t.x+=t.vx*it;let i=50,n=50;t.facing=Math.atan2(n-t.y,i-t.x);let a=8,o=S(t.x,t.y,i,n);o<50?(t.vx=a*Math.cos(t.facing),t.vy=a*Math.sin(t.facing)):(t.vx=p.linear(t.vx,a*Math.cos(t.facing),.02,it),t.vy=p.linear(t.vy,a*Math.sin(t.facing),.02,it)),t.rotation+=t.vr/10*it,o<5*it&&(t.destroy(),C--,delete v[e]),C<=0&&c.ticker.remove(L)}},D=function(){if(h.closing){if(h.y=ease[16](Math.min(40,k),A.y,-A.y+c.screen.height+500,40),h.rotation=ease[1](Math.min(70,k),A.rotation,M,70),k>40)return d.end(),void h.destroyBook()}else h.x=ease[17](Math.min(80,k),A.x,0,80),h.y=ease[8](Math.min(70,k),A.y,-20,70),h.rotation=window.eases.easeOutElastic(Math.min(100,k),A.rotation,-M,100),h.scale.x=window.eases.easeOutElastic(Math.min(90,k),A.scale,.5,90);h.scale.y=h.scale.x,k+=it};return c.ticker.add(D),c.ticker.add(L),h},message:function(e,t,i=-1,n=function(){},a=-1,o,r=!0,s=1,l=24){let d=!1;"string"==typeof e&&(e=c.stage,t="Forgotten source code rework for this page!",i=-1,n=function(){},a=-1,d=!0);let h=qe.blackTint(e,.2,r);h.start();let p=new PIXI.NineSlicePlane(xe.inputNineSlice[2]);d&&(p.zIndex=20),p.width=Math.max(320,c.screen.width/2),p.x=c.screen.width/2,p.y=c.screen.height/2,e.addChild(p);let u=0;-1==i&&(u+=-70);let m,y=new PIXI.BitmapText(t,{fontName:"ShagBlack",fontSize:l,breakWords:!0,wordWrap:!0,wordWrapWidth:200,maxWidth:p.width-90-30-u,whiteSpace:"normal"});p.height=y.height+90,y.anchor.set(0,.5),y.x=110+u,y.y=p.height/2-10,p.addChild(y),-1!=i&&(m=new PIXI.Sprite(i),p.addChild(m),m.anchor.set(.5,.5),m.y=p.height/2-10,m.x=60,m.scale.x=.8*s,m.scale.y=.8*s);let f=0;-1!=a&&(p.height+=40),p.pivot.set(p.width/2,p.height/2);let g,x,w,v=Math.random()-.5,S=function(){p.closing||(C.x=p.x,C.y=p.y,C.rotation=p.rotation,C.scale=p.scale,p.closing=!0,f=0)};-1==a?(g=qe.exitButton(S,p.width-20,20,.3,.1),g.sprite.alpha=0,p.addChild(g.sprite),g.interactive=!1,g.show=!1,setTimeout((function(){g.show=!0,g.sprite.interactive=!0}),500)):(x=new E((function(){I=0,S()}),15,p.height-15,p.width/2-20,30,o[0],0,0,1,1,"center"),p.addChild(x.element),w=new E((function(){n=a,S()}),p.width-15,p.height-15,p.width/2-20,30,o[1],0,1,1,1,"center"),p.addChild(w.element));let I=0,C={x:c.screen.width/2,y:c.screen.height/2,rotation:v,scale:.5};p.onDestroyed=function(){},p.destroyBook=function(){p.onDestroyed(),c.ticker.remove(b),-1==a?g.destroy():(x.destroy(),w.destroy()),y.destroy(),-1!=i&&m.destroy(),p.destroy({children:!0}),n()};let b=function(){if(-1==a&&(g.show&&(g.sprite.alpha+=.05),g.sprite.alpha>=1&&(g.sprite.alpha=1,g.show=!1)),p.closing){if(p.y=ease[16](Math.min(40,f),C.y,-C.y+c.screen.height+500,40),p.rotation=ease[1](Math.min(70,f),C.rotation,v,70),f>40)return h.end(),void p.destroyBook()}else p.x=ease[17](Math.min(80,f),C.x,0,80),p.y=ease[8](Math.min(70,f),C.y,-20,70),p.rotation=window.eases.easeOutElastic(Math.min(100,f),C.rotation,-v,100),p.ignoreScale||(p.scale.x=window.eases.easeOutElastic(Math.min(90,f),C.scale,.5,90));p.ignoreScale||(p.scale.y=p.scale.x),f+=it};return p.ignoreScale=!1,c.ticker.add(b),p.exit=S,p},wardrobe:function(e=new PIXI.Container,r=function(){}){O.visible=!1,qe.initializeScreenResolution(e);let l=new PIXI.Sprite(xe["Sprites/Rooms"][7]);e.addChild(l),l.interactive=!0,l.x=c.screen.width/2,l.y=c.screen.height/2,l.anchor.set(.5,.5),l.scale.x=1,l.scale.y=1;let d=new PIXI.Container;e.addChild(d);let u=qe.coinCounter(e);d.addChild(u);let m=t.coins;u.x=20,u.y=20;let g={},x=0,w=0,v=0,S=[],I=a("",32,"center");I.x=c.screen.width/2,I.y=c.screen.height-150;let C=n.costume,b=new PIXI.Container,P=[],k=0;function M(r){null!=P[r]&&P[r].destroyPage();let l=function(r){let l=[],d=new PIXI.Container,h={},S=new PIXI.Container,b=new PIXI.Graphics;S.mask=b,d.addChild(b),d.addChild(S),S.x=40,S.y=130;let P=c.screen.width-80,M=c.screen.height-300-50;b.beginFill(0),b.drawRect(S.x,S.y,P,M),b.endFill(),S.interactive=!0,S.on("pointerdown",(function(e){let t=e.clientY/s;S.dragOffset={y:t-S.y},S.prevY=S.y,S.vy=0,S.scrolling=!0}));let T=function(e){if(!S.scrolling)return;S.wheel=!1;let t=e.clientY/s;S.prevY=S.y,S.y=t-S.dragOffset.y},L=function(e){S.wheel=!0,S.vy=p.linear(S.vy,-e.deltaY/2*it,.25),S.vy>40*it&&(S.vy=40*it),S.vy<-40*it&&(S.vy=-40*it)};document.addEventListener("wheel",L);let D=function(){S.scrolling=!1};document.addEventListener("pointermove",T),document.addEventListener("pointerup",D),S.vy=0;let O=function(){let e=120-G-50+M;S.vy=p.linear(S.vy,0,S.wheel?.1:.05,it),S.scrolling?S.vy=S.y-S.prevY:S.y+=S.vy,F.targetAlpha=1,S.y>=130&&(S.y=130,S.vy=0),S.y<=e&&(F.targetAlpha=0,S.y=e,S.vy=0),F.alpha=p.linear(F.alpha,F.targetAlpha,.1,it)};c.ticker.add(O);let F=new PIXI.Sprite(xe["Sprites/Rooms"][11]);d.addChild(F),F.x=S.x,F.y=S.y+M-90,F.width=P,F.height=100;let N=f[r].items,G=0;for(let s=0;s<N.length;s++){let d=N[s],c=y[d],p=!1;if(null!=c.drawnBy&&(p=!0),c.hidden)continue;if(c.secret&&!c.owned)continue;let b=!1;if(null!=c.checkAvailability&&c.checkAvailability()&&(c.owned=!0),null!=tt.costumes[d]&&(tt.costumes[d].expiry>Date.now()&&0==c.owned&&(b=!0,c.discount=tt.costumes[d]),tt.costumes[d].expiry>Date.now()&&c.limited&&(b=!0,c.discount=tt.costumes[d])),-1==c.cost&&(b=!1),c.limited&&!b&&!c.owned)continue;let M=!1,T=!1;c.owned||-1!=c.cost||(M=!0),c.limited&&(T=!0);let L=M?11:3;T&&(L=2);let D=new E((function(){I.text=""}),0,0+G,P,120+(c.limited&&!c.owned?30:0),"",0,0,0,L),O=0,F=-1;c.limited&&!c.owned&&(F=new E((function(){}),P/2,10,P-20,20,"LIMITED! - ",0,.5,0,1,"center"),l.push(F),D.element.addChild(F.element),F.element.interactive=!1,O=30),h[d]=D,D.element.interactive=!1,S.addChild(D.element);let R=new PIXI.Rectangle(0,0,0,0),U=-1;if(-1!=c.sprite&&(U=new PIXI.Sprite(xe["Sprites/Poses"][c.sprite]),U.scale.x=.5,U.scale.y=.5,U.hitArea=R,D.element.addChild(U),U.anchor.set(.5,.5),U.x=50,U.y=60+O,p&&(U.scale.x=.34,U.scale.y=.34,U.y-=14),M)){let e=new PIXI.ColorMatrixFilter;e.matrix=[.5,0,0,0,0,0,.5,0,0,0,0,0,.5,0,0,0,0,0,1,0],e.blackAndWhite(1),U.filters=[e]}let j,W,V=a(c.name,24,"left","middle",T?1:0);if(M&&(V.text="???"),V.x=100,f[r].votes){let e=a(s+1+".",24,"center","middle",3);D.element.addChild(e),e.y=20+O,e.x=100,V.x+=e.width+10}if(V.width>D.element.width-V.x-30&&(V.width=D.element.width-V.x-30,V.scale.y=V.scale.x),V.y=20+O,D.element.addChild(V),null!=c.artist){let e=a(o.ui.artist+": "+c.artist.name,12,"left","middle",T?1:0);e.x=100,e.y=50+O,D.element.addChild(e)}if(V.width>P-50&&(V.width=P-50),V.scale.y=V.scale.x,c.owned||M?(j=a(o.ui.owned,16,void 0,void 0,T?1:0),M&&(j.text=""),j.x=100,j.scale.y=j.scale.x,j.y=50+(16*-j.scale.y+16)/2+(null==c.artist?0:15)+O,D.element.addChild(j)):(j=a(c.cost,16,void 0,void 0,T?1:0),j.x=130,j.width>60&&(j.width=60),j.scale.y=j.scale.x,j.y=50+(16*-j.scale.y+16)/2+(null==c.artist?0:15)+O,D.element.addChild(j),l.push(j),W=new PIXI.Sprite(xe["Sprites/GameUI"][14]),D.element.addChild(W),W.x=110,W.y=60+(null==c.artist?0:15)+O,W.scale.x=.75,W.scale.y=.75,W.anchor.set(.5,.5),W.hitArea=R,l.push(W),-1==c.sprite&&(W.x-=80),0==c.cost&&(j.text="FREE",j.x=100,W.visible=!1)),b){let e,t,i;1!=c.discount.price&&(e=new PIXI.NineSlicePlane(xe.inputNineSlice[18],15,15,15,15),e.x=j.x-3,e.y=j.y+7,e.width=j.width+6,e.height=j.height-11,D.element.addChild(e),l.push(e),t=a(c.cost*c.discount.price,16,void 0,void 0,T?1:0),t.x=130,t.width>60&&(t.width=60),t.scale.y=t.scale.x,t.y=j.y+20,D.element.addChild(t),l.push(t),i=a(_e(c.discount.expiry-Date.now()),16,void 0,void 0,T?1:0),i.y=100,i.x=20,p&&(i.anchor.set(.5,.5),i.x=U.x,i.y=10,i.scale.x=.8,i.scale.y=.8),D.element.addChild(i));let n=setInterval((function(){b&&(1!=c.discount.price&&(i.text=_e(c.discount.expiry-Date.now())),c.limited&&!c.owned&&(F.inputText.text="LIMITED! "+_e(c.discount.expiry-Date.now())),Date.now()>c.discount.expiry&&(b=!1,j.destroyDiscount(),c.limited&&!c.owned&&(F.inputText.text="The time period to buy costume is over!")))}),1e3),o=!1;1==c.discount.price&&(o=!0),j.destroyDiscount=function(){o||(o=!0,t.destroy(),i.destroy(),e.destroy())},Ue.push(n)}if(-1==c.sprite&&(j.x-=80,V.x-=80),!c.owned){let a=new E((function(){if(k!=r)return void qe.message(e,"You need to be in the same page as the category you're buying from!");if(c.requiredLevel>n.level)return void qe.message(e,"You need atleast level "+c.requiredLevel+" to buy this item!",xe["Sprites/GameUI"][35]);if(c.limited&&!b)return void qe.message(e,"The time period to buy the costume is over!");if(-1==c.cost){if("object"==typeof c.achievement){let t=H[c.achievement[0]].name;for(let e=1;e<c.achievement.length;e++)t+=(e==c.achievement.length-1?'" and "':'", "')+H[c.achievement[e]].name;qe.message(e,o.message.obtainCostume(t),xe["Sprites/GameUI"][H[c.achievement[0]].icon])}else qe.message(e,o.message.obtainCostume(H[c.achievement].name),xe["Sprites/GameUI"][H[c.achievement].icon]);return}let s=c.cost;if(b&&(s=c.cost*c.discount.price),s>m)return w<.01&&(v=0),w=2,I.text="Not enough coins!",I.alpha=2,void(n.sfx&&(ve.fail.stop(),ve.fail.play()));b&&(j.destroyDiscount(),c.limited&&(F.inputText.text="OWNED"));let l=Math.floor(Math.max(600,s)/6);i.happiness+=40-s/100,i.progress+=50;let d=Math.floor(s/10),h=d/l;setTimeout((function(){if(n.sfx){if(0==s)return;s>500?ve.coinlarge.play():s>100?ve.coinmedium.play():ve.coinsmall.play()}}),750);let p=setInterval((function(){if(h<=0||_)clearInterval(p);else{h--;for(let t=0;t<(h<=0?d%l:l);t++){let t=new PIXI.Sprite(xe["Sprites/GameUI"][14]);t.scale.x=.4+.5*Math.random(),t.scale.y=t.scale.x,t.anchor.set(.5,.5),t.y=u.y+20,t.vr=Math.random()-.5,t.vy=20*(Math.random()-.6),t.vx=20*(Math.random()-.1),t.x=u.x+20,e.addChild(t),g[x++]=t}}}),1e3/24);c.owned=!0,n.sfx&&(ve.purchase.stop(),ve.purchase.play()),a.destroy(),Q.element.y+=30,Q.inputText.text=o.ui.wear,m-=s,t.coins=m,W.destroy(),j.text=o.ui.owned,c.owned=!0,0!=c.cost&&(j.x-=30),Y()}),P-10,110+O,80,20,M?o.ui.info:o.ui.get,0,1,1,T?1:4,"center");D.element.addChild(a.element)}let Y=function(){if(C!=d&&("Look"==B.currentPart?B.onAnimationEnd=function(){B.gotoPart("Look2"),B.onAnimationEnd=function(){B.currentPart=-1}}:(B.gotoPart("Look2"),B.onAnimationEnd=function(){B.currentPart=-1}),A=0,C=d,null!=B.destroyCostume&&(B.destroyCostume(),B.destroyCostume=void 0),c.apply(B),B.filters.push(z),X=1,c.owned)){for(let e in h)h[e].wear.inputText.text==o.ui.wearing&&(h[e].wear.inputText.text=o.ui.wear);n.costume=d,Q.inputText.text=o.ui.wearing}},Q=new E(Y,P-10,110-(c.owned?0:30)+O,80,20,c.owned?n.costume==d?o.ui.wearing:o.ui.wear:o.ui.preview,0,1,1,T?1:4,"center");if(D.wear=Q,M||D.element.addChild(Q.element),l.push(V),l.push(D),p){let e=new PIXI.Sprite(xe.designerCredits[c.drawnBy.icon]);D.element.addChild(e),e.anchor.set(.5,1),e.x=U.x,e.y=D.element.height-10,e.width=80,e.scale.y=e.scale.x,l.push(e)}if(c.requiredLevel>n.level){let e=new PIXI.NineSlicePlane(xe.inputNineSlice[14]);e.tint=0,e.width=D.element.width,e.height=D.element.height,D.element.addChild(e),e.alpha=.8,e.interactive=!0;let t=new PIXI.Sprite(xe["Sprites/GameUI"][41]);t.x=D.element.height/2,t.y=D.element.height/2,t.anchor.set(.5,.5),t.scale.x=.75,t.scale.y=.75,D.element.addChild(t),t.hitArea=R;let i=a("LEVEL "+c.requiredLevel,24,"left","middle");i.x=D.element.height/2+40,i.y=D.element.height/2-2,i.width>D.element.width-i.x-20&&(i.width=D.element.width-i.x-20,i.scale.y=i.scale.x),D.element.addChild(i)}G+=D.element.height+4}let R=a(o.ui.comingsoon,24,"center");S.addChild(R),R.x=P/2,R.y=G+20,l.push(F),l.push(S),l.push(b);let _=!1;return d.destroyPage=function(){if(!_){_=!0;for(let e=0;e<l.length;e++)l[e].destroyed||l[e].destroy(),null!=l[e].destroyDiscount&&l[e].destroyDiscount();c.ticker.remove(O),document.removeEventListener("pointermove",T),document.removeEventListener("wheel",L),document.removeEventListener("pointerup",D),d.destroy()}},d}(r);l.x=r*K,P[r]=l,b.addChild(l)}e.addChild(b);let T=qe.exitButton((function(){r(),Z(),qe.flash(e,!1,G)}),c.screen.width-40,40,.4,0);e.addChild(T.sprite);let A=50;d.origX=0,d.time=50;let D=!1,X=0,F=function(){for(let e in g){let t=g[e];t.y+=t.vy*it,t.x+=t.vx*it,t.vy+=.5*it,t.vx=p.linear(t.vx,0,.05,it),t.rotation+=t.vr/10*it,t.y>c.screen.height+200&&(t.destroy(),delete g[e])}z.matrix=[1-X,0,0,0,X,0,1-X,0,0,X,0,0,1-X,0,X,0,0,0,1,0],z.resolution=s,X=p.linear(X,0,.05,it),A<180&&A++,B.scale.x=window.eases.easeOutElastic(A,.9,-.15,180),B.scale.y=window.eases.easeOutElastic(A,.7,.05,180),D||(u.updateCounter(p.linear(u.getCounterAmount(),m,.1,it)),d.x=0,w>.01&&(d.x+=Math.cos(v)*w*5,v+=.5*it,w=p.linear(w,0,.1,it)),I.alpha>0&&(I.alpha-=.04))};c.ticker.add(F);let B=De(we.Teardrop,h.Teardrop),N=new PIXI.Rectangle(-60,-160,120,180);B.hitArea=N,B.interactive=!0,B.on("pointerup",(function(){n.totalSlaps++,2763==n.totalSlaps&&(qe.achievementQueue("slapTD2763"),Z());let e=1+Math.floor(4*Math.random());ve.wave.stop(),n.sfx&&(ve["slap"+e].attack=0,ve["slap"+e].stop(),ve["slap"+e].play()),B.gotoPart("Slap"),B.currentPart=-1})),B.onAnimationEnd=function(){B.currentPart=-1},i.sleep<20&&(B.visible=!1),B.scale.x=.8,B.scale.y=.8,y[n.costume].apply(B),e.addChild(B),B.x=c.screen.width/2,B.y=c.screen.height/2+250,B.play(60),B.gotoPart("Look");let z=new PIXI.ColorMatrixFilter;function G(){O.visible=!0;for(let e=0;e<Ue.length;e++)clearInterval(Ue[e]);for(let e in g)null!=g[e].destroy&&g[e].destroy(),delete g[e];I.destroy(),T.destroy(),l.destroy();for(let e=0;e<S.length;e++)S[e].destroyed||S[e].destroy();u.destroyCounter(),null!=B.destroyCostume&&(B.destroyCostume(),B.destroyCostume=void 0),B.destroyAnimation(),c.ticker.remove(F),c.ticker.remove(Y);for(let e=0;e<P.length;e++)P[e].destroyPage();R.destroy(),j.destroy(),W.destroy(),D=!0}z.matrix=[0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,1,0],B.filters.push(z),e.addChild(I);let R=a("CATEGORY",24,"center");R.x=c.screen.width/2,R.y=100,e.addChild(R);let _=!1;function U(){if(R.text=f[k].name,j.sprite.visible=!0,W.sprite.visible=!0,0==k&&(j.sprite.visible=!1),k==f.length-1&&(W.sprite.visible=!1),V=0,f[k].amaze)if(-1==B.currentPart){if(_)return;B.gotoPart("Look3"),_=!0}else B.onAnimationEnd=function(){_||(B.gotoPart("Look3"),_=!0)}}let j=new L((function(){$(1),k--,U(),M(k)}),xe["Sprites/GameUI"][51],{x:R.x-120,y:R.y+2,scale:{x:.5,y:.5}});e.addChild(j.sprite);let W=new L((function(){$(-1),k++,U(),M(k)}),xe["Sprites/GameUI"][52],{x:R.x+120,y:R.y+2,scale:{x:.5,y:.5}});e.addChild(W.sprite);let V=0;U(),V=30;let Y=function(){let e=Q;for(let t in q){let i=eases.easeOutCubic(Math.min(50,q[t].time),0,1,50),n=eases.easeInOutQuad(Math.min(50,50*i),0,q[t].direction,50)*K;e+=n,q[t].time+=it,q[t].time>50&&(Q+=n,delete q[t])}R.y=eases.easeOutBack(Math.min(25,V),95,5,25),V+=it,b.x=e},Q=0,K=c.screen.width,q={},J=0;function $(e){q[J]={direction:e,time:0},J++}return M(0),c.ticker.add(Y),e},achievements:function(e=new PIXI.Container,t=function(){}){qe.initializeScreenResolution(e),O.visible=!1;let i=new PIXI.Sprite(xe["Sprites/Rooms"][18]);e.addChild(i),i.interactive=!0,i.x=c.screen.width/2,i.y=c.screen.height/2,i.anchor.set(.5,.5),i.scale.x=1,i.scale.y=1;let r=new PIXI.Container;e.addChild(r);let l={},d=0,h=0,u=[],m=0;for(let e in H)H[e].done&&m++;let y=new PIXI.BitmapText(o.ui.achievements+": "+m+"/"+Object.keys(H).length,{fontSize:32,fontName:"arial"});y.x=40,y.y=20,y.width>c.screen.width-130&&(y.width=c.screen.width-130,y.scale.y=y.scale.x),e.addChild(y);let f=a("",32,"center");f.x=c.screen.width/2,f.y=c.screen.height-150,n.costume;let g=new PIXI.Container,x=new PIXI.Graphics;g.mask=x,e.addChild(g),g.x=40,g.y=80;let w=c.screen.width-80,v=c.screen.height-80;x.beginFill(0),x.drawRect(g.x,g.y,w,v),x.endFill(),g.interactive=!0,g.on("pointerdown",(function(e){let t=e.clientY/s;g.dragOffset={y:t-g.y},g.prevY=g.y,g.vy=0,g.scrolling=!0}));let S=function(e){if(!g.scrolling)return;g.wheel=!1;let t=e.clientY/s;g.prevY=g.y,g.y=t-g.dragOffset.y},I=function(e){g.wheel=!0,g.vy=p.linear(g.vy,-e.deltaY/2*it,.25),g.vy>40*it&&(g.vy=40*it),g.vy<-40*it&&(g.vy=-40*it)};document.addEventListener("wheel",I);let C=function(){g.scrolling=!1};document.addEventListener("pointermove",S),document.addEventListener("pointerup",C),g.vy=0;let b=function(){let e=80-k-50+v;g.vy=p.linear(g.vy,0,g.wheel?.1:.05,it),g.scrolling?g.vy=g.y-g.prevY:g.y+=g.vy,P.targetAlpha=1,g.y>=80&&(g.y=80,g.vy=0),g.y<=e&&(P.targetAlpha=0,g.y=e,g.vy=0),P.alpha=p.linear(P.alpha,P.targetAlpha,.1,it)};c.ticker.add(b);let P=new PIXI.Sprite(xe["Sprites/Rooms"][11]);P.x=g.x,P.y=g.y+v-90,P.width=w,P.height=100;let k=0;for(let e in H){let t=H[e];if(t.secret&&!t.done)continue;let i=new PIXI.NineSlicePlane(xe.inputNineSlice[2]);i.width=w,i.x=0,i.y=k,g.addChild(i);let n=new PIXI.BitmapText(t.title,{fontName:"ShagBlack",fontSize:24});i.height=n.height+50,n.anchor.set(0,.5),n.x=80,n.y=20,i.addChild(n);let o=new PIXI.BitmapText(t.description,{fontName:"ShagBlack",fontSize:16,breakWords:!0,wordWrap:!0,wordWrapWidth:200,maxWidth:i.width-140,whiteSpace:"normal"});o.anchor.set(0,0),i.height+=o.height,o.anchor.set(0,.5),o.x=80,o.y=35+o.height/2,i.addChild(o),null==t.icon&&(t.icon=11);let r=xe["Sprites/GameUI"][t.icon],s=new PIXI.Sprite(r);i.addChild(s),s.anchor.set(.5,.5),s.y=i.height/2-5,s.x=40,s.scale.x=.5,s.scale.y=.5,u.push(i);let l=t.done?26:25,d=new PIXI.Sprite(xe["Sprites/GameUI"][l]);if(d.anchor.set(.5,.5),i.addChild(d),d.x=w-40,d.y=i.height/2-5,null!=t.getProgress){let e=a(t.getProgress(),12,"center",void 0,1);e.x=w-40,e.y=d.y+25,i.addChild(e)}k+=i.height+4}u.push(y);let M=qe.exitButton((function(){t(),qe.flash(e,!1,E)}),c.screen.width-40,40,.4,0);e.addChild(M.sprite),r.origX=0,r.time=50;let T=!1,A=function(){T||(r.x=0,d>.01&&(r.x+=Math.cos(h)*d*5,h+=.5*it,d=p.linear(d,0,.1,it)),f.alpha>0&&(f.alpha-=.04))};function E(){O.visible=!0,c.ticker.remove(b),document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",C),document.removeEventListener("wheel",I);for(let e in l)null!=l[e].destroy&&l[e].destroy(),delete l[e];f.destroy(),M.destroy(),i.destroy();for(let e=0;e<u.length;e++)u[e].destroyed||u[e].destroy();c.ticker.remove(A),T=!0,window.removeEventListener("resize",L)}c.ticker.add(A),e.addChild(f),u.push(P),u.push(g),u.push(x);let L=function(){qe.resizing((function(){E(),qe.achievements(e,t)}))};return window.addEventListener("resize",L),e},settings:Re,cargame:function(){let e=new PIXI.TilingSprite(xe["Sprites/RepeatingUI"][0]);c.stage.addChild(e),e.interactive=!0,e.x=0,e.y=0,e.width=c.screen.width,e.height=c.screen.height,e.clampMargin=1;let t=0,i=!1;window.onblur=function(){i||f()};let a=new PIXI.Container;c.stage.addChild(a),a.pivot.x=-c.screen.width/2,a.pivot.y=-c.screen.height/2;let o=Matter.Engine.create(),r={},s=!1;document.addEventListener("keydown",(function(e){let t=e.key.toLowerCase();"ArrowLeft"==e.key&&(t="a"),"ArrowRight"==e.key&&(t="d"),"ArrowUp"==e.key&&(t=" "),"w"==e.key&&(t=" "),r[t]=!0,["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"," "].includes(e.key)&&e.preventDefault()})),document.addEventListener("keyup",(function(e){let t=e.key.toLowerCase();"ArrowLeft"==e.key&&(t="a"),"ArrowRight"==e.key&&(t="d"),"ArrowUp"==e.key&&(t=" "),"w"==e.key&&(t=" "),r[t]=!1})),document.addEventListener("pointerdown",(function(){s=!0})),document.addEventListener("pointerup",(function(){s=!1}));let l=[],d=[],h={box:Matter.Bodies.rectangle(0,-400,100,100),sprite:function(){let e=new PIXI.NineSlicePlane(xe.inputNineSlice[5],15,15,15,15);return e.width=100,e.height=100,a.addChild(e),e.pivot.x=50,e.pivot.y=50,e}()};l.push(h),d.push(h.box);for(let e=0;e<500;e++){let t={},i=.1+Math.random()/2,n=Matter.Bodies.polygon(400*(Math.random()-.5),-300-100*e,16,48*i);t.box=n;let o=new PIXI.Sprite(xe["Sprites/GameUI"][Math.round(6*Math.random())]);o.scale.x=i,o.scale.y=i,o.anchor.set(.5,.5),a.addChild(o),t.sprite=o,l.push(t),d.push(n),t.sprite.tint=16777215*Math.random()}let u=Matter.Bodies.rectangle(0,200,16e3,120,{isStatic:!0});Matter.Composite.add(o.world,[u,...d]);let m=De(we.faceMinigame);a.addChild(m);let y=function(t){for(let e=0;e<l.length;e++){let t=l[e].sprite,i=l[e].box;t.rotation=i.angle,t.x=i.position.x,t.y=i.position.y}r.a&&Matter.Body.setAngularVelocity(h.box,h.box.angularVelocity-.01*it),r[" "]&&null!=Matter.Collision.collides(u,h.box)&&Matter.Body.setVelocity(h.box,{x:h.box.velocity.x,y:h.box.velocity.y-20}),r.d&&Matter.Body.setAngularVelocity(h.box,h.box.angularVelocity+.01*it),m.x=h.sprite.x,m.y=h.sprite.y,m.rotation=h.sprite.rotation,a.x=p.linear(a.x,-l[0].sprite.x,.05,it),e.tilePosition.x=a.x/2,Matter.Engine.update(o,t*(1e3/60))};function f(){i=!i,g.changePause(i),i?(t=-Date.now(),n.inGame=!1,c.ticker.remove(y),qe.message("Game paused",xe["Sprites/GameUI"][32],(function(){f()}),(function(){qe.blurPan(c.stage,(function(){!function(){g.destroyPause(),Matter.World.clear(o.world),Matter.Engine.clear(o);for(let e=0;e<l.length;e++)l[e].sprite.destroy();m.destroyAnimation(),e.destroy()}(),qe.gameList(),qe.results(0,0,"what","what")}))}),["Play","Home"],!1)):(n.inGame=!0,c.ticker.add(y))}m.gotoAndStop(Math.floor(100*Math.random())),h.sprite.visible=!1,c.ticker.add(y);let g=qe.pauseButton((function(){f()}),.4);c.stage.addChild(g),g.x=c.screen.width-40,g.y=40},cargame2:function(){let e=new PIXI.TilingSprite(xe["Sprites/RepeatingUI"][0]);c.stage.addChild(e),e.interactive=!0,e.x=0,e.y=0,e.width=c.screen.width,e.height=c.screen.height,e.clampMargin=1;let t=0,i=!1;window.onblur=function(){i||f()};let a=new PIXI.Container;c.stage.addChild(a),a.pivot.x=-c.screen.width/2,a.pivot.y=-c.screen.height/2;let o=Matter.Engine.create(),r={},s=!1;document.addEventListener("keydown",(function(e){let t=e.key.toLowerCase();"ArrowLeft"==e.key&&(t="a"),"ArrowRight"==e.key&&(t="d"),"ArrowUp"==e.key&&(t=" "),"w"==e.key&&(t=" "),r[t]=!0,["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"," "].includes(e.key)&&e.preventDefault()})),document.addEventListener("keyup",(function(e){let t=e.key.toLowerCase();"ArrowLeft"==e.key&&(t="a"),"ArrowRight"==e.key&&(t="d"),"ArrowUp"==e.key&&(t=" "),"w"==e.key&&(t=" "),r[t]=!1})),document.addEventListener("pointerdown",(function(){s=!0})),document.addEventListener("pointerup",(function(){s=!1}));let l=[],d=[],h={box:Matter.Bodies.rectangle(0,-400,100,100),sprite:function(){let e=new PIXI.NineSlicePlane(xe.inputNineSlice[5],15,15,15,15);return e.width=100,e.height=100,a.addChild(e),e.pivot.x=50,e.pivot.y=50,e}()};l.push(h),d.push(h.box);for(let e=0;e<500;e++){let t={},i=.1+Math.random()/2,n=Matter.Bodies.polygon(400*(Math.random()-.5),-300-100*e,16,48*i);t.box=n;let o=new PIXI.Sprite(xe["Sprites/GameUI"][Math.round(6*Math.random())]);o.scale.x=i,o.scale.y=i,o.anchor.set(.5,.5),a.addChild(o),t.sprite=o,l.push(t),d.push(n),t.sprite.tint=16777215*Math.random()}let u=Matter.Bodies.rectangle(0,200,16e3,120,{isStatic:!0});Matter.Composite.add(o.world,[u,...d]);let m=De(we.faceMinigame);a.addChild(m);let y=function(t){for(let e=0;e<l.length;e++){let t=l[e].sprite,i=l[e].box;t.rotation=i.angle,t.x=i.position.x,t.y=i.position.y}r.a&&Matter.Body.setAngularVelocity(h.box,h.box.angularVelocity-.01*it),r[" "]&&null!=Matter.Collision.collides(u,h.box)&&Matter.Body.setVelocity(h.box,{x:h.box.velocity.x,y:h.box.velocity.y-20}),r.d&&Matter.Body.setAngularVelocity(h.box,h.box.angularVelocity+.01*it),m.x=h.sprite.x,m.y=h.sprite.y,m.rotation=h.sprite.rotation,a.x=p.linear(a.x,-l[0].sprite.x,.05,it),e.tilePosition.x=a.x/2,Matter.Engine.update(o,t*(1e3/60))};function f(){i=!i,g.changePause(i),i?(t=-Date.now(),n.inGame=!1,c.ticker.remove(y),qe.message("Game paused",xe["Sprites/GameUI"][32],(function(){f()}),(function(){qe.blurPan(c.stage,(function(){!function(){g.destroyPause(),Matter.World.clear(o.world),Matter.Engine.clear(o);for(let e=0;e<l.length;e++)l[e].sprite.destroy();m.destroyAnimation(),e.destroy()}(),qe.gameList(),qe.results(0,0,"what","what")}))}),["Play","Home"],!1)):(n.inGame=!0,c.ticker.add(y))}m.gotoAndStop(Math.floor(100*Math.random())),h.sprite.visible=!1,c.ticker.add(y);let g=qe.pauseButton((function(){f()}),.4);c.stage.addChild(g),g.x=c.screen.width-40,g.y=40},crashHandler:function(e,t=-1){let i="Unknown";e.message.includes("(reading 'off')")&&(i="ERR_PIXI_DESTROYOBJECT"),e.message.includes("(reading 'stop')")&&(i="ERR_PIZZICATO_FAILURETOSTOPAUDIO"),e.message.includes("(reading 'buffer')")&&(i="ERR_PIZZICATO_AUDIOBUFFER"),e.message.includes("getRawSourceNode")&&(i="ERR_PIZZICATO_NOTLOADED"),e.message.includes("(setting 'x')")&&(i="ERR_FOODSYSTEM_FAILURETOSETPOSITION"),-1!=t&&(i=t);const n=new PIXI.Application({background:"#000011",width:c.screen.width,height:c.screen.height,resolution:s*window.devicePixelRatio});document.body.appendChild(n.view);let r=new PIXI.Sprite(xe["Sprites/GameThumbnails"][4]);r.x=n.screen.width/2,r.y=n.screen.height/2-100,r.scale.x=.5,r.scale.y=.5,r.anchor.set(.5,.5),n.stage.addChild(r);let l=a(o.crashHandler.whoops,16,"center");l.x=c.screen.width/2,l.y=c.screen.height/2-200,n.stage.addChild(l);let d=a(i,16,"center");d.x=c.screen.width/2,d.y=c.screen.height/2+175,n.stage.addChild(d);let h=a(o.crashHandler.description,16,"center");h.x=c.screen.width/2,h.y=c.screen.height/2-30,h.anchor.set(.5,0),n.stage.addChild(h);let p=new E((function(){!function(){d.destroy(),h.destroy(),p.destroy(),u.destroy(),m.destroy(),n.destroy(!0);for(let e in ve)ve[e].volume=ve[e].defaultVolume}()}),c.screen.width/2-80,c.screen.height/2+100,150,30,o.ui.continue,0,.5,.5,1,"center");n.stage.addChild(p.element);let u=new E((function(){window.location=window.location,setTimeout((function(){u.inputText.text="Couldn't reload",u.inputText.scale.set(.9,.9)}),100)}),c.screen.width/2+80,c.screen.height/2+100,150,30,o.ui.reload,0,.5,.5,1,"center");n.stage.addChild(u.element);let m=new E((async function(){1==await Oe(JSON.stringify({message:e.message,lineno:e.lineno,colno:e.colno}))&&(m.inputText.text="Copied",m.element.resetSize(),m.element.interactive=!1,m.element.texture=xe.inputNineSlice[9])}),c.screen.width/2,c.screen.height/2+100+40,310,30,o.crashHandler.copyErrorText,0,.5,.5,1,"center");n.stage.addChild(m.element);for(let e in ve)ve[e].defaultVolume=ve[e].volume,ve[e].volume=0},debugMenu:function(e=function(){}){let t=new PIXI.Sprite(xe["Sprites/Rooms"][15]);t.tint=6737151,c.stage.addChild(t),t.interactive=!0,t.x=c.screen.width/2,t.y=c.screen.height/2,t.anchor.set(.5,.5),t.scale.x=1,t.scale.y=1;let i="Home";onkeyup=function(e){"k"==e.key&&n()};let n=function(){let e=o[i].container;e.container.zIndex=5,o[i].container.icon.zIndex=2,setTimeout((function(){y(o[i].container.icon,"alpha",1,.5,.5)}),150),y(e.container.pivot,"x",0,.3,.1),y(e.container.pivot,"y",0,.3,.1),y(e.container.scale,"x",1,.5,.15),y(e.container.scale,"y",1,.5,.15),y(e.container,"x",e.container.appPosition.x,.4,.25),y(e.container,"y",e.container.appPosition.y,.5,.2),y(e.graphics,"extension",0,.2,.1),y(e.graphics,"round",s/5,.5,.1),o[i].container.icon.interactive=!0},o={gtttatint:{icon:0,name:"GTTTATINT101",app:function(){return qe.gameList(void 0,"gtttatint",!0)}},tennis:{icon:1,name:"Tennis",app:function(){return qe.gameList(void 0,"tennis",!0)}},match:{icon:2,name:"Face Match",app:function(){return qe.gameList(void 0,"match",!0)}},cakewalk:{icon:3,name:"CAKEWALK",app:function(){return qe.gameList(void 0,"cakewalk",!0)}},oddDroplets:{icon:4,name:"Odd Droplets",app:function(){return qe.gameList(void 0,"oddDroplets",!0)}},dropletDodge:{icon:5,name:"Dodge",app:function(){return qe.gameList(void 0,"dropdodge",!0)}},settings:{icon:6,name:"Settings",app:qe.settings},myTeardrop:{icon:7,name:"myTeardrop",app:qe.myTeardrop},achievements:{icon:8,name:"Achievements",app:qe.achievements},wardrobe:{icon:9,name:"Wardrobe",app:qe.wardrobe},games:{icon:10,name:"Games",app:qe.gameList}},r=4,s=65,l=s+18,d=s+35,h=0;s/=p.linear(window.devicePixelRatio-1,1,.85),l/=p.linear(window.devicePixelRatio-1,1,.9),c.screen.width>=640&&(r=6,s=60,l+=20),c.stage.sortableChildren=!0;for(let e in o){let t=o[e],n=new PIXI.Container;n.zIndex=0,n.sortableChildren=!0,c.stage.addChild(n);let p=new PIXI.Graphics;p.beginFill(16777215),p.drawRoundedRect(0,0,s,s,s/5),p.endFill();let u=new PIXI.NineSlicePlane(xe.Icons[t.icon],252,252,4,4);u.width=s,u.height=s,n.x=c.screen.width/2+h%r*l-l*(r-1)/2-s/2,n.y=c.screen.height/2+Math.floor(h/r)*d-4*d/2-40-s/2,n.appPosition={x:n.x,y:n.y},n.addChild(u),u.interactive=!0,n.addChild(p),u.mask=p;let m={};p.extension=0,p.round=s/5,P(u,(function(){if(null==o[e].container.app){if(null!=t.app){let e=new PIXI.Container;m=t.app(e)}else m=Ke();o[e].container.app=m}u.tint=16777215,n.zIndex=100,n.x+=(s/2-n.pivot.x)*n.scale.y,n.y+=(s/2-n.pivot.x)*n.scale.y,n.pivot.x=s/2,n.pivot.y=s/2,y(n.pivot,"x",s/2,1,1),y(n.pivot,"y",s/2,1,1),y(n,"x",c.screen.width/2,.35,.15),y(n,"y",c.screen.height/2,.35,.125),y(g,"alpha",.5,.5,.1),g.interactive=!0,y(n.scale,"x",c.screen.width/s/(c.screen.width/m.screen.width)*.9,.3,.125),y(n.scale,"y",c.screen.width/s/(c.screen.width/m.screen.width)*.9,.3,.125),g.onDrag=function(){y(n,"x",g.x2,.4,.3),y(n,"y",g.y2-(-(s/2+p.extension/2)*n.scale.x+10),.4,.3)},y(u,"height",2*s,.3,.125),y(u,"width",s,.3,.125),y(p,"round",.5,.4,.1),y(p,"extension",s*(m.screen.height/m.screen.width)-s,.3,.1),f((function(){p.clear(),p.beginFill(16777215),p.drawRoundedRect(0,-p.extension/2,s,s+p.extension,p.round),p.endFill(),u.y=-p.extension/2,m.y=u.y,n.originalHitArea=new PIXI.Rectangle(0,-p.extension/2,s,s),n.dragged||(n.hitArea=n.originalHitArea),g.x=n.x,g.y=n.y-(s/2+p.extension/2)*n.scale.x+10}),p),setTimeout((function(){i=e,m.mask=p,n.addChild(m),m.scale.x=s/m.screen.width,m.scale.y=m.scale.x,u.zIndex=10,u.interactive=!1,y(u,"alpha",0,.5,.5)}),100)}),!1);let g=new PIXI.Sprite(xe["Sprites/GameUI"][65]);g.anchor.set(.5,.5),g.x=n.x,g.y=n.y,g.scale.x=.3,g.scale.y=.3,g.alpha=0,c.stage.addChild(g),k(g,new PIXI.Rectangle(-100,-15,200,30),!0),g.zIndex=100,o[e].container={container:n,icon:u,graphics:p,windowDrag:g},u.on("pointerdown",(function(){u.tint=13421772})),u.on("pointerout",(function(){u.tint=16777215}));let x=a(t.name,16,"center","center",1);x.x=n.x+s/2,x.y=n.y+s+12;for(let e=0;e<20;e++)x.width>s+10&&(x.letterSpacing-=1);c.stage.addChild(x),h++}let u={},m=0,y=function(e,t,i,n=.5,a=.1,o=1){if(null!=e[t+"_animationId"]){let r=u[e[t+"_animationId"]];return r.stiffness=n,r.to=i,r.speed=a,void(r.globalSpeed=o)}e[t+"_animationId"]=m,console.log("new animation!");let r={velocity:0,to:i,stiffness:n,speed:a,globalSpeed:o,frame:function(){r.velocity=p.linear(r.velocity,r.to-e[t],r.stiffness,r.globalSpeed),e[t]=e[t]+r.velocity*r.speed*r.globalSpeed},id:m};u[m++]=r},f=function(e,t){if(null!=t.motionId)return;t.motionId=m;let i={frame:e,id:m};u[m++]=i};c.ticker.add((function(){for(let e in u)u[e].frame()}))},launch:function(e,t=c.stage){let i=e();return t.addChild(i),i},popup:function(e,t,i,n=function(){},a=-1,o,r=!0,s=1,l=!0,d=.5){let h=!1;"string"==typeof e&&(e=c.stage,n=function(){},a=-1,h=!0);let p=qe.blackTint(e,.2,r);p.start();let u=new PIXI.NineSlicePlane(xe.inputNineSlice[2]);u.destroyable=[],u.screen={width:t,height:i},h&&(u.zIndex=20),u.width=t,u.height=i,u.x=c.screen.width/2,u.y=c.screen.height/2,e.addChild(u);let m=0;-1!=a&&(u.height+=40),u.pivot.set(u.width/2,u.height/2);let y,f,g,x=Math.random()-.5,w=function(){u.closing||(S.x=u.x,S.y=u.y,S.rotation=u.rotation,S.scale=u.scale,u.closing=!0,m=0)};-1==a?(y=qe.exitButton(w,u.width-20,20,.3,.1),y.sprite.alpha=0,u.addChild(y.sprite),y.interactive=!1,y.show=!1,0==l&&(y.sprite.interactive=!1),setTimeout((function(){0!=l&&(y.show=!0,y.sprite.interactive=!0)}),1e3*d)):(f=new E((function(){v=0,w()}),15,u.height-15,u.width/2-20,30,o[0],0,0,1,1,"center"),u.addChild(f.element),g=new E((function(){n=a,w()}),u.width-15,u.height-15,u.width/2-20,30,o[1],0,1,1,1,"center"),u.addChild(g.element));let v=0,S={x:c.screen.width/2,y:c.screen.height/2,rotation:x,scale:.5};u.onDestroyed=function(){},u.destroyBook=function(){u.onDestroyed(),c.ticker.remove(I),-1==a?y.destroy():(f.destroy(),g.destroy());for(let e=0;e<u.destroyable.length;e++)u.destroyable[e].destroy();u.destroy({children:!0}),n()};let I=function(){if(-1==a&&(y.show&&(y.sprite.alpha+=.05),y.sprite.alpha>=1&&(y.sprite.alpha=1,y.show=!1)),u.closing){if(u.y=ease[16](Math.min(40,m),S.y,-S.y+c.screen.height+500,40),u.rotation=ease[1](Math.min(70,m),S.rotation,x,70),m>40)return p.end(),void u.destroyBook()}else u.x=ease[17](Math.min(80,m),S.x,0,80),u.y=ease[8](Math.min(70,m),S.y,-20,70),u.rotation=window.eases.easeOutElastic(Math.min(100,m),S.rotation,-x,100),u.scale.x=window.eases.easeOutElastic(Math.min(90,m),S.scale,.5,90);u.scale.y=u.scale.x,m+=it};return c.ticker.add(I),u.exit=w,u},syncSave:function(){if(0==J.loggedIn||0==J.sync)return qe.myTeardrop();let e=new PIXI.Container,t=new PIXI.Sprite(xe["Sprites/Rooms"][14]);e.addChild(t),t.interactive=!0,t.x=c.screen.width/2,t.y=c.screen.height/2,t.anchor.set(.5,.5),Math.random();let i=["Syncing progress! Tap to skip."],o=a(i[Math.floor(Math.random()*i.length)],24,"left",void 0,1);o.x=20,o.y=c.screen.height-20,o.width>c.screen.width-100&&(o.width=c.screen.width-100,o.scale.y=o.scale.x),o.anchor.set(0,1),e.addChild(o);let r=De(we.loading);r.x=c.screen.width-40,r.y=c.screen.height-40,r.scale.x=.75,r.scale.y=.75,r.alpha=.5,o.alpha=.5,r.play(),r.loop=!0,e.addChild(r);let s=new FormData;return s.append("username",J.username),s.append("password",J.password),s.append("date","true"),fetch(n.dropletsOnline+"getSyncSave.php",{method:"POST",body:s}).then((e=>e.text())).then((function(e){parseInt(e)>n.genuineLastLogin||0==n.skipIntro?(console.log("SYNCSAVE: server savefile is newer than local! syncing..."),function(){let e=new FormData;e.append("username",J.username),e.append("password",J.password),e.append("date","false"),fetch(n.dropletsOnline+"getSyncSave.php",{method:"POST",body:e}).then((e=>e.text())).then((function(e){console.log(e),localStorage.myTeardrop=e,te(e),r.destroyAnimation(),o.destroy(),t.destroy(),qe.launch(qe.myTeardrop)}))}()):(console.log("SYNCSAVE: server savefile is older than local. skipping sync! "+e+", "+n.genuineLastLogin),qe.launch(qe.myTeardrop))})),e},sync:function(){if(0==J.loggedIn)return;if(0==J.sync)return;if(n.syncing)return;console.log("syncing!");let e=a("Syncing...",16,"left");e.alpha=0,z(e,"alpha",.3,.2,.1),e.x=30,e.y=c.screen.height-30,c.stage.addChild(e),setTimeout((function(){z(e,"alpha",0,.2,.1),setTimeout((function(){e.destroy()}),500)}),2e3);let t=new FormData;t.append("username",J.username),t.append("password",J.password),t.append("myTeardrop",localStorage.myTeardrop),t.append("lastSync",n.genuineLastLogin),fetch(n.dropletsOnline+"syncSave.php",{method:"POST",body:t}).then((e=>e.text())).then((function(e){console.log("SYNCING: "+e)}))},resizing:function(e=function(){}){if(n.resizingTimer=60,n.resizing)return;n.resizing=!0;let t=qe.blackTint(c.stage,1,!1);t.start(10);let i=a("resizing!",24,"left");c.stage.addChild(i),i.x=30,i.y=c.screen.height;let o=function(){n.resizingTimer-=it,1!=i.destroyed&&(n.resizingTimer>10?i.y=p.linear(i.y,c.screen.height-40,.1,it):i.y=p.linear(i.y,c.screen.height,.3,it)),n.resizingTimer<=0&&(i.destroy(),t.end(20),n.resizing=!1,e(),c.ticker.remove(o))};c.ticker.add(o)},initializeScreenResolution(e,t=!1){(null==e.screen||t)&&(e.screen={width:c.screen.width,height:c.screen.height})},mintyAnimator:function(e=new PIXI.Container,t){qe.initializeScreenResolution(e),t=we.oddDroplets,console.log(t);let i=new PIXI.Sprite(xe["Sprites/Rooms"][15]);e.addChild(i),i.interactive=!0,i.x=c.screen.width/2,i.y=c.screen.height/2,i.anchor.set(.5,.5),i.scale.x=2,i.scale.y=2;let n=new PIXI.Graphics;e.addChild(n),n.lineStyle(1,0,1),n.drawRect(0,0,640,360),n.endFill(),n.x=c.screen.width/2-320,n.y=c.screen.height/2-180;let a=De(t);n.addChild(a);let o=new PIXI.NineSlicePlane(xe.inputNineSlice[25]);o.tint=3223857,o.x=0,o.y=c.screen.height-300,o.height=300,o.width=c.screen.width,e.addChild(o);let r=Object.keys(t.layers).length-1;for(let e in t.layers){let i=new PIXI.Container,n=0;for(let a=0;a<t.layers[e].frames.length;a++){let o=t.layers[e].frames[a],r=new PIXI.NineSlicePlane(xe.inputNineSlice[25],20,20,20,20);r.texture.baseTexture.scaleMode=PIXI.SCALE_MODES.NEAREST,r.tint=10066329,null==o[1]&&(r.tint=6579300),r.width=13*o[0],r.height=25,r.x=n,n+=r.width,r.width+=1,i.addChild(r);let s=new PIXI.Sprite(xe["Sprites/GameUI"][null==o[1]?93:91]);s.texture.baseTexture.scaleMode=PIXI.SCALE_MODES.NEAREST,s.tint=1184274,s.x=7.5,s.y=18,r.addChild(s),s.anchor.set(.5,.5);let l=new PIXI.Sprite(xe["Sprites/GameUI"][92]);l.tint=1184274,l.x=r.width-10,l.y=18,1!=t.layers[e].frames[a][0]&&r.addChild(l),l.anchor.set(.5,.5)}let a=new PIXI.TilingSprite(xe.inputNineSlice[26]);a.width=1e3,a.height=25,a.tileScale.x=.26,i.addChild(a),o.addChild(i),i.y=20+24*r,i.x=20,r--}return e}};let Je="1.4.5.8_yay!";null==localStorage.version&&(localStorage.version=Je);let Ze,$e=!0,et=!1,tt={costumes:{},foods:{}};PIXI.Assets.load("/discount.json?nocache="+Date.now()).then((e=>{tt=e})),PIXI.Assets.load("./latest.json?nocache="+Date.now()).then((e=>{e.latestVersion!=Je&&(et=!0,Ze=e.latestVersion),localStorage.version=e.latestVersion,$e=!1}));let it=2;/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),window.addEventListener("error",(function(e){setTimeout((function(){qe.crashHandler(e)}),100)}));let nt=!1;function at(){qe.setUpTints(),G(),PIXI.settings.MIPMAP_TEXTURES=PIXI.MIPMAP_MODES.OFF,"ontouchstart"in document.documentElement&&(c.touchScreen=!0,ontouchstart=function(e){e.returnValue=!1},ontouchend=function(e){e.returnValue=!1},ontouchmove=function(e){e.returnValue=!1},ontouchcancel=function(e){e.returnValue=!1}),window.book=qe.book,c.ticker.add((function(){it=c.ticker.deltaTime*n.gameSpeed;for(let e in C){let t=C[e];C[e].animate&&(t.animationTime+=it,t.scale.x=eases.easeOutBack(Math.min(24,t.animationTime),t.animationSize.x,t.destinationSize.x-t.animationSize.x,24),t.scale.y=eases.easeOutBack(Math.min(24,t.animationTime),t.animationSize.y,t.destinationSize.y-t.animationSize.y,24))}})),nt=!0;let e=function(){n.music&&ve.brittlerille.play(),ve.brittlerille.volume=.5,ve.brittlerille.pausing=!1,ve.brittlerille.attack=2,ve.brittlerille.release=3,ve.brittlerille.on("end",(function(){i.aprilFoolsDone||n.music&&ve.brittlerille.play()})),window.brittlerille=ve.brittlerille};0==ve.brittlerille.loaded?ve.brittlerille.onloadAudio=function(){e()}:e(),window.setFps=function(e){c.ticker.maxFPS=e},document.body.appendChild(c.view),n.limitResolution?c.view.classList.add("dropletCanvas"):c.view.classList.add("dropletCanvasDebug"),Qe.blendMode=PIXI.BLEND_MODES.SUBTRACT,Qe.interactive=!0,Ye.width=c.screen.width,Ye.height=c.screen.height,Qe.width=c.screen.width,Qe.height=c.screen.height,-1!=n.lollipopMode?(ve.brittlerille.pause(),qe.lollipop(),qe.gameList(c.stage,n.lollipopMode,!0)):qe.launch(qe.myTeardrop);let t="";onkeydown=function(e){t+=e.key,"bfdibfdiaidfbbfbtpot".includes(t.toLowerCase())&&t.toLowerCase().startsWith("b")?"bfdibfdiaidfbbfbtpot"==t&&(qe.intro(),t=""):"lollipop".includes(t.toLowerCase())&&t.toLowerCase().startsWith("l")?"lollipop"==t&&(qe.lollipop(),t=""):"seviye".includes(t.toLowerCase())&&t.toLowerCase().startsWith("s")?"seviye"==t&&(qe.levelUp(c.stage),t=""):t=""},et&&qe.updateWarning(),n.lastLogin=Date.now(),Z(),(Date.now()-n.gameStartDate)/1e3/60/60/24>.5&&!n.saveFileWarning&&setTimeout((function(){n.saveFileWarning=!0,qe.message(c.stage,"Your save file is over 2 days old now! Since this is a web game, there's a high chance of your browser removing the game data after 7 days of inactivity. To prevent this, regularly backup/download your save file!",-1,(function(){qe.flash(c.stage,!1,(function(){qe.launch(qe.settings)}))}),(function(){}),["Settings","Ignore"])}),500),ne.loadAttempts=0,se();let a=[];for(let e=0;e<f.length;e++){let t=!0;for(let i=0;i<f[e].items.length;i++)y[f[e].items[i]].limited?null!=tt[f[e].items[i]]&&tt[f[e].items[i]].expiry>Date.now()&&(t=!1):t=!1;t&&a.push(e)}a.reverse();for(let e=0;e<a.length;e++)f.splice(a[e],1)}Date.now()})();